!function(e){function t(e,t,r){return 4===arguments.length?i.apply(this,arguments):void n(e,{declarative:!0,deps:t,declare:r})}function i(e,t,i,r){n(e,{declarative:!1,deps:t,executingRequire:i,execute:r})}function n(e,t){t.name=e,e in M||(M[e]=t),t.normalizedDeps=t.deps}function r(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==w.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var i=0,n=e.normalizedDeps.length;n>i;i++){var o=e.normalizedDeps[i],s=M[o];if(s&&!s.evaluated){var a=e.groupIndex+(s.declarative!=e.declarative);if(void 0===s.groupIndex||s.groupIndex<a){if(void 0!==s.groupIndex&&(t[s.groupIndex].splice(w.call(t[s.groupIndex],s),1),0==t[s.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");s.groupIndex=a}r(s,t)}}}}function o(e){var t=M[e];t.groupIndex=0;var i=[];r(t,i);for(var n=!!t.declarative==i.length%2,o=i.length-1;o>=0;o--){for(var s=i[o],u=0;u<s.length;u++){var l=s[u];n?a(l):c(l)}n=!n}}function s(e){return p[e]||(p[e]={name:e,dependencies:[],exports:{},importers:[]})}function a(t){if(!t.module){var i=t.module=s(t.name),n=t.module.exports,r=t.declare.call(e,function(e,t){if(i.locked=!0,"object"==typeof e)for(var r in e)n[r]=e[r];else n[e]=t;for(var o=0,s=i.importers.length;s>o;o++){var a=i.importers[o];if(!a.locked)for(var u=0;u<a.dependencies.length;++u)a.dependencies[u]===i&&a.setters[u](n)}return i.locked=!1,t},{id:t.name});i.setters=r.setters,i.execute=r.execute;for(var o=0,u=t.normalizedDeps.length;u>o;o++){var c,l=t.normalizedDeps[o],f=M[l],h=p[l];h?c=h.exports:f&&!f.declarative?c=f.esModule:f?(a(f),h=f.module,c=h.exports):c=d(l),h&&h.importers?(h.importers.push(i),i.dependencies.push(h)):i.dependencies.push(null),i.setters[o]&&i.setters[o](c)}}}function u(e){var t,i=M[e];if(i)i.declarative?h(e,[]):i.evaluated||c(i),t=i.module.exports;else if(t=d(e),!t)throw new Error("Unable to load dependency "+e+".");return(!i||i.declarative)&&t&&t.__useDefault?t.default:t}function c(t){if(!t.module){var i={},n=t.module={exports:i,id:t.name};if(!t.executingRequire)for(var r=0,o=t.normalizedDeps.length;o>r;r++){var s=t.normalizedDeps[r],a=M[s];a&&c(a)}t.evaluated=!0;var f=t.execute.call(e,function(e){for(var i=0,n=t.deps.length;n>i;i++)if(t.deps[i]==e)return u(t.normalizedDeps[i]);throw new TypeError("Module "+e+" not declared as a dependency.")},i,n);void 0!==typeof f&&(n.exports=f),i=n.exports,i&&i.__esModule?t.esModule=i:t.esModule=l(i)}}function l(t){var i={};if(("object"==typeof t||"function"==typeof t)&&t!==e)if(g)for(var n in t)"default"!==n&&f(i,t,n);else{var r=t&&t.hasOwnProperty;for(var n in t)"default"===n||r&&!t.hasOwnProperty(n)||(i[n]=t[n])}return i.default=t,y(i,"__useDefault",{value:!0}),i}function f(e,t,i){try{var n;(n=Object.getOwnPropertyDescriptor(t,i))&&y(e,i,n)}catch(n){return e[i]=t[i],!1}}function h(t,i){var n=M[t];if(n&&!n.evaluated&&n.declarative){i.push(t);for(var r=0,o=n.normalizedDeps.length;o>r;r++){var s=n.normalizedDeps[r];-1==w.call(i,s)&&(M[s]?h(s,i):d(s))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function d(e){if(v[e])return v[e];if("@node/"==e.substr(0,6))return v[e]=l(A(e.substr(6)));var t=M[e];if(!t)throw"Module "+e+" not present.";return o(e),h(e,[]),M[e]=void 0,t.declarative&&y(t.module.exports,"__esModule",{value:!0}),v[e]=t.declarative?t.module.exports:t.esModule}var M={},w=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(e){g=!1}var y;!function(){try{Object.defineProperty({},"a",{})&&(y=Object.defineProperty)}catch(e){y=function(e,t,i){try{e[t]=i.value||i.get.call(e)}catch(e){}}}}();var p={},A="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,v={"@empty":{}};return function(e,n,r,o){return function(s){s(function(s){for(var a={_nodeRequire:A,register:t,registerDynamic:i,get:d,set:function(e,t){v[e]=t},newModule:function(e){return e}},u=0;u<n.length;u++)(function(e,t){t&&t.__esModule?v[e]=t:v[e]=l(t)})(n[u],arguments[u]);o(a);var c=d(e[0]);if(e.length>1)for(var u=1;u<e.length;u++)d(e[u]);return r?c.default:c})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function(e){var t=(this.require,this.exports),i=this.module;!function(t){function i(e,t){e=e.replace(a,"");var i=e.match(l),n=(i[1].split(",")[t]||"require").replace(f,""),r=h[n]||(h[n]=new RegExp(u+n+c,"g"));r.lastIndex=0;for(var o,s=[];o=r.exec(e);)s.push(o[2]||o[3]);return s}function n(e,t,i,r){if("object"==typeof e&&!(e instanceof Array))return n.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof t&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var s=o.get(e);return s.__useDefault?s.default:s}throw new TypeError("Invalid require")}for(var a=[],u=0;u<e.length;u++)a.push(o.import(e[u],r));Promise.all(a).then(function(e){t&&t.apply(null,e)},i)}function r(e,r,a){"string"!=typeof e&&(a=r,r=e,e=null),r instanceof Array||(a=r,r=["require","exports","module"].splice(0,a.length)),"function"!=typeof a&&(a=function(e){return function(){return e}}(a)),void 0===r[r.length-1]&&r.pop();var u,c,l;-1!=(u=s.call(r,"require"))&&(r.splice(u,1),e||(r=r.concat(i(a.toString(),u)))),-1!=(c=s.call(r,"exports"))&&r.splice(c,1),-1!=(l=s.call(r,"module"))&&r.splice(l,1);var f={name:e,deps:r,execute:function(e,i,s){for(var f=[],h=0;h<r.length;h++)f.push(e(r[h]));s.uri=s.id,s.config=function(){},-1!=l&&f.splice(l,0,s),-1!=c&&f.splice(c,0,i),-1!=u&&f.splice(u,0,function(t,i,r){return"string"==typeof t&&"function"!=typeof i?e(t):n.call(o,t,i,r,s.id)});var d=a.apply(-1==c?t:i,f);return"undefined"==typeof d&&s&&(d=s.exports),"undefined"!=typeof d?d:void 0}};if(e)d.anonDefine||d.isBundle?d.anonDefine&&d.anonDefine.name&&(d.anonDefine=null):d.anonDefine=f,d.isBundle=!0,o.registerDynamic(f.name,f.deps,!1,f.execute);else{if(d.anonDefine&&!d.anonDefine.name)throw new Error("Multiple anonymous defines in module "+e);d.anonDefine=f}}var o=e,s=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},a=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,u="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",c="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",l=/\(([^\)]*)\)/,f=/^\s+|\s+$/g,h={};r.amd={};var d={isBundle:!1,anonDefine:null};o.amdDefine=r,o.amdRequire=n}("undefined"!=typeof self?self:global),function(){var t=e.amdDefine;t("2",["exports","3"],function(e,t){"use strict";Number.isNaN=Number.isNaN||function(e){return e!==e},Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var n=i.indexOf(e,t);return n!==-1&&n===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},i=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},n=Math.pow(2,53)-1,r=function(e){var t=i(e);return Math.min(Math.max(t,0),n)};return function(e){var i=this,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,u=r(n.length),c=t(i)?Object(new i(u)):new Array(u),l=0;l<u;)a=n[l],s?c[l]="undefined"==typeof o?s(a,l):s.call(o,a,l):c[l]=a,l+=1;return c.length=u,c}}()),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return t}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return o;return-1}),Array.prototype.includes||(Array.prototype.includes=function(e){var t=Object(this),i=parseInt(t.length)||0;if(0===i)return!1;var n,r=parseInt(arguments[1])||0;r>=0?n=r:(n=i+r,n<0&&(n=0));for(var o;n<i;){if(o=t[n],e===o||e!==e&&o!==o)return!0;n++}return!1}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}),function(e){function t(e,t){function n(e){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,void(e&&i.call(this,e))):new n(e)}return t||A(e,"size",{get:g}),e.constructor=n,n.prototype=e,n}function i(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function n(e){return this.has(e)&&(this._keys.splice(p,1),this._values.splice(p,1),this._itp.forEach(function(e){p<e[0]&&e[0]--})),-1<p}function r(e){return this.has(e)?this._values[p]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(p=e.length;p--&&!v(e[p],t););else p=e.indexOf(t);return-1<p}function s(e){return o.call(this,this._values,e)}function a(e){return o.call(this,this._keys,e)}function u(e,t){return this.has(e)?this._values[p]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function l(){(this._keys||0).length=this._values.length=0}function f(){return w(this._itp,this._keys)}function h(){return w(this._itp,this._values)}function d(){return w(this._itp,this._keys,this._values)}function M(){return w(this._itp,this._values,this._values)}function w(e,t,i){var n=[0],r=!1;return e.push(n),{next:function(){var o,s=n[0];return!r&&s<t.length?(o=i?[t[s],i[s]]:t[s],n[0]++):(r=!0,e.splice(e.indexOf(n),1)),{done:r,value:o}}}}function g(){return this._values.length}function y(e,t){for(var i=this.entries();;){var n=i.next();if(n.done)break;e.call(t,n.value[1],n.value[0],this)}}var p=void 0,A=Object.defineProperty,v=function(e,t){return e===t||e!==e&&t!==t};"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:n,has:a,get:r,set:u,keys:f,values:h,entries:d,forEach:y,clear:l})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:s,add:c,delete:n,clear:l,keys:h,values:h,entries:M,forEach:y}))}(t.PLATFORM.global);var i=Object.freeze({}),n="__metadata__",r=Function.prototype.bind;"undefined"==typeof t.PLATFORM.global.Reflect&&(t.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(e,t,r){return((t[n]||i)[r]||i)[e]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,t,i,r){var o=i.hasOwnProperty(n)?i[n]:i[n]={},s=o[r]||(o[r]={});s[e]=t}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(e,t){return function(i,n){Reflect.defineMetadata(e,t,i,n)}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,t){if(t)switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(r.apply(e,i))})})}(),e.register("3",[],function(e,t){"use strict";function i(e,t,i){if(t){if(t.innerError&&i)return t;var n="\n------------------------------------------------\n";e+=n+"Inner Error:\n","string"==typeof t?e+="Message: "+t:(e+=t.message?"Message: "+t.message:"Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  "),t.stack&&(e+="\nInner Error Stack:\n"+t.stack,e+="\nEnd Inner Error Stack")),e+=n}var r=new Error(e);return t&&(r.innerError=t),r}function n(e){"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){for(var i=Object.getOwnPropertyDescriptor(e,t),n=Object.getPrototypeOf(e);"undefined"==typeof i&&null!==n;)i=Object.getOwnPropertyDescriptor(n,t),n=Object.getPrototypeOf(n);return i}),e(o,r,s)}var r,o,s;return{setters:[],execute:function(){e("FEATURE",r={}),e("PLATFORM",o={noop:function(){},eachModule:function(){}}),o.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")()}(),e("DOM",s={}),e("AggregateError",i),e("FEATURE",r),e("PLATFORM",o),e("DOM",s),e("initializePAL",n)}}}),function(){var t=e.amdDefine;t("4",["5","6","7","8"],function(e,t,i,n){"use strict";function r(e,t){this._callback=void 0,this._isConstant=void 0,this._definitionChanged=new n,this.setCallback(e,t)}return t(r.prototype,{isConstant:{get:function(){return this._isConstant}},definitionChanged:{get:function(){return this._definitionChanged}}}),r.prototype.getValue=function(e,t){return this._callback(e,t)},r.prototype.setCallback=function(t,n){if(!e(t))throw new i("callback is required.");if(!e(n))throw new i("isConstant is required.");var r=this._callback!==t||this._isConstant!==n;this._callback=t,this._isConstant=n,r&&this._definitionChanged.raiseEvent(this)},r.prototype.equals=function(e){return this===e||e instanceof r&&this._callback===e._callback&&this._isConstant===e._isConstant},r})}(),function(){var t=e.amdDefine;t("9",["a","5","6","b","7","c","d","e","f","10"],function(e,t,i,n,r,o,s,a,u,c){"use strict";function l(e,i){var n=e;return t(i)&&(n+="+"+i),n}function f(t,i){e.clone(t.distance.startPosition,i.distance.startPosition),e.clone(t.distance.endPosition,i.distance.endPosition),e.clone(t.angleAndHeight.startPosition,i.angleAndHeight.startPosition),e.clone(t.angleAndHeight.endPosition,i.angleAndHeight.endPosition)}function h(i,n,r){var o=l(c.PINCH,n),s=i._update,a=i._isDown,h=i._eventStartPosition,d=i._pressTime,M=i._releaseTime;s[o]=!0,a[o]=!1,h[o]=new e;var w=i._movement[o];t(w)||(w=i._movement[o]={}),w.distance={startPosition:new e,endPosition:new e},w.angleAndHeight={startPosition:new e,endPosition:new e},w.prevAngle=0,i._eventHandler.setInputAction(function(e){i._buttonsDown++,a[o]=!0,d[o]=new Date},u.PINCH_START,n),i._eventHandler.setInputAction(function(){i._buttonsDown=Math.max(i._buttonsDown-1,0),a[o]=!1,M[o]=new Date},u.PINCH_END,n),i._eventHandler.setInputAction(function(t){if(a[o]){s[o]?(f(t,w),s[o]=!1,w.prevAngle=w.angleAndHeight.startPosition.x):(e.clone(t.distance.endPosition,w.distance.endPosition),e.clone(t.angleAndHeight.endPosition,w.angleAndHeight.endPosition));for(var i=w.angleAndHeight.endPosition.x,n=w.prevAngle,u=2*Math.PI;i>=n+Math.PI;)i-=u;for(;i<n-Math.PI;)i+=u;w.angleAndHeight.endPosition.x=-i*r.clientWidth/12,w.angleAndHeight.startPosition.x=-n*r.clientWidth/12}},u.PINCH_MOVE,n)}function d(i,n){var r=l(c.WHEEL,n),o=i._update;o[r]=!0;var a=i._movement[r];t(a)||(a=i._movement[r]={}),a.startPosition=new e,a.endPosition=new e,i._eventHandler.setInputAction(function(t){var i=15*s.toRadians(t);o[r]?(e.clone(e.ZERO,a.startPosition),a.endPosition.x=0,a.endPosition.y=i,o[r]=!1):a.endPosition.y=a.endPosition.y+i},u.WHEEL,n)}function M(i,n,r){var o=l(r,n),s=i._isDown,a=i._eventStartPosition,f=i._pressTime,h=i._releaseTime;s[o]=!1,a[o]=new e;var d=i._lastMovement[o];t(d)||(d=i._lastMovement[o]={startPosition:new e,endPosition:new e,valid:!1});var M,w;r===c.LEFT_DRAG?(M=u.LEFT_DOWN,w=u.LEFT_UP):r===c.RIGHT_DRAG?(M=u.RIGHT_DOWN,w=u.RIGHT_UP):r===c.MIDDLE_DRAG&&(M=u.MIDDLE_DOWN,w=u.MIDDLE_UP),i._eventHandler.setInputAction(function(t){i._buttonsDown++,d.valid=!1,s[o]=!0,f[o]=new Date,e.clone(t.position,a[o])},M,n),i._eventHandler.setInputAction(function(){i._buttonsDown=Math.max(i._buttonsDown-1,0),s[o]=!1,h[o]=new Date},w,n)}function w(t,i){e.clone(t.startPosition,i.startPosition),e.clone(t.endPosition,i.endPosition)}function g(i,n){var r=i._update,o=i._movement,s=i._lastMovement,a=i._isDown;for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];if(t(h)){var d=l(h,n);r[d]=!0,t(i._lastMovement[d])||(i._lastMovement[d]={startPosition:new e,endPosition:new e,valid:!1}),t(i._movement[d])||(i._movement[d]={startPosition:new e,endPosition:new e})}}i._eventHandler.setInputAction(function(u){for(var f in c)if(c.hasOwnProperty(f)){var h=c[f];if(t(h)){var d=l(h,n);a[d]&&(r[d]?(w(o[d],s[d]),s[d].valid=!0,w(u,o[d]),r[d]=!1):e.clone(u.endPosition,o[d].endPosition))}}e.clone(u.endPosition,i._currentMousePosition)},u.MOUSE_MOVE,n)}function y(i){if(!t(i))throw new r("canvas is required.");this._eventHandler=new a(i,!0),this._update={},this._movement={},this._lastMovement={},this._isDown={},this._eventStartPosition={},this._pressTime={},this._releaseTime={},this._buttonsDown=0,this._currentMousePosition=new e,d(this,void 0),h(this,void 0,i),M(this,void 0,c.LEFT_DRAG),M(this,void 0,c.RIGHT_DRAG),M(this,void 0,c.MIDDLE_DRAG),g(this,void 0);for(var n in o)if(o.hasOwnProperty(n)){var s=o[n];t(s)&&(d(this,s),h(this,s,i),M(this,s,c.LEFT_DRAG),M(this,s,c.RIGHT_DRAG),M(this,s,c.MIDDLE_DRAG),g(this,s))}}return i(y.prototype,{currentMousePosition:{get:function(){return this._currentMousePosition}},anyButtonDown:{get:function(){var e=!(this._update[l(c.WHEEL)]&&this._update[l(c.WHEEL,o.SHIFT)]&&this._update[l(c.WHEEL,o.CTRL)]&&this._update[l(c.WHEEL,o.ALT)]);return this._buttonsDown>0||e}}}),y.prototype.isMoving=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i);return!this._update[n]},y.prototype.getMovement=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i),o=this._movement[n];return o},y.prototype.getLastMovement=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i),o=this._lastMovement[n];if(o.valid)return o},y.prototype.isButtonDown=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i);return this._isDown[n]},y.prototype.getStartMousePosition=function(e,i){if(!t(e))throw new r("type is required.");if(e===c.WHEEL||e===c.PINCH)return this._currentMousePosition;var n=l(e,i);return this._eventStartPosition[n]},y.prototype.getButtonPressTime=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i);return this._pressTime[n]},y.prototype.getButtonReleaseTime=function(e,i){if(!t(e))throw new r("type is required.");var n=l(e,i);return this._releaseTime[n]},y.prototype.reset=function(){for(var e in this._update)this._update.hasOwnProperty(e)&&(this._update[e]=!0)},y.prototype.isDestroyed=function(){return!1},y.prototype.destroy=function(){return this._eventHandler=this._eventHandler&&this._eventHandler.destroy(),n(this)},y})}(),function(){var t=e.amdDefine;t("10",["11"],function(e){"use strict";var t={LEFT_DRAG:0,RIGHT_DRAG:1,MIDDLE_DRAG:2,WHEEL:3,PINCH:4};return e(t)})}(),function(){var t=e.amdDefine;t("12",["11"],function(e){"use strict";var t={UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2};return e(t)})}(),function(){var t=e.amdDefine;t("13",["5"],function(e){"use strict";var t;return t="undefined"!=typeof performance&&e(performance.now)?function(){return performance.now()}:function(){return Date.now()}})}(),function(){var t=e.amdDefine;t("14",["12","15","16","5","7","8","13","17"],function(e,t,i,n,r,o,s,a){"use strict";function u(u){u=i(u,i.EMPTY_OBJECT);var c=u.startTime,l=!n(c),f=u.stopTime,h=!n(f),d=u.currentTime,M=!n(d);if(l&&h&&M?(d=a.now(),c=a.clone(d),f=a.addDays(d,1,new a)):l&&h?(c=a.clone(d),f=a.addDays(d,1,new a)):l&&M?(c=a.addDays(f,-1,new a),d=a.clone(c)):M&&h?(d=a.clone(c),f=a.addDays(c,1,new a)):M?d=a.clone(c):h?f=a.addDays(d,1,new a):l&&(c=a.clone(d)),a.greaterThan(c,f))throw new r("startTime must come before stopTime.");this.startTime=c,this.stopTime=f,this.currentTime=d,this.multiplier=i(u.multiplier,1),this.clockStep=i(u.clockStep,t.SYSTEM_CLOCK_MULTIPLIER),this.clockRange=i(u.clockRange,e.UNBOUNDED),this.canAnimate=i(u.canAnimate,!0),this.shouldAnimate=i(u.shouldAnimate,!0),this.onTick=new o,this._lastSystemTime=s()}return u.prototype.tick=function(){var i=s(),n=a.clone(this.currentTime),r=this.startTime,o=this.stopTime,u=this.multiplier;if(this.canAnimate&&this.shouldAnimate)if(this.clockStep===t.SYSTEM_CLOCK)n=a.now(n);else{if(this.clockStep===t.TICK_DEPENDENT)n=a.addSeconds(n,u,n);else{var c=i-this._lastSystemTime;n=a.addSeconds(n,u*(c/1e3),n)}if(this.clockRange===e.CLAMPED)a.lessThan(n,r)?n=a.clone(r,n):a.greaterThan(n,o)&&(n=a.clone(o,n));else if(this.clockRange===e.LOOP_STOP)for(a.lessThan(n,r)&&(n=a.clone(r,n));a.greaterThan(n,o);)n=a.addSeconds(r,a.secondsDifference(n,o),n)}return this.currentTime=n,this._lastSystemTime=i,this.onTick.raiseEvent(this),n},u})}(),function(){var t=e.amdDefine;t("15",["11"],function(e){"use strict";var t={TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2};return e(t)})}(),function(){var t=e.amdDefine;t("18",["19","5","6","7","d","1a","1b"],function(e,t,i,n,r,o,s){"use strict";function a(e){for(var t=e.propertyNames,i=t.length,n=0;n<i;n++)e[t[n]]=void 0}function u(e,t,i,n){w[0]=i,w[1]=n.id,t[JSON.stringify(w)]=n.definitionChanged.addEventListener(f.prototype._onDefinitionChanged,e)}function c(e,t,i,n){w[0]=i,w[1]=n.id;var r=JSON.stringify(w);t[r](),t[r]=void 0}function l(e){if(e._shouldRecomposite=!0,0===e._suspendCount){var i,n,r,l,h,d,w=e._collections,g=w.length,y=e._collectionsCopy,p=y.length,A=e._composite,v=new s(e),m=e._eventHash;for(i=0;i<p;i++)for(h=y[i],h.collectionChanged.removeEventListener(f.prototype._onCollectionChanged,e),r=h.values,d=h.id,l=r.length-1;l>-1;l--)n=r[l],c(e,m,d,n);for(i=g-1;i>=0;i--)for(h=w[i],h.collectionChanged.addEventListener(f.prototype._onCollectionChanged,e),r=h.values,d=h.id,l=r.length-1;l>-1;l--){n=r[l],u(e,m,d,n);var D=v.getById(n.id);t(D)||(D=A.getById(n.id),t(D)?a(D):(M.id=n.id,D=new o(M)),v.add(D)),D.merge(n)}e._collectionsCopy=w.slice(0),A.suspendEvents(),A.removeAll();var E=v.values;for(i=0;i<E.length;i++)A.add(E[i]);A.resumeEvents()}}function f(i,n){this._owner=n,this._composite=new s(this),this._suspendCount=0,this._collections=t(i)?i.slice():[],this._collectionsCopy=[],this._id=e(),this._eventHash={},l(this),this._shouldRecomposite=!1}function h(e,i){if(!t(i))throw new n("collection is required.");var r=e.indexOf(i);if(r===-1)throw new n("collection is not in this composite.");return r}function d(e,t,i){var n=e._collections;if(t=r.clamp(t,0,n.length-1),i=r.clamp(i,0,n.length-1),t!==i){var o=n[t];n[t]=n[i],n[i]=o,l(e)}}var M={id:void 0},w=new Array(2);return i(f.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),f.prototype.addCollection=function(e,i){var r=t(i);if(!t(e))throw new n("collection is required.");if(r){if(i<0)throw new n("index must be greater than or equal to zero.");if(i>this._collections.length)throw new n("index must be less than or equal to the number of collections.")}r?this._collections.splice(i,0,e):(i=this._collections.length,this._collections.push(e)),l(this)},f.prototype.removeCollection=function(e){var t=this._collections.indexOf(e);return t!==-1&&(this._collections.splice(t,1),l(this),!0)},f.prototype.removeAllCollections=function(){this._collections.length=0,l(this)},f.prototype.containsCollection=function(e){return this._collections.indexOf(e)!==-1},f.prototype.contains=function(e){return this._composite.contains(e)},f.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},f.prototype.getCollection=function(e){if(!t(e))throw new n("index is required.","index");return this._collections[e]},f.prototype.getCollectionsLength=function(){return this._collections.length},f.prototype.raiseCollection=function(e){var t=h(this._collections,e);d(this,t,t+1)},f.prototype.lowerCollection=function(e){var t=h(this._collections,e);d(this,t,t-1)},f.prototype.raiseCollectionToTop=function(e){var t=h(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),l(this))},f.prototype.lowerCollectionToBottom=function(e){var t=h(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),l(this))},f.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},f.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new n("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(l(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},f.prototype.computeAvailability=function(){return this._composite.computeAvailability()},f.prototype.getById=function(e){return this._composite.getById(e)},f.prototype._onCollectionChanged=function(e,i,n){var r=this._collectionsCopy,s=r.length,l=this._composite;l.suspendEvents();var f,h,d,w,g=n.length,y=this._eventHash,p=e.id;for(f=0;f<g;f++){var A=n[f];c(this,y,p,A);var v=A.id;for(h=s-1;h>=0;h--)d=r[h].getById(v),t(d)&&(t(w)||(w=l.getById(v),a(w)),w.merge(d));t(w)||l.removeById(v),w=void 0}var m=i.length;for(f=0;f<m;f++){var D=i[f];u(this,y,p,D);var E=D.id;for(h=s-1;h>=0;h--)d=r[h].getById(E),t(d)&&(t(w)||(w=l.getById(E),t(w)?a(w):(M.id=E,w=new o(M),l.add(w))),w.merge(d));w=void 0}l.resumeEvents()},f.prototype._onDefinitionChanged=function(e,i,n,r){for(var o=this._collections,s=this._composite,a=o.length,u=e.id,c=s.getById(u),l=c[i],f=!t(l),h=!0,d=a-1;d>=0;d--){var M=o[d].getById(e.id);if(t(M)){var w=M[i];if(t(w)){if(h){if(h=!1,!t(w.merge)||!t(w.clone)){l=w;break}l=w.clone(l)}l.merge(w)}}}f&&c.propertyNames.indexOf(i)===-1&&c.addProperty(i),c[i]=l},f})}(),function(){var t=e.amdDefine;t("19",[],function(){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"===e?t:3&t|8;return i.toString(16)})}return e})}(),function(){var t=e.amdDefine;t("1c",["1d","16","5","6","7","8","1e","1f"],function(e,t,i,n,r,o,s,a){"use strict";function u(i,n){this._definitionChanged=new o,this._value=e.clone(i),this._referenceFrame=t(n,s.FIXED)}return n(u.prototype,{isConstant:{get:function(){return!i(this._value)||this._referenceFrame===s.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),u.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,s.FIXED,t)},u.prototype.setValue=function(t,n){var r=!1;e.equals(this._value,t)||(r=!0,this._value=e.clone(t)),i(n)&&this._referenceFrame!==n&&(r=!0,this._referenceFrame=n),r&&this._definitionChanged.raiseEvent(this)},u.prototype.getValueInReferenceFrame=function(e,t,n){if(!i(e))throw new r("time is required.");if(!i(t))throw new r("referenceFrame is required.");return a.convertToReferenceFrame(e,this._value,this._referenceFrame,t,n)},u.prototype.equals=function(t){return this===t||t instanceof u&&e.equals(this._value,t._value)&&this._referenceFrame===t._referenceFrame},u})}(),function(){var t=e.amdDefine;t("20",["16","5","6","7","8"],function(e,t,i,n,r){"use strict";function o(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new r,this.setValue(e)}return i(o.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}}),o.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},o.prototype.setValue=function(e){var i=this._value;if(i!==e){var n=t(e),r=n&&"function"==typeof e.clone,o=n&&"function"==typeof e.equals;this._hasClone=r,this._hasEquals=o;var s=!o||!e.equals(i);s&&(this._value=r?e.clone():e,this._definitionChanged.raiseEvent(this))}},o.prototype.equals=function(e){return this===e||e instanceof o&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},o})}(),function(){var t=e.amdDefine;t("21",["16","5","20"],function(e,t,i){"use strict";function n(e,i,n,r,o){return{configurable:r,get:function(){return this[i]},set:function(r){var s=this[i],a=this[n];t(a)&&(a(),this[n]=void 0);var u=t(r);u&&!t(r.getValue)&&t(o)&&(r=o(r)),s!==r&&(this[i]=r,this._definitionChanged.raiseEvent(this,e,r,s)),t(r)&&t(r.definitionChanged)&&(this[n]=r.definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this,e,r,r)},this))}}}function r(e){return new i(e)}function o(t,i,o){return n(t,"_"+t.toString(),"_"+t.toString()+"Subscription",e(i,!1),e(o,r))}return o})}(),function(){var t=e.amdDefine;t("22",["21"],function(e){"use strict";function t(e){return e}function i(i,n){return e(i,n,t)}return i})}(),function(){var t=e.amdDefine;t("1a",["1d","19","16","5","6","7","8","23","24","25","26","@empty","@empty","1c","@empty","21","22","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","@empty","27","@empty","@empty"],function(e,t,i,n,r,o,s,a,u,c,l,f,h,d,M,w,g,y,p,A,v,m,D,E,N,I,T,L,j,x){"use strict";function S(e){return new d(e)}function O(e){return w(e,void 0,S)}function C(e,t){return w(e,void 0,function(e){return e instanceof t?e:new t(e)})}function z(e){e=i(e,i.EMPTY_OBJECT);var r=e.id;n(r)||(r=t()),this._availability=void 0,this._id=r,this._definitionChanged=new s,this._name=e.name,this._show=i(e.show,!0),this._parent=void 0,this._propertyNames=["billboard","box","corridor","cylinder","description","ellipse","ellipsoid","label","model","orientation","path","point","polygon","polyline","polylineVolume","position","rectangle","viewFrom","wall"],this._billboard=void 0,this._billboardSubscription=void 0,this._box=void 0,this._boxSubscription=void 0,this._corridor=void 0,this._corridorSubscription=void 0,this._cylinder=void 0,this._cylinderSubscription=void 0,this._description=void 0,this._descriptionSubscription=void 0,this._ellipse=void 0,this._ellipseSubscription=void 0,this._ellipsoid=void 0,this._ellipsoidSubscription=void 0,this._label=void 0,this._labelSubscription=void 0,this._model=void 0,this._modelSubscription=void 0,this._orientation=void 0,this._orientationSubscription=void 0,this._path=void 0,this._pathSubscription=void 0,this._point=void 0,this._pointSubscription=void 0,this._polygon=void 0,this._polygonSubscription=void 0,this._polyline=void 0,this._polylineSubscription=void 0,this._polylineVolume=void 0,this._polylineVolumeSubscription=void 0,this._position=void 0,this._positionSubscription=void 0,this._rectangle=void 0,this._rectangleSubscription=void 0,this._viewFrom=void 0,this._viewFromSubscription=void 0,this._wall=void 0,this._wallSubscription=void 0,this._children=[],this.entityCollection=void 0,this.parent=e.parent,this.merge(e)}function b(e,t,i){for(var n=t.length,r=0;r<n;r++){var o=t[r],s=o._show,a=!i&&s,u=i&&s;a!==u&&b(o,o._children,i)}e._definitionChanged.raiseEvent(e,"isShowing",i,!i)}r(z.prototype,{availability:g("availability"),id:{get:function(){return this._id}},definitionChanged:{get:function(){return this._definitionChanged}},name:g("name"),show:{get:function(){return this._show},set:function(e){if(!n(e))throw new o("value is required.");if(e!==this._show){var t=this.isShowing;this._show=e;var i=this.isShowing;t!==i&&b(this,this._children,i),this._definitionChanged.raiseEvent(this,"show",e,!e)}}},isShowing:{get:function(){return this._show&&(!n(this.entityCollection)||this.entityCollection.show)&&(!n(this._parent)||this._parent.isShowing)}},parent:{get:function(){return this._parent},set:function(e){var t=this._parent;if(t!==e){var i=this.isShowing;if(n(t)){var r=t._children.indexOf(this);t._children.splice(r,1)}this._parent=e,n(e)&&e._children.push(this);var o=this.isShowing;i!==o&&b(this,this._children,o),this._definitionChanged.raiseEvent(this,"parent",e,t)}}},
propertyNames:{get:function(){return this._propertyNames}},billboard:C("billboard",f),box:C("box",h),corridor:C("corridor",M),cylinder:C("cylinder",y),description:w("description"),ellipse:C("ellipse",p),ellipsoid:C("ellipsoid",A),label:C("label",v),model:C("model",m),orientation:w("orientation"),path:C("path",D),point:C("point",E),polygon:C("polygon",N),polyline:C("polyline",I),polylineVolume:C("polylineVolume",T),position:O("position"),rectangle:C("rectangle",j),viewFrom:w("viewFrom"),wall:C("wall",x)}),z.prototype.isAvailable=function(e){if(!n(e))throw new o("time is required.");var t=this._availability;return!n(t)||t.contains(e)},z.prototype.addProperty=function(e){var t=this._propertyNames;if(!n(e))throw new o("propertyName is required.");if(t.indexOf(e)!==-1)throw new o(e+" is already a registered property.");if(e in this)throw new o(e+" is a reserved property name.");t.push(e),Object.defineProperty(this,e,g(e,!0))},z.prototype.removeProperty=function(e){var t=this._propertyNames,i=t.indexOf(e);if(!n(e))throw new o("propertyName is required.");if(i===-1)throw new o(e+" is not a registered property.");this._propertyNames.splice(i,1),delete this[e]},z.prototype.merge=function(e){if(!n(e))throw new o("source is required.");this.name=i(this.name,e.name),this.availability=i(e.availability,this.availability);for(var t=this._propertyNames,r=n(e._propertyNames)?e._propertyNames:Object.keys(e),s=r.length,a=0;a<s;a++){var u=r[a];if("parent"!==u){var c=this[u],l=e[u];n(c)||t.indexOf(u)!==-1||this.addProperty(u),n(l)&&(n(c)?n(c.merge)&&c.merge(l):n(l.merge)&&n(l.clone)?this[u]=l.clone():this[u]=l)}}};var _=new a,k=new e,R=new c;return z.prototype._getModelMatrix=function(e,t){var i=L.getValueOrUndefined(this._position,e,k);if(n(i)){var r=L.getValueOrUndefined(this._orientation,e,R);return t=n(r)?u.fromRotationTranslation(a.fromQuaternion(r,_),i,t):l.eastNorthUpToFixedFrame(i,void 0,t)}},z})}(),function(){var t=e.amdDefine;t("1b",["28","19","5","6","7","8","29","17","2a","2b","1a"],function(e,t,i,n,r,o,s,a,u,c,l){"use strict";function f(e){if(e._firing)return void(e._refire=!0);if(0===e._suspendCount){var t=e._addedEntities,i=e._removedEntities,n=e._changedEntities;if(0!==n.length||0!==t.length||0!==i.length){e._firing=!0;do{e._refire=!1;var r=t.values.slice(0),o=i.values.slice(0),s=n.values.slice(0);t.removeAll(),i.removeAll(),n.removeAll(),e._collectionChanged.raiseEvent(e,r,o,s)}while(e._refire);e._firing=!1}}}function h(i){this._owner=i,this._entities=new e,this._addedEntities=new e,this._removedEntities=new e,this._changedEntities=new e,this._suspendCount=0,this._collectionChanged=new o,this._id=t(),this._show=!0,this._firing=!1,this._refire=!1}var d={id:void 0};return h.prototype.suspendEvents=function(){this._suspendCount++},h.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new r("resumeEvents can not be called before suspendEvents.");this._suspendCount--,f(this)},h.collectionChangedEventCallback=void 0,n(h.prototype,{collectionChanged:{get:function(){return this._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._entities.values}},show:{get:function(){return this._show},set:function(e){if(!i(e))throw new r("value is required.");if(e!==this._show){this.suspendEvents();var t,n=[],o=this._entities.values,s=o.length;for(t=0;t<s;t++)n.push(o[t].isShowing);for(this._show=e,t=0;t<s;t++){var a=n[t],u=o[t];a!==u.isShowing&&u.definitionChanged.raiseEvent(u,"isShowing",u.isShowing,a)}this.resumeEvents()}}},owner:{get:function(){return this._owner}}}),h.prototype.computeAvailability=function(){for(var e=s.MAXIMUM_VALUE,t=s.MINIMUM_VALUE,n=this._entities.values,r=0,o=n.length;r<o;r++){var u=n[r],l=u.availability;if(i(l)){var f=l.start,h=l.stop;a.lessThan(f,e)&&!f.equals(s.MINIMUM_VALUE)&&(e=f),a.greaterThan(h,t)&&!h.equals(s.MAXIMUM_VALUE)&&(t=h)}}return s.MAXIMUM_VALUE.equals(e)&&(e=s.MINIMUM_VALUE),s.MINIMUM_VALUE.equals(t)&&(t=s.MAXIMUM_VALUE),new c({start:e,stop:t})},h.prototype.add=function(e){if(!i(e))throw new r("entity is required.");e instanceof l||(e=new l(e));var t=e.id,n=this._entities;if(n.contains(t))throw new u("An entity with id "+t+" already exists in this collection.");return e.entityCollection=this,n.set(t,e),this._removedEntities.remove(t)||this._addedEntities.set(t,e),e.definitionChanged.addEventListener(h.prototype._onEntityDefinitionChanged,this),f(this),e},h.prototype.remove=function(e){return!!i(e)&&this.removeById(e.id)},h.prototype.contains=function(e){if(!i(e))throw new r("entity is required");return this._entities.get(e.id)===e},h.prototype.removeById=function(e){if(!i(e))return!1;var t=this._entities,n=t.get(e);return!!this._entities.remove(e)&&(this._addedEntities.remove(e)||(this._removedEntities.set(e,n),this._changedEntities.remove(e)),this._entities.remove(e),n.definitionChanged.removeEventListener(h.prototype._onEntityDefinitionChanged,this),f(this),!0)},h.prototype.removeAll=function(){for(var e=this._entities,t=e.length,n=e.values,r=this._addedEntities,o=this._removedEntities,s=0;s<t;s++){var a=n[s],u=a.id,c=r.get(u);i(c)||(a.definitionChanged.removeEventListener(h.prototype._onEntityDefinitionChanged,this),o.set(u,a))}e.removeAll(),r.removeAll(),this._changedEntities.removeAll(),f(this)},h.prototype.getById=function(e){if(!i(e))throw new r("id is required.");return this._entities.get(e)},h.prototype.getOrCreateEntity=function(e){if(!i(e))throw new r("id is required.");var t=this._entities.get(e);return i(t)||(d.id=e,t=new l(d),this.add(t)),t},h.prototype._onEntityDefinitionChanged=function(e){var t=e.id;this._addedEntities.contains(t)||this._changedEntities.set(t,e),f(this)},h})}(),function(){var t=e.amdDefine;t("2c",["1d","2d","16","5","6","7","2e"],function(e,t,i,n,r,o,s){"use strict";function a(e){this._ellipsoid=i(e,s.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return r(a.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),a.prototype.project=function(t,i){var r=this._semimajorAxis,o=t.longitude*r,s=t.latitude*r,a=t.height;return n(i)?(i.x=o,i.y=s,i.z=a,i):new e(o,s,a)},a.prototype.unproject=function(e,i){if(!n(e))throw new o("cartesian is required");var r=this._oneOverSemimajorAxis,s=e.x*r,a=e.y*r,u=e.z;return n(i)?(i.longitude=s,i.latitude=a,i.height=u,i):new t(s,a,u)},a})}(),function(){var t=e.amdDefine;t("2f",["16","5","7","d"],function(e,t,i,n){"use strict";function r(e,t,i,n,o,s){var a,u,c,l=0;if(n>0){for(u=0;u<o;u++){for(a=!1,c=0;c<s.length&&!a;c++)u===s[c]&&(a=!0);a||(s.push(u),l+=r(e,t,i,n-1,o,s),s.splice(s.length-1,1))}return l}for(l=1,u=0;u<o;u++){for(a=!1,c=0;c<s.length&&!a;c++)u===s[c]&&(a=!0);a||(l*=e-i[t[u]])}return l}function o(e,t,i,r,o,s){for(var a,u,c=-1,l=t.length,f=l*(l+1)/2,h=0;h<o;h++){var d=Math.floor(h*f);for(a=0;a<l;a++)u=t[a]*o*(s+1)+h,e[d+a]=r[u];for(var M=1;M<l;M++){var w=0,g=Math.floor(M*(1-M)/2)+l*M,y=!1;for(a=0;a<l-M;a++){var p,A,v=i[t[a]],m=i[t[a+M]];if(m-v<=0)u=t[a]*o*(s+1)+o*M+h,p=r[u],A=p/n.factorial(M),e[d+g+w]=A,w++;else{var D=Math.floor((M-1)*(2-M)/2)+l*(M-1);p=e[d+D+a+1]-e[d+D+a],A=p/(m-v),e[d+g+w]=A,w++}y=y||0!==p}y&&(c=Math.max(c,M))}}return c}var s=n.factorial,a={type:"Hermite"};a.getRequiredDataPoints=function(n,r){if(r=e(r,0),!t(n))throw new i("degree is required.");if(n<0)throw new i("degree must be 0 or greater.");if(r<0)throw new i("inputOrder must be 0 or greater.");return Math.max(Math.floor((n+1)/(r+1)),2)},a.interpolateOrderZero=function(e,i,n,o,a){t(a)||(a=new Array(o));var u,c,l,f,h,d,M=i.length,w=new Array(o);for(u=0;u<o;u++){a[u]=0;var g=new Array(M);for(w[u]=g,c=0;c<M;c++)g[c]=[]}var y=M,p=new Array(y);for(u=0;u<y;u++)p[u]=u;var A=M-1;for(f=0;f<o;f++){for(c=0;c<y;c++)d=p[c]*o+f,w[f][0].push(n[d]);for(u=1;u<y;u++){var v=!1;for(c=0;c<y-u;c++){var m,D=i[p[c]],E=i[p[c+u]];E-D<=0?(d=p[c]*o+o*u+f,m=n[d],w[f][u].push(m/s(u))):(m=w[f][u-1][c+1]-w[f][u-1][c],w[f][u].push(m/(E-D))),v=v||0!==m}v||(A=u-1)}}for(l=0,h=0;l<=h;l++)for(u=l;u<=A;u++){var N=r(e,p,i,l,u,[]);for(f=0;f<o;f++){var I=w[f][u][0];a[f+l*o]+=I*N}}return a};var u=[];return a.interpolate=function(e,i,n,s,a,c,l){var f=s*(c+1);t(l)||(l=new Array(f));for(var h=0;h<f;h++)l[h]=0;for(var d=i.length,M=new Array(d*(a+1)),w=0;w<d;w++)for(var g=0;g<a+1;g++)M[w*(a+1)+g]=w;for(var y=M.length,p=u,A=o(p,M,i,n,s,a),v=[],m=y*(y+1)/2,D=Math.min(A,c),E=0;E<=D;E++)for(w=E;w<=A;w++){v.length=0;for(var N=r(e,M,i,E,w,v),I=Math.floor(w*(1-w)/2)+y*w,T=0;T<s;T++){var L=Math.floor(T*m),j=p[L+I];l[T+E*s]+=j*N}}return l},a})}(),function(){var t=e.amdDefine;t("30",["5","6","7","23","25","1e","26"],function(e,t,i,n,r,o,s){"use strict";function a(e,t){return e&&e.id?e.id===(t&&t.id):e===t}function u(t){for(var i=[];e(t);)i.unshift(t),t=t.position&&t.position.referenceFrame;return i}function c(e,t){if(!a(e[0],t[0]))return-1;for(var i=Math.min(e.length,t.length),n=0;n<=i;n++)if(!a(e[n],t[n]))return n-1;return-1}function l(t){var i=s.computeIcrfToFixedMatrix(t,h);return e(i)||(i=s.computeTemeToPseudoFixedMatrix(t,h)),r.fromRotationMatrix(i,d)}var f=function(){i.throwInstantiationError()};t(f.prototype,{isConstant:{get:i.throwInstantiationError},definitionChanged:{get:i.throwInstantiationError}}),f.prototype.getValue=i.throwInstantiationError,f.prototype.equals=i.throwInstantiationError;var h=new n,d=new r,M=new r;return f.convertToReferenceFrame=function(t,i,n,s,a){if(!e(i))return i;if(e(a)||(a=new r),n===s)return r.clone(i,a);if(e(n)&&e(s)){var f=u(n),h=u(s),d=c(f,h),w=f[d],g=function(i,n){if(!e(i))return i;var o=n.orientation;if(e(o)){var s=o.getValue(t,M);if(e(s))return r.multiply(s,i,i)}},y=function(i,n){if(!e(i))return i;var o=n.orientation;if(e(o)){var s=o.getValue(t,M);if(e(s))return r.conjugate(s,s),r.multiply(s,i,i)}};if(e(w)){f=f.slice(d+1),h=h.slice(d+1);var p=f.reduceRight(g,r.clone(i,a));if(!e(p))return;return h.reduce(y,p)}var A,v,m=f.shift(),D=h.shift();if(m===o.INERTIAL&&D===o.FIXED){if(v=f.reduceRight(g,r.clone(i,a)),!e(v))return;return A=r.multiply(l(t),v,a),h.reduce(y,A)}if(m===o.FIXED&&D===o.INERTIAL){if(A=f.reduceRight(g,r.clone(i,a)),!e(A))return;var E=r.conjugate(l(t),M);return v=r.multiply(E,A,a),h.reduce(y,v)}}},f})}(),function(){var t=e.amdDefine;t("31",["5","6","7","32"],function(e,t,i,n){"use strict";function r(){this._offCenterFrustum=new n,this.fov=void 0,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=void 0,this._aspectRatio=void 0,this.near=1,this._near=this.near,this.far=5e8,this._far=this.far,this.xOffset=0,this._xOffset=this.xOffset,this.yOffset=0,this._yOffset=this.yOffset}function o(t){if(!(e(t.fov)&&e(t.aspectRatio)&&e(t.near)&&e(t.far)))throw new i("fov, aspectRatio, near, or far parameters are not set.");var n=t._offCenterFrustum;if(t.fov!==t._fov||t.aspectRatio!==t._aspectRatio||t.near!==t._near||t.far!==t._far||t.xOffset!==t._xOffset||t.yOffset!==t._yOffset){if(t.fov<0||t.fov>=Math.PI)throw new i("fov must be in the range [0, PI).");if(t.aspectRatio<0)throw new i("aspectRatio must be positive.");if(t.near<0||t.near>t.far)throw new i("near must be greater than zero and less than far.");t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,n.top=t.near*Math.tan(.5*t._fovy),n.bottom=-n.top,n.right=t.aspectRatio*n.top,n.left=-n.right,n.near=t.near,n.far=t.far,n.right+=t.xOffset,n.left+=t.xOffset,n.top+=t.yOffset,n.bottom+=t.yOffset}}return t(r.prototype,{projectionMatrix:{get:function(){return o(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return o(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return o(this),this._fovy}},sseDenominator:{get:function(){return o(this),this._sseDenominator}}}),r.prototype.computeCullingVolume=function(e,t,i){return o(this),this._offCenterFrustum.computeCullingVolume(e,t,i)},r.prototype.getPixelDimensions=function(e,t,i,n){return o(this),this._offCenterFrustum.getPixelDimensions(e,t,i,n)},r.prototype.clone=function(t){return e(t)||(t=new r),t.aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},r.prototype.equals=function(t){return!!e(t)&&(o(this),o(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum))},r})}(),function(){var t=e.amdDefine;t("33",["11"],function(e){"use strict";var t={OUTSIDE:-1,INTERSECTING:0,INSIDE:1};return e(t)})}(),function(){var t=e.amdDefine;t("34",["1d","35","16","5","7","33","36"],function(e,t,i,n,r,o,s){"use strict";function a(e){this.planes=i(e,[])}var u=[new e,new e,new e];e.clone(e.UNIT_X,u[0]),e.clone(e.UNIT_Y,u[1]),e.clone(e.UNIT_Z,u[2]);var c=new e,l=new e,f=new s(new e,0);return a.fromBoundingSphere=function(i,o){if(!n(i))throw new r("boundingSphere is required.");n(o)||(o=new a);var s=u.length,f=o.planes;f.length=2*s;for(var h=i.center,d=i.radius,M=0,w=0;w<s;++w){var g=u[w],y=f[M],p=f[M+1];n(y)||(y=f[M]=new t),n(p)||(p=f[M+1]=new t),e.multiplyByScalar(g,-d,c),e.add(h,c,c),y.x=g.x,y.y=g.y,y.z=g.z,y.w=-e.dot(g,c),e.multiplyByScalar(g,d,c),e.add(h,c,c),p.x=-g.x,p.y=-g.y,p.z=-g.z,p.w=-e.dot(e.negate(g,l),c),M+=2}return o},a.prototype.computeVisibility=function(e){if(!n(e))throw new r("boundingVolume is required.");for(var t=this.planes,i=!1,a=0,u=t.length;a<u;++a){var c=e.intersectPlane(s.fromCartesian4(t[a],f));if(c===o.OUTSIDE)return o.OUTSIDE;c===o.INTERSECTING&&(i=!0)}return i?o.INTERSECTING:o.INSIDE},a.prototype.computeVisibilityWithPlaneMask=function(e,t){if(!n(e))throw new r("boundingVolume is required.");if(!n(t))throw new r("parentPlaneMask is required.");if(t===a.MASK_OUTSIDE||t===a.MASK_INSIDE)return t;for(var i=a.MASK_INSIDE,u=this.planes,c=0,l=u.length;c<l;++c){var h=c<31?1<<c:0;if(!(c<31&&0===(t&h))){var d=e.intersectPlane(s.fromCartesian4(u[c],f));if(d===o.OUTSIDE)return a.MASK_OUTSIDE;d===o.INTERSECTING&&(i|=h)}}return i},a.MASK_OUTSIDE=4294967295,a.MASK_INSIDE=0,a.MASK_INDETERMINATE=2147483647,a})}(),function(){var t=e.amdDefine;t("32",["a","1d","35","16","5","6","7","24","34"],function(e,t,i,n,r,o,s,a,u){"use strict";function c(){this.left=void 0,this._left=void 0,this.right=void 0,this._right=void 0,this.top=void 0,this._top=void 0,this.bottom=void 0,this._bottom=void 0,this.near=1,this._near=this.near,this.far=5e8,this._far=this.far,this._cullingVolume=new u,this._perspectiveMatrix=new a,this._infinitePerspective=new a}function l(e){if(!(r(e.right)&&r(e.left)&&r(e.top)&&r(e.bottom)&&r(e.near)&&r(e.far)))throw new s("right, left, top, bottom, near, or far parameters are not set.");var t=e.top,i=e.bottom,n=e.right,o=e.left,u=e.near,c=e.far;if(t!==e._top||i!==e._bottom||o!==e._left||n!==e._right||u!==e._near||c!==e._far){if(e.near<=0||e.near>e.far)throw new s("near must be greater than zero and less than far.");e._left=o,e._right=n,e._top=t,e._bottom=i,e._near=u,e._far=c,e._perspectiveMatrix=a.computePerspectiveOffCenter(o,n,i,t,u,c,e._perspectiveMatrix),e._infinitePerspective=a.computeInfinitePerspectiveOffCenter(o,n,i,t,u,e._infinitePerspective)}}o(c.prototype,{projectionMatrix:{get:function(){return l(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return l(this),this._infinitePerspective}}});var f=new t,h=new t,d=new t,M=new t;return c.prototype.computeCullingVolume=function(e,n,o){if(!r(e))throw new s("position is required.");if(!r(n))throw new s("direction is required.");if(!r(o))throw new s("up is required.");var a=this._cullingVolume.planes,u=this.top,c=this.bottom,l=this.right,w=this.left,g=this.near,y=this.far,p=t.cross(n,o,f),A=h;t.multiplyByScalar(n,g,A),t.add(e,A,A);var v=d;t.multiplyByScalar(n,y,v),t.add(e,v,v);var m=M;t.multiplyByScalar(p,w,m),t.add(A,m,m),t.subtract(m,e,m),t.normalize(m,m),t.cross(m,o,m);var D=a[0];return r(D)||(D=a[0]=new i),D.x=m.x,D.y=m.y,D.z=m.z,D.w=-t.dot(m,e),t.multiplyByScalar(p,l,m),t.add(A,m,m),t.subtract(m,e,m),t.normalize(m,m),t.cross(o,m,m),D=a[1],r(D)||(D=a[1]=new i),D.x=m.x,D.y=m.y,D.z=m.z,D.w=-t.dot(m,e),t.multiplyByScalar(o,c,m),t.add(A,m,m),t.subtract(m,e,m),t.normalize(m,m),t.cross(p,m,m),D=a[2],r(D)||(D=a[2]=new i),D.x=m.x,D.y=m.y,D.z=m.z,D.w=-t.dot(m,e),t.multiplyByScalar(o,u,m),t.add(A,m,m),t.subtract(m,e,m),t.normalize(m,m),t.cross(m,p,m),D=a[3],r(D)||(D=a[3]=new i),D.x=m.x,D.y=m.y,D.z=m.z,D.w=-t.dot(m,e),D=a[4],r(D)||(D=a[4]=new i),D.x=n.x,D.y=n.y,D.z=n.z,D.w=-t.dot(n,A),t.negate(n,m),D=a[5],r(D)||(D=a[5]=new i),D.x=m.x,D.y=m.y,D.z=m.z,D.w=-t.dot(m,v),this._cullingVolume},c.prototype.getPixelDimensions=function(e,t,i,n){if(l(this),!r(e)||!r(t))throw new s("Both drawingBufferWidth and drawingBufferHeight are required.");if(e<=0)throw new s("drawingBufferWidth must be greater than zero.");if(t<=0)throw new s("drawingBufferHeight must be greater than zero.");if(!r(i))throw new s("distance is required.");if(!r(n))throw new s("A result object is required.");var o=1/this.near,a=this.top*o,u=2*i*a/t;a=this.right*o;var c=2*i*a/e;return n.x=c,n.y=u,n},c.prototype.clone=function(e){return r(e)||(e=new c),e.right=this.right,e.left=this.left,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},c.prototype.equals=function(e){return r(e)&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},c})}(),function(){var t=e.amdDefine;t("37",["5","6","7","8","27"],function(e,t,i,n,r){"use strict";function o(t){var i=t._targetEntity;return t._resolveEntity&&(i=t._targetCollection.getById(t._targetId),e(i)&&(t._targetEntity=i,t._resolveEntity=!1)),i}var s=function(t,r){if(!e(t))throw new i("targetCollection is required.");if(!e(r)||""===r)throw new i("targetId is required.");this._targetCollection=t,this._targetId=r,this._targetEntity=void 0,this._definitionChanged=new n,this._resolveEntity=!0,t.collectionChanged.addEventListener(s.prototype._onCollectionChanged,this)};return t(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},id:{get:function(){return this._targetId}},position:{get:function(){var t=o(this);return e(t)?t.position:void 0}},orientation:{get:function(){var t=o(this);return e(t)?t.orientation:void 0}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},resolvedEntity:{get:function(){return o(this)}}}),s.prototype._onCollectionChanged=function(t,i,n){var r=this._targetEntity;e(r)&&(n.indexOf(r)!==-1?this._resolveEntity=!0:this._resolveEntity&&(o(this),this._resolveEntity||this._definitionChanged.raiseEvent(this)))},s})}(),function(){var t=e.amdDefine;t("38",["5","6","7","8","2a","27"],function(e,t,i,n,r,o){"use strict";function s(t){var i=!0;if(t._resolveEntity){var n=t._targetCollection.getById(t._targetId);if(e(n)?(n.definitionChanged.addEventListener(u.prototype._onTargetEntityDefinitionChanged,t),t._targetEntity=n,t._resolveEntity=!1):(n=t._targetEntity,i=!1),!e(n))throw new r('target entity "'+t._targetId+'" could not be resolved.')}return i}function a(t){var i=t._targetProperty;if(t._resolveProperty){var n=s(t),o=t._targetPropertyNames;i=t._targetEntity;for(var a=o.length,u=0;u<a&&e(i);u++)i=i[o[u]];if(e(i))t._targetProperty=i,t._resolveProperty=!n;else if(!e(t._targetProperty))throw new r('targetProperty "'+t._targetId+"."+o.join(".")+'" could not be resolved.')}return i}function u(t,r,o){if(!e(t))throw new i("targetCollection is required.");if(!e(r)||""===r)throw new i("targetId is required.");if(!e(o)||0===o.length)throw new i("targetPropertyNames is required.");for(var s=0;s<o.length;s++){var a=o[s];if(!e(a)||""===a)throw new i("reference contains invalid properties.")}this._targetCollection=t,this._targetId=r,this._targetPropertyNames=o,this._targetProperty=void 0,this._targetEntity=void 0,this._definitionChanged=new n,this._resolveEntity=!0,this._resolveProperty=!0,t.collectionChanged.addEventListener(u.prototype._onCollectionChanged,this)}return t(u.prototype,{isConstant:{get:function(){return o.isConstant(a(this))}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return a(this).referenceFrame}},targetId:{get:function(){return this._targetId}},targetCollection:{get:function(){return this._targetCollection}},targetPropertyNames:{get:function(){return this._targetPropertyNames}},resolvedProperty:{get:function(){return a(this)}}}),u.fromString=function(t,n){if(!e(t))throw new i("targetCollection is required.");if(!e(n))throw new i("referenceString is required.");for(var r,o=[],s=!0,a=!1,c="",l=0;l<n.length;++l){var f=n.charAt(l);a?(c+=f,a=!1):"\\"===f?a=!0:s&&"#"===f?(r=c,s=!1,c=""):s||"."!==f?c+=f:(o.push(c),c="")}return o.push(c),new u(t,r,o)},u.prototype.getValue=function(e,t){return a(this).getValue(e,t)},u.prototype.getValueInReferenceFrame=function(e,t,i){return a(this).getValueInReferenceFrame(e,t,i)},u.prototype.getType=function(e){return a(this).getType(e)},u.prototype.equals=function(e){if(this===e)return!0;var t=this._targetPropertyNames,i=e._targetPropertyNames;if(this._targetCollection!==e._targetCollection||this._targetId!==e._targetId||t.length!==i.length)return!1;for(var n=this._targetPropertyNames.length,r=0;r<n;r++)if(t[r]!==i[r])return!1;return!0},u.prototype._onTargetEntityDefinitionChanged=function(e,t,i,n){this._targetPropertyNames[0]===t&&(this._resolveProperty=!0,this._definitionChanged.raiseEvent(this))},u.prototype._onCollectionChanged=function(t,i,n){var r=this._targetEntity;e(r)&&(n.indexOf(r)!==-1?(r.definitionChanged.removeEventListener(u.prototype._onTargetEntityDefinitionChanged,this),this._resolveEntity=!0,this._resolveProperty=!0):this._resolveEntity&&(a(this),this._resolveEntity||this._definitionChanged.raiseEvent(this)))},u})}(),function(){var t=e.amdDefine;t("1e",["11"],function(e){"use strict";var t={FIXED:0,INERTIAL:1};return e(t)})}(),function(){var t=e.amdDefine;t("1f",["1d","5","6","7","23","24","25","1e","26"],function(e,t,i,n,r,o,s,a,u){"use strict";function c(){n.throwInstantiationError()}function l(e,t){return e&&e.id?e.id===(t&&t.id):e===t}function f(e){for(var i=[];t(e);)i.unshift(e),e=e.position&&e.position.referenceFrame;return i}function h(e,t){if(!l(e[0],t[0]))return-1;for(var i=Math.min(e.length,t.length),n=0;n<=i;n++)if(!l(e[n],t[n]))return n-1;return-1}function d(e){var i=u.computeIcrfToFixedMatrix(e,M);return t(i)||(i=u.computeTemeToPseudoFixedMatrix(e,M)),i}i(c.prototype,{isConstant:{get:n.throwInstantiationError},definitionChanged:{get:n.throwInstantiationError},referenceFrame:{get:n.throwInstantiationError}}),c.prototype.getValue=n.throwInstantiationError,c.prototype.getValueInReferenceFrame=n.throwInstantiationError,c.prototype.equals=n.throwInstantiationError;var M=new r,w=new r,g=new e,y=new s;return c.convertToReferenceFrame=function(i,n,o,u,c){if(!t(n))return n;if(t(c)||(c=new e),o===u)return e.clone(n,c);if(t(o)&&t(u)){var l=f(o),M=f(u),p=h(l,M),A=l[p],v=function(n,o){if(!t(n))return n;var s=o.position;if(t(s)){var a=s.referenceFrame,u=s.getValueInReferenceFrame(i,a,g);if(t(u)){var c=o.orientation;if(t(c)){var l=c.getValue(i,y);if(!t(l))return;return r.fromQuaternion(l,w),r.multiplyByVector(w,n,n),e.add(u,n,n)}return e.add(u,n,n)}}},m=function(n,o){if(!t(n))return n;var a=o.position;if(t(a)){var u=a.referenceFrame,c=a.getValueInReferenceFrame(i,u,g);if(t(c)){n=e.subtract(n,c,n);var l=o.orientation;if(t(l)){var f=l.getValue(i,y);if(!t(f))return;s.conjugate(f,f),r.fromQuaternion(f,w),r.multiplyByVector(w,n,n)}return n}}};if(t(A)){l=l.slice(p+1),M=M.slice(p+1);var D=l.reduceRight(v,e.clone(n,c));if(!t(D))return;return M.reduce(m,D)}var E,N,I=l.shift(),T=M.shift();if(I===a.INERTIAL&&T===a.FIXED){if(N=l.reduceRight(v,e.clone(n,c)),!t(N))return;return E=r.multiplyByVector(d(i),N,c),M.reduce(m,E)}if(I===a.FIXED&&T===a.INERTIAL){if(E=l.reduceRight(v,e.clone(n,c)),!t(E))return;var L=r.transpose(d(i),w);return N=r.multiplyByVector(L,E,c),M.reduce(m,N)}}},c})}(),function(){var t=e.amdDefine;t("2b",["16","5","6","7","11","17"],function(e,t,i,n,r,o){"use strict";function s(i){i=e(i,e.EMPTY_OBJECT),this.start=t(i.start)?o.clone(i.start):new o,this.stop=t(i.stop)?o.clone(i.stop):new o,this.data=i.data,this.isStartIncluded=e(i.isStartIncluded,!0),this.isStopIncluded=e(i.isStopIncluded,!0)}i(s.prototype,{isEmpty:{get:function(){var e=o.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var a={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};return s.fromIso8601=function(i,r){if(!t(i))throw new n("options is required.");if(!t(i.iso8601))throw new n("options.iso8601 is required.");var u=i.iso8601.split("/"),c=o.fromIso8601(u[0]),l=o.fromIso8601(u[1]),f=e(i.isStartIncluded,!0),h=e(i.isStopIncluded,!0),d=i.data;return t(r)?(r.start=c,r.stop=l,r.isStartIncluded=f,r.isStopIncluded=h,r.data=d,r):(a.start=c,a.stop=l,a.isStartIncluded=f,a.isStopIncluded=h,a.data=d,new s(a))},s.toIso8601=function(e,i){if(!t(e))throw new n("timeInterval is required.");return o.toIso8601(e.start,i)+"/"+o.toIso8601(e.stop,i)},s.clone=function(e,i){if(t(e))return t(i)?(i.start=e.start,i.stop=e.stop,i.isStartIncluded=e.isStartIncluded,i.isStopIncluded=e.isStopIncluded,i.data=e.data,i):new s(e)},s.equals=function(e,i,n){return e===i||t(e)&&t(i)&&(e.isEmpty&&i.isEmpty||e.isStartIncluded===i.isStartIncluded&&e.isStopIncluded===i.isStopIncluded&&o.equals(e.start,i.start)&&o.equals(e.stop,i.stop)&&(e.data===i.data||t(n)&&n(e.data,i.data)))},s.equalsEpsilon=function(e,i,r,s){if("number"!=typeof r)throw new n("epsilon is required and must be a number.");return e===i||t(e)&&t(i)&&(e.isEmpty&&i.isEmpty||e.isStartIncluded===i.isStartIncluded&&e.isStopIncluded===i.isStopIncluded&&o.equalsEpsilon(e.start,i.start,r)&&o.equalsEpsilon(e.stop,i.stop,r)&&(e.data===i.data||t(s)&&s(e.data,i.data)))},s.intersect=function(e,i,r,a){if(!t(e))throw new n("left is required.");if(!t(r))throw new n("result is required.");if(!t(i))return s.clone(s.EMPTY,r);var u=e.start,c=e.stop,l=i.start,f=i.stop,h=o.greaterThanOrEquals(l,u)&&o.greaterThanOrEquals(c,l),d=!h&&o.lessThanOrEquals(l,u)&&o.lessThanOrEquals(u,f);if(!h&&!d)return s.clone(s.EMPTY,r);var M=e.isStartIncluded,w=e.isStopIncluded,g=i.isStartIncluded,y=i.isStopIncluded,p=o.lessThan(c,f);return r.start=h?l:u,r.isStartIncluded=M&&g||!o.equals(l,u)&&(h&&g||d&&M),r.stop=p?c:f,r.isStopIncluded=p?w:w&&y||!o.equals(f,c)&&y,r.data=t(a)?a(e.data,i.data):e.data,r},s.contains=function(e,i){if(!t(e))throw new n("timeInterval is required.");if(!t(i))throw new n("julianDate is required.");if(e.isEmpty)return!1;var r=o.compare(e.start,i);if(0===r)return e.isStartIncluded;var s=o.compare(i,e.stop);return 0===s?e.isStopIncluded:r<0&&s<0},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e,t){return s.equals(this,e,t)},s.prototype.equalsEpsilon=function(e,t,i){return s.equalsEpsilon(this,e,t,i)},s.prototype.toString=function(){return s.toIso8601(this)},s.EMPTY=r(new s({start:new o,stop:new o,isStartIncluded:!1,isStopIncluded:!1})),s})}(),function(){var t=e.amdDefine;t("29",["11","17","2b"],function(e,t,i){"use strict";var n=e(t.fromIso8601("0000-01-01T00:00:00Z")),r=e(t.fromIso8601("9999-12-31T24:00:00Z")),o=e(new i({start:n,stop:r})),s={MINIMUM_VALUE:n,MAXIMUM_VALUE:r,MAXIMUM_INTERVAL:o};return s})}(),function(){var t=e.amdDefine;t("27",["16","5","6","7","29"],function(e,t,i,n,r){"use strict";function o(){n.throwInstantiationError()}return i(o.prototype,{isConstant:{get:n.throwInstantiationError},definitionChanged:{get:n.throwInstantiationError}}),o.prototype.getValue=n.throwInstantiationError,o.prototype.equals=n.throwInstantiationError,o.equals=function(e,i){return e===i||t(e)&&e.equals(i)},o.arrayEquals=function(e,i){if(e===i)return!0;if(!t(e)||!t(i)||e.length!==i.length)return!1;for(var n=e.length,r=0;r<n;r++)if(!o.equals(e[r],i[r]))return!1;return!0},o.isConstant=function(e){return!t(e)||e.isConstant},o.getValueOrUndefined=function(e,i,n){return t(e)?e.getValue(i,n):void 0},o.getValueOrDefault=function(i,n,r,o){return t(i)?e(i.getValue(n,o),r):r},o.getValueOrClonedDefault=function(e,i,n,r){var o;return t(e)&&(o=e.getValue(i,r)),t(o)||(o=n.clone(o)),o},o})}(),function(){var t=e.amdDefine;t("39",["1d","16","5","6","7","8","1e","1f","27","3a"],function(e,t,i,n,r,o,s,a,u,c){"use strict";function l(i,n){n=t(n,0);var r;if(n>0){r=new Array(n);for(var a=0;a<n;a++)r[a]=e}this._numberOfDerivatives=n,this._property=new c(e,r),this._definitionChanged=new o,this._referenceFrame=t(i,s.FIXED),this._property._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)}return n(l.prototype,{isConstant:{get:function(){return this._property.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}},interpolationDegree:{get:function(){return this._property.interpolationDegree}},interpolationAlgorithm:{get:function(){return this._property.interpolationAlgorithm}},numberOfDerivatives:{get:function(){return this._numberOfDerivatives}},forwardExtrapolationType:{get:function(){return this._property.forwardExtrapolationType},set:function(e){this._property.forwardExtrapolationType=e}},forwardExtrapolationDuration:{get:function(){return this._property.forwardExtrapolationDuration},set:function(e){this._property.forwardExtrapolationDuration=e}},backwardExtrapolationType:{get:function(){return this._property.backwardExtrapolationType},set:function(e){this._property.backwardExtrapolationType=e}},backwardExtrapolationDuration:{get:function(){return this._property.backwardExtrapolationDuration},set:function(e){this._property.backwardExtrapolationDuration=e}}}),l.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,s.FIXED,t)},l.prototype.getValueInReferenceFrame=function(e,t,n){if(!i(e))throw new r("time is required.");if(!i(t))throw new r("referenceFrame is required.");if(n=this._property.getValue(e,n),i(n))return a.convertToReferenceFrame(e,n,this._referenceFrame,t,n)},l.prototype.setInterpolationOptions=function(e){this._property.setInterpolationOptions(e)},l.prototype.addSample=function(e,t,n){var o=this._numberOfDerivatives;if(o>0&&(!i(n)||n.length!==o))throw new r("derivatives length must be equal to the number of derivatives.");this._property.addSample(e,t,n)},l.prototype.addSamples=function(e,t,i){this._property.addSamples(e,t,i)},l.prototype.addSamplesPackedArray=function(e,t){this._property.addSamplesPackedArray(e,t)},l.prototype.equals=function(e){return this===e||e instanceof l&&u.equals(this._property,e._property)&&this._referenceFrame===e._referenceFrame},l})}(),function(){var t=e.amdDefine;t("8",["5","6","7"],function(e,t,i){"use strict";function n(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}return t(n.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),n.prototype.addEventListener=function(e,t){if("function"!=typeof e)throw new i("listener is required and must be a function.");this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},n.prototype.removeEventListener=function(e,t){if("function"!=typeof e)throw new i("listener is required and must be a function.");for(var n=this._listeners,r=this._scopes,o=-1,s=0;s<n.length;s++)if(n[s]===e&&r[s]===t){o=s;break}return o!==-1&&(this._insideRaiseEvent?(this._toRemove.push(o),n[o]=void 0,r[o]=void 0):(n.splice(o,1),r.splice(o,1)),!0)},n.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;var t,i=this._listeners,n=this._scopes,r=i.length;for(t=0;t<r;t++){var o=i[t];e(o)&&i[t].apply(n[t],arguments)}
var s=this._toRemove;for(r=s.length,t=0;t<r;t++){var a=s[t];i.splice(a,1),n.splice(a,1)}s.length=0,this._insideRaiseEvent=!1},n})}(),function(){var t=e.amdDefine;t("3b",["11"],function(e){"use strict";var t={NONE:0,HOLD:1,EXTRAPOLATE:2};return e(t)})}(),function(){var t=e.amdDefine;t("3c",["5","7"],function(e,t){"use strict";var i={type:"Linear"};return i.getRequiredDataPoints=function(e){return 2},i.interpolateOrderZero=function(i,n,r,o,s){if(2!==n.length)throw new t("The xTable provided to the linear interpolator must have exactly two elements.");if(o<=0)throw new t("There must be at least 1 dependent variable for each independent variable.");e(s)||(s=new Array(o));var a,u,c,l=n[0],f=n[1];if(l===f)throw new t("Divide by zero error: xTable[0] and xTable[1] are equal");for(a=0;a<o;a++)u=r[a],c=r[a+o],s[a]=((c-u)*i+f*u-l*c)/(f-l);return s},i})}(),function(){var t=e.amdDefine;t("3a",["3d","16","5","6","7","8","3b","17","3c"],function(e,t,i,n,r,o,s,a,u){"use strict";function c(e,t,i){var n,r=e.length,o=i.length,s=r+o;if(e.length=s,r!==t){var a=r-1;for(n=s-1;n>=t;n--)e[n]=e[a--]}for(n=0;n<o;n++)e[t++]=i[n]}function l(e,t){return e instanceof a?e:"string"==typeof e?a.fromIso8601(e):a.addSeconds(t,e,new a)}function f(t,n,r,o,s){for(var u,f,h,d,g,y,p=0;p<o.length;){g=l(o[p],t),h=e(n,g,a.compare);var A=0,v=0;if(h<0){for(h=~h,d=h*s,f=void 0,y=n[h];p<o.length&&(g=l(o[p],t),!(i(f)&&a.compare(f,g)>=0||i(y)&&a.compare(g,y)>=0));){for(M[A++]=g,p+=1,u=0;u<s;u++)w[v++]=o[p],p+=1;f=g}A>0&&(w.length=v,c(r,d,w),M.length=A,c(n,h,M))}else{for(u=0;u<s;u++)p++,r[h*s+u]=o[p];p++}}}function h(e,n){if(!i(e))throw new r("type is required.");var a=e;a===Number&&(a=d);var c,l=a.packedLength,f=t(a.packedInterpolationLength,l),h=0;if(i(n)){var M=n.length;c=new Array(M);for(var w=0;w<M;w++){var g=n[w];g===Number&&(g=d);var y=g.packedLength;l+=y,f+=t(g.packedInterpolationLength,y),c[w]=g}h=M}this._type=e,this._innerType=a,this._interpolationDegree=1,this._interpolationAlgorithm=u,this._numberOfPoints=0,this._times=[],this._values=[],this._xTable=[],this._yTable=[],this._packedLength=l,this._packedInterpolationLength=f,this._updateTableLength=!0,this._interpolationResult=new Array(f),this._definitionChanged=new o,this._derivativeTypes=n,this._innerDerivativeTypes=c,this._inputOrder=h,this._forwardExtrapolationType=s.NONE,this._forwardExtrapolationDuration=0,this._backwardExtrapolationType=s.NONE,this._backwardExtrapolationDuration=0}var d={packedLength:1,pack:function(e,i,n){n=t(n,0),i[n]=e},unpack:function(e,i,n){return i=t(i,0),e[i]}},M=[],w=[];return n(h.prototype,{isConstant:{get:function(){return 0===this._values.length}},definitionChanged:{get:function(){return this._definitionChanged}},type:{get:function(){return this._type}},derivativeTypes:{get:function(){return this._derivativeTypes}},interpolationDegree:{get:function(){return this._interpolationDegree}},interpolationAlgorithm:{get:function(){return this._interpolationAlgorithm}},forwardExtrapolationType:{get:function(){return this._forwardExtrapolationType},set:function(e){this._forwardExtrapolationType!==e&&(this._forwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},forwardExtrapolationDuration:{get:function(){return this._forwardExtrapolationDuration},set:function(e){this._forwardExtrapolationDuration!==e&&(this._forwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationType:{get:function(){return this._backwardExtrapolationType},set:function(e){this._backwardExtrapolationType!==e&&(this._backwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationDuration:{get:function(){return this._backwardExtrapolationDuration},set:function(e){this._backwardExtrapolationDuration!==e&&(this._backwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}}}),h.prototype.getValue=function(t,n){if(!i(t))throw new r("time is required.");var o=this._times,u=o.length;if(0!==u){var c,l=this._innerType,f=this._values,h=e(o,t,a.compare);if(h<0){if(h=~h,0===h){var d=o[h];if(c=this._backwardExtrapolationDuration,this._backwardExtrapolationType===s.NONE||0!==c&&a.secondsDifference(d,t)>c)return;if(this._backwardExtrapolationType===s.HOLD)return l.unpack(f,0,n)}if(h>=u){h=u-1;var M=o[h];if(c=this._forwardExtrapolationDuration,this._forwardExtrapolationType===s.NONE||0!==c&&a.secondsDifference(t,M)>c)return;if(this._forwardExtrapolationType===s.HOLD)return h=u-1,l.unpack(f,h*l.packedLength,n)}var w=this._xTable,g=this._yTable,y=this._interpolationAlgorithm,p=this._packedInterpolationLength,A=this._inputOrder;if(this._updateTableLength){this._updateTableLength=!1;var v=Math.min(y.getRequiredDataPoints(this._interpolationDegree,A),u);v!==this._numberOfPoints&&(this._numberOfPoints=v,w.length=v,g.length=v*p)}var m=this._numberOfPoints-1;if(m<1)return;var D=0,E=u-1,N=E-D+1;if(N>=m+1){var I=h-(m/2|0)-1;I<D&&(I=D);var T=I+m;T>E&&(T=E,I=T-m,I<D&&(I=D)),D=I,E=T}for(var L=E-D+1,j=0;j<L;++j)w[j]=a.secondsDifference(o[D+j],o[E]);if(i(l.convertPackedArrayForInterpolation))l.convertPackedArrayForInterpolation(f,D,E,g);else for(var x=0,S=this._packedLength,O=D*S,C=(E+1)*S;O<C;)g[x]=f[O],O++,x++;var z,b=a.secondsDifference(t,o[E]);if(0!==A&&i(y.interpolate)){var _=Math.floor(p/(A+1));z=y.interpolate(b,w,g,_,A,A,this._interpolationResult)}else z=y.interpolateOrderZero(b,w,g,p,this._interpolationResult);return i(l.unpackInterpolationResult)?l.unpackInterpolationResult(z,f,D,E,n):l.unpack(z,0,n)}return l.unpack(f,h*this._packedLength,n)}},h.prototype.setInterpolationOptions=function(e){if(!i(e))throw new r("options is required.");var t=!1,n=e.interpolationAlgorithm,o=e.interpolationDegree;this._interpolationAlgorithm!==n&&(this._interpolationAlgorithm=n,t=!0),this._interpolationDegree!==o&&(this._interpolationDegree=o,t=!0),t&&(this._updateTableLength=!0,this._definitionChanged.raiseEvent(this))},h.prototype.addSample=function(e,t,n){var o=this._innerDerivativeTypes,s=i(o);if(!i(e))throw new r("time is required.");if(!i(t))throw new r("value is required.");if(s&&!i(n))throw new r("derivatives is required.");var a=this._innerType,u=[];if(u.push(e),a.pack(t,u,u.length),s)for(var c=o.length,l=0;l<c;l++)o[l].pack(n[l],u,u.length);f(void 0,this._times,this._values,u,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},h.prototype.addSamples=function(e,t,n){var o=this._innerDerivativeTypes,s=i(o);if(!i(e))throw new r("times is required.");if(!i(t))throw new r("values is required.");if(e.length!==t.length)throw new r("times and values must be the same length.");if(s&&(!i(n)||n.length!==e.length))throw new r("times and derivativeValues must be the same length.");for(var a=this._innerType,u=e.length,c=[],l=0;l<u;l++)if(c.push(e[l]),a.pack(t[l],c,c.length),s)for(var h=n[l],d=o.length,M=0;M<d;M++)o[M].pack(h[M],c,c.length);f(void 0,this._times,this._values,c,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},h.prototype.addSamplesPackedArray=function(e,t){if(!i(e))throw new r("packedSamples is required.");f(t,this._times,this._values,e,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},h.prototype.equals=function(e){if(this===e)return!0;if(!i(e))return!1;if(this._type!==e._type||this._interpolationDegree!==e._interpolationDegree||this._interpolationAlgorithm!==e._interpolationAlgorithm)return!1;var t=this._derivativeTypes,n=i(t),r=e._derivativeTypes,o=i(r);if(n!==o)return!1;var s,u;if(n){if(u=t.length,u!==r.length)return!1;for(s=0;s<u;s++)if(t[s]!==r[s])return!1}var c=this._times,l=e._times;if(u=c.length,u!==l.length)return!1;for(s=0;s<u;s++)if(!a.equals(c[s],l[s]))return!1;var f=this._values,h=e._values;for(s=0;s<u;s++)if(f[s]!==h[s])return!1;return!0},h._mergeNewSamples=f,h})}(),function(){var t=e.amdDefine;t("28",["5","6","7"],function(e,t,i){"use strict";function n(){this._array=[],this._hash={}}return t(n.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),n.prototype.contains=function(t){if("string"!=typeof t&&"number"!=typeof t)throw new i("key is required to be a string or number.");return e(this._hash[t])},n.prototype.set=function(e,t){if("string"!=typeof e&&"number"!=typeof e)throw new i("key is required to be a string or number.");var n=this._hash[e];t!==n&&(this.remove(e),this._hash[e]=t,this._array.push(t))},n.prototype.get=function(e){if("string"!=typeof e&&"number"!=typeof e)throw new i("key is required to be a string or number.");return this._hash[e]},n.prototype.remove=function(t){if(e(t)&&"string"!=typeof t&&"number"!=typeof t)throw new i("key is required to be a string or number.");var n=this._hash[t],r=e(n);if(r){var o=this._array;o.splice(o.indexOf(n),1),delete this._hash[t]}return r},n.prototype.removeAll=function(){var e=this._array;e.length>0&&(this._hash={},e.length=0)},n})}(),function(){var t=e.amdDefine;t("b",["16","7"],function(e,t){"use strict";function i(){return!0}function n(n,r){function o(){throw new t(r)}r=e(r,"This object was destroyed, i.e., destroy() was called.");for(var s in n)"function"==typeof n[s]&&(n[s]=o);n.isDestroyed=i}return n})}(),function(){var t=e.amdDefine;t("c",["11"],function(e){"use strict";var t={SHIFT:0,CTRL:1,ALT:2};return e(t)})}(),function(){var t=e.amdDefine;t("e",["28","a","16","5","b","7","3e","c","f"],function(e,t,i,n,r,o,s,a,u){"use strict";function c(e,t,i){var n=e._element;if(n===document)return i.x=t.clientX,i.y=t.clientY,i;var r=n.getBoundingClientRect();return i.x=t.clientX-r.left,i.y=t.clientY-r.top,i}function l(e,t){var i=e;return n(t)&&(i+="+"+t),i}function f(e){return e.shiftKey?a.SHIFT:e.ctrlKey?a.CTRL:e.altKey?a.ALT:void 0}function h(e,t,i,n){function r(t){n(e,t)}i.addEventListener(t,r,!1),e._removalFunctions.push(function(){i.removeEventListener(t,r,!1)})}function d(e){var t=e._element,i=n(t.disableRootEvents)?t:document;s.supportsPointerEvents()?(h(e,"pointerdown",t,I),h(e,"pointerup",t,T),h(e,"pointermove",t,L)):(h(e,"mousedown",t,w),h(e,"mouseup",i,g),h(e,"mousemove",i,y),h(e,"touchstart",t,v),h(e,"touchend",i,m),h(e,"touchmove",i,E)),h(e,"dblclick",t,p);var r;r="onwheel"in t?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",h(e,r,t,A)}function M(e){for(var t=e._removalFunctions,i=0;i<t.length;++i)t[i]()}function w(e,i){if(!e._seenAnyTouchEvents){var r=i.button;e._buttonDown=r;var o;if(r===x.LEFT)o=u.LEFT_DOWN;else if(r===x.MIDDLE)o=u.MIDDLE_DOWN;else{if(r!==x.RIGHT)return;o=u.RIGHT_DOWN}var s=c(e,i,e._primaryPosition);t.clone(s,e._primaryStartPosition),t.clone(s,e._primaryPreviousPosition);var a=f(i),l=e.getInputAction(o,a);n(l)&&(t.clone(s,S.position),l(S),i.preventDefault())}}function g(e,i){if(!e._seenAnyTouchEvents){var r=i.button;e._buttonDown=void 0;var o,s;if(r===x.LEFT)o=u.LEFT_UP,s=u.LEFT_CLICK;else if(r===x.MIDDLE)o=u.MIDDLE_UP,s=u.MIDDLE_CLICK;else{if(r!==x.RIGHT)return;o=u.RIGHT_UP,s=u.RIGHT_CLICK}var a=f(i),l=e.getInputAction(o,a),h=e.getInputAction(s,a);if(n(l)||n(h)){var d=c(e,i,e._primaryPosition);if(n(l)&&(t.clone(d,O.position),l(O)),n(h)){var M=e._primaryStartPosition,w=M.x-d.x,g=M.y-d.y,y=Math.sqrt(w*w+g*g);y<e._clickPixelTolerance&&(t.clone(d,C.position),h(C))}}}}function y(e,i){if(!e._seenAnyTouchEvents){var r=f(i),o=c(e,i,e._primaryPosition),s=e._primaryPreviousPosition,a=e.getInputAction(u.MOUSE_MOVE,r);n(a)&&(t.clone(s,z.startPosition),t.clone(o,z.endPosition),a(z)),t.clone(o,s),n(e._buttonDown)&&i.preventDefault()}}function p(e,t){var i,r=t.button;if(r===x.LEFT)i=u.LEFT_DOUBLE_CLICK;else if(r===x.MIDDLE)i=u.MIDDLE_DOUBLE_CLICK;else{if(r!==x.RIGHT)return;i=u.RIGHT_DOUBLE_CLICK}var o=f(t),s=e.getInputAction(i,o);n(s)&&(c(e,t,b.position),s(b))}function A(e,t){var i;if(n(t.deltaY)){var r=t.deltaMode;i=r===t.DOM_DELTA_PIXEL?-t.deltaY:r===t.DOM_DELTA_LINE?40*-t.deltaY:120*-t.deltaY}else i=t.detail>0?t.detail*-120:t.wheelDelta;if(n(i)){var o=f(t),s=e.getInputAction(u.WHEEL,o);n(s)&&(s(i),t.preventDefault())}}function v(e,i){e._seenAnyTouchEvents=!0;var n,r,o,s=i.changedTouches,a=s.length,u=e._positions;for(n=0;n<a;++n)r=s[n],o=r.identifier,u.set(o,c(e,r,new t));D(e,i);var l=e._previousPositions;for(n=0;n<a;++n)r=s[n],o=r.identifier,l.set(o,t.clone(u.get(o)))}function m(e,t){e._seenAnyTouchEvents=!0;var i,n,r,o=t.changedTouches,s=o.length,a=e._positions;for(i=0;i<s;++i)n=o[i],r=n.identifier,a.remove(r);D(e,t);var u=e._previousPositions;for(i=0;i<s;++i)n=o[i],r=n.identifier,u.remove(r)}function D(e,i){var r,o,s=f(i),a=e._positions,c=e._previousPositions,l=a.length;if(1!==l&&e._buttonDown===x.LEFT&&(e._buttonDown=void 0,r=e.getInputAction(u.LEFT_UP,s),n(r)&&(t.clone(e._primaryPosition,R.position),r(R)),0===l&&(o=e.getInputAction(u.LEFT_CLICK,s),n(o)))){var h=e._primaryStartPosition,d=c.values[0],M=h.x-d.x,w=h.y-d.y,g=Math.sqrt(M*M+w*w);g<e._clickPixelTolerance&&(t.clone(e._primaryPosition,P.position),o(P))}if(2!==l&&e._isPinching&&(e._isPinching=!1,r=e.getInputAction(u.PINCH_END,s),n(r)&&r()),1===l){var y=a.values[0];t.clone(y,e._primaryPosition),t.clone(y,e._primaryStartPosition),t.clone(y,e._primaryPreviousPosition),e._buttonDown=x.LEFT,r=e.getInputAction(u.LEFT_DOWN,s),n(r)&&(t.clone(y,_.position),r(_)),i.preventDefault()}2===l&&(e._isPinching=!0,r=e.getInputAction(u.PINCH_START,s),n(r)&&(t.clone(a.values[0],k.position1),t.clone(a.values[1],k.position2),r(k)))}function E(e,i){e._seenAnyTouchEvents=!0;var r,o,s,a=i.changedTouches,u=a.length,l=e._positions;for(r=0;r<u;++r){o=a[r],s=o.identifier;var f=l.get(s);n(f)&&c(e,o,f)}N(e,i);var h=e._previousPositions;for(r=0;r<u;++r)o=a[r],s=o.identifier,t.clone(l.get(s),h.get(s))}function N(e,i){var r,o=f(i),s=e._positions,a=e._previousPositions,c=s.length;if(1===c&&e._buttonDown===x.LEFT){var l=s.values[0];t.clone(l,e._primaryPosition);var h=e._primaryPreviousPosition;r=e.getInputAction(u.MOUSE_MOVE,o),n(r)&&(t.clone(h,U.startPosition),t.clone(l,U.endPosition),r(U)),t.clone(l,h),i.preventDefault()}else if(2===c&&e._isPinching&&(r=e.getInputAction(u.PINCH_MOVE,o),n(r))){var d=s.values[0],M=s.values[1],w=a.values[0],g=a.values[1],y=M.x-d.x,p=M.y-d.y,A=.25*Math.sqrt(y*y+p*p),v=g.x-w.x,m=g.y-w.y,D=.25*Math.sqrt(v*v+m*m),E=.125*(M.y+d.y),N=.125*(g.y+w.y),I=Math.atan2(p,y),T=Math.atan2(m,v);t.fromElements(0,D,Q.distance.startPosition),t.fromElements(0,A,Q.distance.endPosition),t.fromElements(T,N,Q.angleAndHeight.startPosition),t.fromElements(I,E,Q.angleAndHeight.endPosition),r(Q)}}function I(e,i){if(i.target.setPointerCapture(i.pointerId),"touch"===i.pointerType){var n=e._positions,r=i.pointerId;n.set(r,c(e,i,new t)),D(e,i);var o=e._previousPositions;o.set(r,t.clone(n.get(r)))}else w(e,i)}function T(e,t){if("touch"===t.pointerType){var i=e._positions,n=t.pointerId;i.remove(n),D(e,t);var r=e._previousPositions;r.remove(n)}else g(e,t)}function L(e,i){if("touch"===i.pointerType){var n=e._positions,r=i.pointerId;c(e,i,n.get(r)),N(e,i);var o=e._previousPositions;t.clone(n.get(r),o.get(r))}else y(e,i)}function j(n){this._inputEvents={},this._buttonDown=void 0,this._isPinching=!1,this._seenAnyTouchEvents=!1,this._primaryStartPosition=new t,this._primaryPosition=new t,this._primaryPreviousPosition=new t,this._positions=new e,this._previousPositions=new e,this._removalFunctions=[],this._clickPixelTolerance=5,this._element=i(n,document),d(this)}var x={LEFT:0,MIDDLE:1,RIGHT:2},S={position:new t},O={position:new t},C={position:new t},z={startPosition:new t,endPosition:new t},b={position:new t},_={position:new t},k={position1:new t,position2:new t},R={position:new t},P={position:new t},U={startPosition:new t,endPosition:new t},Q={distance:{startPosition:new t,endPosition:new t},angleAndHeight:{startPosition:new t,endPosition:new t}};return j.prototype.setInputAction=function(e,t,i){if(!n(e))throw new o("action is required.");if(!n(t))throw new o("type is required.");var r=l(t,i);this._inputEvents[r]=e},j.prototype.getInputAction=function(e,t){if(!n(e))throw new o("type is required.");var i=l(e,t);return this._inputEvents[i]},j.prototype.removeInputAction=function(e,t){if(!n(e))throw new o("type is required.");var i=l(e,t);delete this._inputEvents[i]},j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){return M(this),r(this)},j})}(),function(){var t=e.amdDefine;t("f",["11"],function(e){"use strict";var t={LEFT_DOWN:0,LEFT_UP:1,LEFT_CLICK:2,LEFT_DOUBLE_CLICK:3,RIGHT_DOWN:5,RIGHT_UP:6,RIGHT_CLICK:7,RIGHT_DOUBLE_CLICK:8,MIDDLE_DOWN:10,MIDDLE_UP:11,MIDDLE_CLICK:12,MIDDLE_DOUBLE_CLICK:13,MOUSE_MOVE:15,WHEEL:16,PINCH_START:17,PINCH_END:18,PINCH_MOVE:19};return e(t)})}(),function(){var t=e.amdDefine;t("a",["16","5","7","11","d"],function(e,t,i,n,r){"use strict";function o(t,i){this.x=e(t,0),this.y=e(i,0)}o.fromElements=function(e,i,n){return t(n)?(n.x=e,n.y=i,n):new o(e,i)},o.clone=function(e,i){if(t(e))return t(i)?(i.x=e.x,i.y=e.y,i):new o(e.x,e.y)},o.fromCartesian3=o.clone,o.fromCartesian4=o.clone,o.packedLength=2,o.pack=function(n,r,o){if(!t(n))throw new i("value is required");if(!t(r))throw new i("array is required");o=e(o,0),r[o++]=n.x,r[o]=n.y},o.unpack=function(n,r,s){if(!t(n))throw new i("array is required");return r=e(r,0),t(s)||(s=new o),s.x=n[r++],s.y=n[r],s},o.packArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=2*r:n=new Array(2*r);for(var s=0;s<r;++s)o.pack(e[s],n,2*s);return n},o.unpackArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=r/2:n=new Array(r/2);for(var s=0;s<r;s+=2){var a=s/2;n[a]=o.unpack(e,s,n[a])}return n},o.fromArray=o.unpack,o.maximumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.max(e.x,e.y)},o.minimumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.min(e.x,e.y)},o.minimumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r},o.maximumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r},o.magnitudeSquared=function(e){if(!t(e))throw new i("cartesian is required");return e.x*e.x+e.y*e.y},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var s=new o;o.distance=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitude(s)},o.distanceSquared=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitudeSquared(s)},o.normalize=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");var r=o.magnitude(e);return n.x=e.x/r,n.y=e.y/r,n},o.dot=function(e,n){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");return e.x*n.x+e.y*n.y},o.multiplyComponents=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x*n.x,r.y=e.y*n.y,r},o.add=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x+n.x,r.y=e.y+n.y,r},o.subtract=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x-n.x,r.y=e.y-n.y,r},o.multiplyByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x*n,r.y=e.y*n,r},o.divideByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x/n,r.y=e.y/n,r},o.negate=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=-e.x,n.y=-e.y,n},o.abs=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n};var a=new o;o.lerp=function(e,n,r,s){if(!t(e))throw new i("start is required.");if(!t(n))throw new i("end is required.");if("number"!=typeof r)throw new i("t is required and must be a number.");if(!t(s))throw new i("result is required.");return o.multiplyByScalar(n,r,a),s=o.multiplyByScalar(e,1-r,s),o.add(a,s,s)};var u=new o,c=new o;o.angleBetween=function(e,n){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");return o.normalize(e,u),o.normalize(n,c),r.acosClamped(o.dot(u,c))};var l=new o;return o.mostOrthogonalAxis=function(e,n){if(!t(e))throw new i("cartesian is required.");if(!t(n))throw new i("result is required.");var r=o.normalize(e,l);return o.abs(r,r),n=r.x<=r.y?o.clone(o.UNIT_X,n):o.clone(o.UNIT_Y,n)},o.equals=function(e,i){return e===i||t(e)&&t(i)&&e.x===i.x&&e.y===i.y},o.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]},o.equalsEpsilon=function(e,i,n,o){return e===i||t(e)&&t(i)&&r.equalsEpsilon(e.x,i.x,n,o)&&r.equalsEpsilon(e.y,i.y,n,o)},o.ZERO=n(new o(0,0)),o.UNIT_X=n(new o(1,0)),o.UNIT_Y=n(new o(0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,i){return o.equalsEpsilon(this,e,t,i)},o.prototype.toString=function(){return"("+this.x+", "+this.y+")"},o})}(),function(){var t=e.amdDefine;t("3f",["40","3d","16","5","41","11","17","42","43","2a","44","45"],function(e,t,i,n,r,o,s,a,u,c,l,f){"use strict";function h(t){if(t=i(t,i.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=i(t.addNewLeapSeconds,!0),n(t.data))M(this,t.data);else if(n(t.url)){var r=this;this._downloadPromise=e(u(t.url),function(e){M(r,e)},function(){r._dataError="An error occurred while retrieving the EOP data from the URL "+t.url+"."})}else M(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function d(e,t){return s.compare(e.julianDate,t)}function M(e,i){if(!n(i.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!n(i.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var r=i.columnNames.indexOf("modifiedJulianDateUtc"),o=i.columnNames.indexOf("xPoleWanderRadians"),u=i.columnNames.indexOf("yPoleWanderRadians"),c=i.columnNames.indexOf("ut1MinusUtcSeconds"),h=i.columnNames.indexOf("xCelestialPoleOffsetRadians"),M=i.columnNames.indexOf("yCelestialPoleOffsetRadians"),w=i.columnNames.indexOf("taiMinusUtcSeconds");if(r<0||o<0||u<0||c<0||h<0||M<0||w<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var g=e._samples=i.samples,y=e._dates=[];e._dateColumn=r,e._xPoleWanderRadiansColumn=o,e._yPoleWanderRadiansColumn=u,e._ut1MinusUtcSecondsColumn=c,e._xCelestialPoleOffsetRadiansColumn=h,e._yCelestialPoleOffsetRadiansColumn=M,e._taiMinusUtcSecondsColumn=w,e._columnCount=i.columnNames.length,e._lastIndex=void 0;for(var p,A=e._addNewLeapSeconds,v=0,m=g.length;v<m;v+=e._columnCount){var D=g[v+r],E=g[v+w],N=D+l.MODIFIED_JULIAN_DATE_DIFFERENCE,I=new s(N,E,f.TAI);if(y.push(I),A){if(E!==p&&n(p)){var T=s.leapSeconds,L=t(T,I,d);if(L<0){var j=new a(I,E);T.splice(~L,0,j)}}p=E}}}function w(e,t,i,n,r){var o=i*n;r.xPoleWander=t[o+e._xPoleWanderRadiansColumn],r.yPoleWander=t[o+e._yPoleWanderRadiansColumn],r.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],r.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],r.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function g(e,t,i){return t+e*(i-t)}function y(e,t,i,n,r,o,a){var u=e._columnCount;if(o>t.length-1)return a.xPoleWander=0,a.yPoleWander=0,a.xPoleOffset=0,a.yPoleOffset=0,a.ut1MinusUtc=0,a;var c=t[r],l=t[o];if(c.equals(l)||n.equals(c))return w(e,i,r,u,a),a;if(n.equals(l))return w(e,i,o,u,a),a;var f=s.secondsDifference(n,c)/s.secondsDifference(l,c),h=r*u,d=o*u,M=i[h+e._ut1MinusUtcSecondsColumn],y=i[d+e._ut1MinusUtcSecondsColumn],p=y-M;if(p>.5||p<-.5){var A=i[h+e._taiMinusUtcSecondsColumn],v=i[d+e._taiMinusUtcSecondsColumn];A!==v&&(l.equals(n)?M=y:y-=v-A)}return a.xPoleWander=g(f,i[h+e._xPoleWanderRadiansColumn],i[d+e._xPoleWanderRadiansColumn]),a.yPoleWander=g(f,i[h+e._yPoleWanderRadiansColumn],i[d+e._yPoleWanderRadiansColumn]),a.xPoleOffset=g(f,i[h+e._xCelestialPoleOffsetRadiansColumn],i[d+e._xCelestialPoleOffsetRadiansColumn]),a.yPoleOffset=g(f,i[h+e._yCelestialPoleOffsetRadiansColumn],i[d+e._yCelestialPoleOffsetRadiansColumn]),a.ut1MinusUtc=g(f,M,y),a}return h.NONE=o({getPromiseToLoad:function(){return e()},compute:function(e,t){return n(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new r(0,0,0,0,0),t}}),h.prototype.getPromiseToLoad=function(){return e(this._downloadPromise)},h.prototype.compute=function(e,i){if(n(this._samples)){if(n(i)||(i=new r(0,0,0,0,0)),0===this._samples.length)return i.xPoleWander=0,i.yPoleWander=0,i.xPoleOffset=0,i.yPoleOffset=0,i.ut1MinusUtc=0,i;var o=this._dates,a=this._lastIndex,u=0,l=0;if(n(a)){var f=o[a],h=o[a+1],d=s.lessThanOrEquals(f,e),M=!n(h),w=M||s.greaterThanOrEquals(h,e);if(d&&w)return u=a,!M&&h.equals(e)&&++u,l=u+1,y(this,o,this._samples,e,u,l,i),i}var g=t(o,e,s.compare,this._dateColumn);return g>=0?(g<o.length-1&&o[g+1].equals(e)&&++g,u=g,l=g):(l=~g,u=l-1,u<0&&(u=0)),this._lastIndex=u,y(this,o,this._samples,e,u,l,i),i}if(n(this._dataError))throw new c(this._dataError)},h})}(),function(){var t=e.amdDefine;t("41",[],function(){"use strict";function e(e,t,i,n,r){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=i,this.yPoleOffset=n,this.ut1MinusUtc=r}return e})}(),function(){var t=e.amdDefine;t("46",["47","16","5","7"],function(e,t,i,n){"use strict";function r(r,o){if(!i(r))throw new n("relative uri is required.");o=t(o,document.location.href);var s=new e(o),a=new e(r);return a.resolve(s).toString()}return r})}(),function(){var t=e.amdDefine;t("47",[],function(){function e(t){if(t instanceof e)this.scheme=t.scheme,this.authority=t.authority,this.path=t.path,this.query=t.query,this.fragment=t.fragment;else if(t){var i=n.exec(t);this.scheme=i[1],this.authority=i[2],this.path=i[3],this.query=i[4],this.fragment=i[5]}}function t(e){var t=unescape(e);return o.test(t)?t:e.toUpperCase()}function i(e,t,i,n){return(t||"")+i.toLowerCase()+(n||"")}e.prototype.scheme=null,e.prototype.authority=null,e.prototype.path="",e.prototype.query=null,e.prototype.fragment=null;var n=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query},e.prototype.getFragment=function(){return this.fragment},e.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},e.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},e.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},e.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(s,i).replace(r,t)),this.path&&(this.path=this.path.replace(r,t)),this.query&&(this.query=this.query.replace(r,t)),this.fragment&&(this.fragment=this.fragment.replace(r,t))};var r=/%[0-9a-z]{2}/gi,o=/[a-zA-Z0-9\-\._~]/,s=/(.*@)?([^@:]*)(:.*)?/;return e.prototype.resolve=function(t){var i=new e;return this.scheme?(i.scheme=this.scheme,i.authority=this.authority,i.path=this.path,i.query=this.query):(i.scheme=t.scheme,this.authority?(i.authority=this.authority,i.path=this.path,i.query=this.query):(i.authority=t.authority,""==this.path?(i.path=t.path,i.query=this.query||t.query):("/"==this.path.charAt(0)?(i.path=this.path,i.removeDotSegments()):(t.authority&&""==t.path?i.path="/"+this.path:i.path=t.path.substring(0,t.path.lastIndexOf("/")+1)+this.path,i.removeDotSegments()),i.query=this.query))),i.fragment=this.fragment,i},e.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),i=[],n=""==t[0];n&&t.shift();for(""==t[0]?t.shift():null;t.length;)e=t.shift(),".."==e?i.pop():"."!=e&&i.push(e);"."!=e&&".."!=e||i.push(""),n&&i.unshift(""),this.path=i.join("/")},e.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},e})}(),function(){var t=e.amdDefine;t("48",["47","16","5","7"],function(e,t,i,n){"use strict";function r(r,o,s){if(!i(r))throw new n("first is required");if(!i(o))throw new n("second is required");s=t(s,!0),r instanceof e||(r=new e(r)),o instanceof e||(o=new e(o)),i(o.authority)&&!i(o.scheme)&&("undefined"!=typeof document&&i(document.location)&&i(document.location.href)?o.scheme=new e(document.location.href).scheme:o.scheme=r.scheme);var a=r;o.isAbsolute()&&(a=o);var u="";i(a.scheme)&&(u+=a.scheme+":"),i(a.authority)&&(u+="//"+a.authority,""!==a.path&&"/"!==a.path&&(u=u.replace(/\/?$/,"/"),a.path=a.path.replace(/^\/?/g,""))),u+=a===r?s?r.path.replace(/\/?$/,"/")+o.path.replace(/^\/?/g,""):r.path+o.path:o.path;var c=i(r.query),l=i(o.query);c&&l?u+="?"+r.query+"&"+o.query:c&&!l?u+="?"+r.query:!c&&l&&(u+="?"+o.query);var f=i(o.fragment);return i(r.fragment)&&!f?u+="#"+r.fragment:f&&(u+="#"+o.fragment),u}return r})}(),function(){var t=e.amdDefine;t("49",["47","5","7","46","48","require"],function(e,t,i,n,r,o){"use strict";function s(){for(var e=document.getElementsByTagName("script"),t=0,i=e.length;t<i;++t){var n=e[t].getAttribute("src"),r=M.exec(n);if(null!==r)return r[1]}}function a(){if(t(f))return f;var r;if(r="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:s(),!t(r))throw new i("Unable to determine Cesium base URL automatically, try defining a global variable called CESIUM_BASE_URL.");return f=new e(n(r))}function u(e){return o.toUrl("../"+e)}function c(e){return r(a(),e)}function l(e){t(h)||(h=t(o.toUrl)?u:c),t(d)||(d=document.createElement("a"));var i=h(e);return d.href=i,d.href=d.href,d.href}var f,h,d,M=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;return l._cesiumScriptRegex=M,l.setBaseUrl=function(t){f=new e(t).resolve(new e(document.location.href))},l})}(),function(){var t=e.amdDefine;t("4a",["16"],function(e){"use strict";function t(i,n){if(null===i||"object"!=typeof i)return i;n=e(n,!1);var r=new i.constructor;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];n&&(s=t(s,n)),r[o]=s}return r}return t})}(),function(){var n=e.amdDefine;!function(e){"use strict";e("40",[],function(){function e(e,i,n,r){return t(e).then(i,n,r)}function t(e){var t,i;return e instanceof n?t=e:a(e)?(i=s(),e.then(function(e){i.resolve(e)},function(e){i.reject(e)},function(e){i.progress(e)}),t=i.promise):t=r(e),t}function i(t){return e(t,o)}function n(e){this.then=e}function r(e){var i=new n(function(i){try{return t(i?i(e):e)}catch(e){return o(e)}});return i}function o(e){var i=new n(function(i,n){try{return n?t(n(e)):o(e);
}catch(e){return o(e)}});return i}function s(){function e(e,t,i){return h(e,t,i)}function i(e){return M(e)}function r(e){return M(o(e))}function a(e){return d(e)}var u,c,l,f,h,d,M;return c=new n(e),u={then:e,resolve:i,reject:r,progress:a,promise:c,resolver:{resolve:i,reject:r,progress:a}},l=[],f=[],h=function(e,t,i){var n,r;return n=s(),r="function"==typeof i?function(e){try{n.progress(i(e))}catch(e){n.progress(e)}}:function(e){n.progress(e)},l.push(function(i){i.then(e,t).then(n.resolve,n.reject,r)}),f.push(r),n.promise},d=function(e){return w(f,e),e},M=function(e){return e=t(e),h=e.then,M=t,d=y,w(l,e),f=l=m,e},u}function a(e){return e&&"function"==typeof e.then}function u(t,i,n,r,o){return g(2,arguments),e(t,function(t){function a(e){w(e)}function u(e){M(e)}var c,l,f,h,d,M,w,g,p,A;if(p=t.length>>>0,c=Math.max(0,Math.min(i,p)),f=[],l=p-c+1,h=[],d=s(),c)for(g=d.progress,w=function(e){h.push(e),--l||(M=w=y,d.reject(h))},M=function(e){f.push(e),--c||(M=w=y,d.resolve(f))},A=0;A<p;++A)A in t&&e(t[A],u,a,g);else d.resolve(f);return d.then(n,r,o)})}function c(e,t,i,n){function r(e){return t?t(e[0]):e[0]}return u(e,1,r,i,n)}function l(e,t,i,n){return g(1,arguments),h(e,p).then(t,i,n)}function f(){return h(arguments,p)}function h(t,i){return e(t,function(t){var n,r,o,a,u,c;if(o=r=t.length>>>0,n=[],c=s(),o)for(a=function(t,r){e(t,i).then(function(e){n[r]=e,--o||c.resolve(n)},c.reject)},u=0;u<r;u++)u in t?a(t[u],u):--o;else c.resolve(n);return c.promise})}function d(t,i){var n=v.call(arguments,1);return e(t,function(t){var r;return r=t.length,n[0]=function(t,n,o){return e(t,function(t){return e(n,function(e){return i(t,e,o,r)})})},A.apply(t,n)})}function M(t,i,n){var r=arguments.length>2;return e(t,function(e){return e=r?n:e,i.resolve(e),e},function(e){return i.reject(e),o(e)},i.progress)}function w(e,t){for(var i,n=0;i=e[n++];)i(t)}function g(e,t){for(var i,n=t.length;n>e;)if(i=t[--n],null!=i&&"function"!=typeof i)throw new Error("arg "+n+" must be a function")}function y(){}function p(e){return e}var A,v,m;return e.defer=s,e.resolve=t,e.reject=i,e.join=f,e.all=l,e.map=h,e.reduce=d,e.any=c,e.some=u,e.chain=M,e.isPromise=a,n.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(m,e)},yield:function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return l(t,function(t){return e.apply(m,t)})})}},v=[].slice,A=[].reduce||function(e){var t,i,n,r,o;if(o=0,t=Object(this),r=t.length>>>0,i=arguments,i.length<=1)for(;;){if(o in t){n=t[o++];break}if(++o>=r)throw new TypeError}else n=i[1];for(;o<r;++o)o in t&&(n=e(n,t[o],o,t));return n},e})}("function"==typeof n&&n.amd?n:function(e){"object"==typeof t?i.exports=e():this.when=e()})}(),function(){var t=e.amdDefine;t("4b",[],function(){"use strict";function e(e){var t={};if(!e)return t;for(var i=e.split("\r\n"),n=0;n<i.length;++n){var r=i[n],o=r.indexOf(": ");if(o>0){var s=r.substring(0,o),a=r.substring(o+2);t[s]=a}}return t}return e})}(),function(){var t=e.amdDefine;t("4c",["5","4b"],function(e,t){"use strict";function i(e,i,n){this.statusCode=e,this.response=i,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=t(this.responseHeaders))}return i.prototype.toString=function(){var t="Request has failed.";return e(this.statusCode)&&(t+=" Status Code: "+this.statusCode),t},i})}(),function(){var t=e.amdDefine;t("4d",["40","16","5","7","4c","2a"],function(e,t,i,n,r,o){"use strict";function s(r){if(r=t(r,t.EMPTY_OBJECT),!i(r.url))throw new n("options.url is required.");var o=r.responseType,a=t(r.method,"GET"),u=r.data,c=r.headers,l=r.overrideMimeType;return e(r.url,function(t){var i=e.defer();return s.load(t,o,a,u,c,i,l),i.promise})}function a(e,t){var i=decodeURIComponent(t);return e?atob(i):i}function u(e,t){for(var i=a(e,t),n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return n}function c(e,i){i=t(i,"");var r=e[1],o=!!e[2],s=e[3];switch(i){case"":case"text":return a(o,s);case"arraybuffer":return u(o,s);case"blob":var c=u(o,s);return new Blob([c],{type:r});case"document":var l=new DOMParser;return l.parseFromString(a(o,s),r);case"json":return JSON.parse(a(o,s));default:throw new n("Unhandled responseType: "+i)}}var l=/^data:(.*?)(;base64)?,(.*)$/;return s.load=function(e,t,n,s,a,u,f){var h=l.exec(e);if(null!==h)return void u.resolve(c(h,t));var d=new XMLHttpRequest;if(i(f)&&i(d.overrideMimeType)&&d.overrideMimeType(f),d.open(n,e,!0),i(a))for(var M in a)a.hasOwnProperty(M)&&d.setRequestHeader(M,a[M]);i(t)&&(d.responseType=t),d.onload=function(){d.status>=200&&d.status<300?i(d.response)?u.resolve(d.response):i(d.responseXML)&&d.responseXML.hasChildNodes()?u.resolve(d.responseXML):i(d.responseText)?u.resolve(d.responseText):u.reject(new o("unknown XMLHttpRequest response type.")):u.reject(new r(d.status,d.response,d.getAllResponseHeaders()))},d.onerror=function(e){u.reject(new r)},d.send(s)},s.defaultLoad=s.load,s})}(),function(){var t=e.amdDefine;t("4e",["4d"],function(e){"use strict";function t(t,i){return e({url:t,headers:i})}return t})}(),function(){var t=e.amdDefine;t("43",["4a","5","7","4e"],function(e,t,i,n){"use strict";function r(r,s){if(!t(r))throw new i("url is required.");return t(s)?t(s.Accept)||(s=e(s),s.Accept=o.Accept):s=o,n(r,s).then(function(e){return JSON.parse(e)})}var o={Accept:"application/json,*/*;q=0.01"};return r})}(),function(){var t=e.amdDefine;t("4f",["40","49","16","5","50","17","43","45"],function(e,t,i,n,r,o,s,a){"use strict";function u(e){e=i(e,i.EMPTY_OBJECT),this._xysFileUrlTemplate=e.xysFileUrlTemplate,this._interpolationOrder=i(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=i(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new o(this._sampleZeroJulianEphemerisDate,0,a.TAI),this._stepSizeDays=i(e.stepSizeDays,1),this._samplesPerXysFile=i(e.samplesPerXysFile,1e3),this._totalSamples=i(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),r=this._xTable=new Array(t+1),s=Math.pow(this._stepSizeDays,t),u=0;u<=t;++u){n[u]=s,r[u]=u*this._stepSizeDays;for(var c=0;c<=t;++c)c!==u&&(n[u]*=u-c);n[u]=1/n[u]}this._work=new Array(t+1),this._coef=new Array(t+1)}function c(e,t,i){var n=f;return n.dayNumber=t,n.secondsOfDay=i,o.daysDifference(n,e._sampleZeroDateTT)}function l(i,r){if(i._chunkDownloadsInProgress[r])return i._chunkDownloadsInProgress[r];var o=e.defer();i._chunkDownloadsInProgress[r]=o;var a,u=i._xysFileUrlTemplate;return a=n(u)?u.replace("{0}",r):t("Assets/IAU2006_XYS/IAU2006_XYS_"+r+".json"),e(s(a),function(e){i._chunkDownloadsInProgress[r]=!1;for(var t=i._samples,n=e.samples,s=r*i._samplesPerXysFile*3,a=0,u=n.length;a<u;++a)t[s+a]=n[a];o.resolve()}),o.promise}var f=new o(0,0,a.TAI);return u.prototype.preload=function(t,i,n,r){var o=c(this,t,i),s=c(this,n,r),a=o/this._stepSizeDays-this._interpolationOrder/2|0;a<0&&(a=0);var u=s/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var f=a/this._samplesPerXysFile|0,h=u/this._samplesPerXysFile|0,d=[],M=f;M<=h;++M)d.push(l(this,M));return e.all(d)},u.prototype.computeXysRadians=function(e,t,i){var o=c(this,e,t);if(!(o<0)){var s=o/this._stepSizeDays|0;if(!(s>=this._totalSamples)){var a=this._interpolationOrder,u=s-(a/2|0);u<0&&(u=0);var f=u+a;f>=this._totalSamples&&(f=this._totalSamples-1,u=f-a,u<0&&(u=0));var h=!1,d=this._samples;if(n(d[3*u])||(l(this,u/this._samplesPerXysFile|0),h=!0),n(d[3*f])||(l(this,f/this._samplesPerXysFile|0),h=!0),!h){n(i)?(i.x=0,i.y=0,i.s=0):i=new r(0,0,0);var M,w,g=o-u*this._stepSizeDays,y=this._work,p=this._denominators,A=this._coef,v=this._xTable;for(M=0;M<=a;++M)y[M]=g-v[M];for(M=0;M<=a;++M){for(A[M]=1,w=0;w<=a;++w)w!==M&&(A[M]*=y[w]);A[M]*=p[M];var m=3*(u+M);i.x+=A[M]*d[m++],i.y+=A[M]*d[m++],i.s+=A[M]*d[m]}return i}}}},u})}(),function(){var t=e.amdDefine;t("50",[],function(){"use strict";function e(e,t,i){this.x=e,this.y=t,this.s=i}return e})}(),function(){var t=e.amdDefine;t("51",["5","6"],function(e,t){"use strict";var i,n={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},r={};return t(r,{element:{get:function(){if(r.supportsFullscreen())return document[n.fullscreenElement]}},changeEventName:{get:function(){if(r.supportsFullscreen())return n.fullscreenchange}},errorEventName:{get:function(){if(r.supportsFullscreen())return n.fullscreenerror}},enabled:{get:function(){if(r.supportsFullscreen())return document[n.fullscreenEnabled]}},fullscreen:{get:function(){if(r.supportsFullscreen())return null!==r.element}}}),r.supportsFullscreen=function(){if(e(i))return i;i=!1;var t=document.body;if("function"==typeof t.requestFullscreen)return n.requestFullscreen="requestFullscreen",n.exitFullscreen="exitFullscreen",n.fullscreenEnabled="fullscreenEnabled",n.fullscreenElement="fullscreenElement",n.fullscreenchange="fullscreenchange",n.fullscreenerror="fullscreenerror",i=!0;for(var r,o=["webkit","moz","o","ms","khtml"],s=0,a=o.length;s<a;++s){var u=o[s];r=u+"RequestFullscreen","function"==typeof t[r]?(n.requestFullscreen=r,i=!0):(r=u+"RequestFullScreen","function"==typeof t[r]&&(n.requestFullscreen=r,i=!0)),r=u+"ExitFullscreen","function"==typeof document[r]?n.exitFullscreen=r:(r=u+"CancelFullScreen","function"==typeof document[r]&&(n.exitFullscreen=r)),r=u+"FullscreenEnabled",void 0!==document[r]?n.fullscreenEnabled=r:(r=u+"FullScreenEnabled",void 0!==document[r]&&(n.fullscreenEnabled=r)),r=u+"FullscreenElement",void 0!==document[r]?n.fullscreenElement=r:(r=u+"FullScreenElement",void 0!==document[r]&&(n.fullscreenElement=r)),r=u+"fullscreenchange",void 0!==document["on"+r]&&("ms"===u&&(r="MSFullscreenChange"),n.fullscreenchange=r),r=u+"fullscreenerror",void 0!==document["on"+r]&&("ms"===u&&(r="MSFullscreenError"),n.fullscreenerror=r)}return i},r.requestFullscreen=function(e,t){r.supportsFullscreen()&&e[n.requestFullscreen]({vrDisplay:t})},r.exitFullscreen=function(){r.supportsFullscreen()&&document[n.exitFullscreen]()},r})}(),function(){var t=e.amdDefine;t("3e",["16","5","51"],function(e,t,i){"use strict";function n(e){for(var t=e.split("."),i=0,n=t.length;i<n;++i)t[i]=parseInt(t[i],10);return t}function r(){if(!t(A)){A=!1;var e=/ Chrome\/([\.0-9]+)/.exec(p.userAgent);null!==e&&(A=!0,v=n(e[1]))}return A}function o(){return r()&&v}function s(){if(!t(m)&&(m=!1,!r()&&/ Safari\/[\.0-9]+/.test(p.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(p.userAgent);null!==e&&(m=!0,D=n(e[1]))}return m}function a(){return s()&&D}function u(){if(!t(E)){E=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(p.userAgent);null!==e&&(E=!0,N=n(e[1]),N.isNightly=!!e[2])}return E}function c(){return u()&&N}function l(){if(!t(I)){I=!1;var e;"Microsoft Internet Explorer"===p.appName?(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(p.userAgent),null!==e&&(I=!0,T=n(e[1]))):"Netscape"===p.appName&&(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(p.userAgent),null!==e&&(I=!0,T=n(e[1])))}return I}function f(){return l()&&T}function h(){if(!t(L)){L=!1;var e=/Firefox\/([\.0-9]+)/.exec(p.userAgent);null!==e&&(L=!0,j=n(e[1]))}return L}function d(){return t(x)||(x=/Windows/i.test(p.appVersion)),x}function M(){return h()&&j}function w(){return t(S)||(S="undefined"!=typeof PointerEvent&&(!t(p.pointerEnabled)||p.pointerEnabled)),S}function g(){if(!t(C)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var i=e.style.imageRendering;C=t(i)&&""!==i,C&&(O=i)}return C}function y(){return g()?O:void 0}var p;p="undefined"!=typeof navigator?navigator:{};var A,v,m,D,E,N,I,T,L,j,x,S,O,C,z={isChrome:r,chromeVersion:o,isSafari:s,safariVersion:a,isWebkit:u,webkitVersion:c,isInternetExplorer:l,internetExplorerVersion:f,isFirefox:h,firefoxVersion:M,isWindows:d,hardwareConcurrency:e(p.hardwareConcurrency,3),supportsPointerEvents:w,supportsImageRenderingPixelated:g,imageRenderingValue:y};return z.supportsFullscreen=function(){return i.supportsFullscreen()},z.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},z.supportsWebWorkers=function(){return"undefined"!=typeof Worker},z})}(),function(){var t=e.amdDefine;t("25",["1d","16","5","7","3e","11","d","23"],function(e,t,i,n,r,o,s,a){"use strict";function u(e,i,n,r){this.x=t(e,0),this.y=t(i,0),this.z=t(n,0),this.w=t(r,0)}var c=new e;u.fromAxisAngle=function(t,r,o){if(!i(t))throw new n("axis is required.");if("number"!=typeof r)throw new n("angle is required and must be a number.");var s=r/2,a=Math.sin(s);c=e.normalize(t,c);var l=c.x*a,f=c.y*a,h=c.z*a,d=Math.cos(s);return i(o)?(o.x=l,o.y=f,o.z=h,o.w=d,o):new u(l,f,h,d)};var l=[1,2,0],f=new Array(3);u.fromRotationMatrix=function(e,t){if(!i(e))throw new n("matrix is required.");var r,o,s,c,h,d=e[a.COLUMN0ROW0],M=e[a.COLUMN1ROW1],w=e[a.COLUMN2ROW2],g=d+M+w;if(g>0)r=Math.sqrt(g+1),h=.5*r,r=.5/r,o=(e[a.COLUMN1ROW2]-e[a.COLUMN2ROW1])*r,s=(e[a.COLUMN2ROW0]-e[a.COLUMN0ROW2])*r,c=(e[a.COLUMN0ROW1]-e[a.COLUMN1ROW0])*r;else{var y=l,p=0;M>d&&(p=1),w>d&&w>M&&(p=2);var A=y[p],v=y[A];r=Math.sqrt(e[a.getElementIndex(p,p)]-e[a.getElementIndex(A,A)]-e[a.getElementIndex(v,v)]+1);var m=f;m[p]=.5*r,r=.5/r,h=(e[a.getElementIndex(v,A)]-e[a.getElementIndex(A,v)])*r,m[A]=(e[a.getElementIndex(A,p)]+e[a.getElementIndex(p,A)])*r,m[v]=(e[a.getElementIndex(v,p)]+e[a.getElementIndex(p,v)])*r,o=-m[0],s=-m[1],c=-m[2]}return i(t)?(t.x=o,t.y=s,t.z=c,t.w=h,t):new u(o,s,c,h)};var h=new u;u.fromHeadingPitchRoll=function(t,r,o,s){if(!i(t))throw new n("heading is required.");if(!i(r))throw new n("pitch is required.");if(!i(o))throw new n("roll is required.");var a=u.fromAxisAngle(e.UNIT_X,o,h),c=u.fromAxisAngle(e.UNIT_Y,-r,s);s=u.multiply(c,a,c);var l=u.fromAxisAngle(e.UNIT_Z,-t,h);return u.multiply(l,s,s)};var d=new e,M=new e,w=new u,g=new u,y=new u;u.packedLength=4,u.pack=function(e,r,o){if(!i(e))throw new n("value is required");if(!i(r))throw new n("array is required");o=t(o,0),r[o++]=e.x,r[o++]=e.y,r[o++]=e.z,r[o]=e.w},u.unpack=function(e,r,o){if(!i(e))throw new n("array is required");return r=t(r,0),i(o)||(o=new u),o.x=e[r],o.y=e[r+1],o.z=e[r+2],o.w=e[r+3],o},u.packedInterpolationLength=3,u.convertPackedArrayForInterpolation=function(e,t,i,n){u.unpack(e,4*i,y),u.conjugate(y,y);for(var r=0,o=i-t+1;r<o;r++){var s=3*r;u.unpack(e,4*(t+r),w),u.multiply(w,y,w),w.w<0&&u.negate(w,w),u.computeAxis(w,d);var a=u.computeAngle(w);n[s]=d.x*a,n[s+1]=d.y*a,n[s+2]=d.z*a}},u.unpackInterpolationResult=function(t,n,r,o,s){i(s)||(s=new u),e.fromArray(t,0,M);var a=e.magnitude(M);return u.unpack(n,4*o,g),0===a?u.clone(u.IDENTITY,w):u.fromAxisAngle(M,a,w),u.multiply(w,g,s)},u.clone=function(e,t){if(i(e))return i(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new u(e.x,e.y,e.z,e.w)},u.conjugate=function(e,t){if(!i(e))throw new n("quaternion is required");if(!i(t))throw new n("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},u.magnitudeSquared=function(e){if(!i(e))throw new n("quaternion is required");return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))},u.normalize=function(e,t){if(!i(t))throw new n("result is required");var r=1/u.magnitude(e),o=e.x*r,s=e.y*r,a=e.z*r,c=e.w*r;return t.x=o,t.y=s,t.z=a,t.w=c,t},u.inverse=function(e,t){if(!i(t))throw new n("result is required");var r=u.magnitudeSquared(e);return t=u.conjugate(e,t),u.multiplyByScalar(t,1/r,t)},u.add=function(e,t,r){if(!i(e))throw new n("left is required");if(!i(t))throw new n("right is required");if(!i(r))throw new n("result is required");return r.x=e.x+t.x,r.y=e.y+t.y,r.z=e.z+t.z,r.w=e.w+t.w,r},u.subtract=function(e,t,r){if(!i(e))throw new n("left is required");if(!i(t))throw new n("right is required");if(!i(r))throw new n("result is required");return r.x=e.x-t.x,r.y=e.y-t.y,r.z=e.z-t.z,r.w=e.w-t.w,r},u.negate=function(e,t){if(!i(e))throw new n("quaternion is required");if(!i(t))throw new n("result is required");return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},u.dot=function(e,t){if(!i(e))throw new n("left is required");if(!i(t))throw new n("right is required");return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},u.multiply=function(e,t,r){if(!i(e))throw new n("left is required");if(!i(t))throw new n("right is required");if(!i(r))throw new n("result is required");var o=e.x,s=e.y,a=e.z,u=e.w,c=t.x,l=t.y,f=t.z,h=t.w,d=u*c+o*h+s*f-a*l,M=u*l-o*f+s*h+a*c,w=u*f+o*l-s*c+a*h,g=u*h-o*c-s*l-a*f;return r.x=d,r.y=M,r.z=w,r.w=g,r},u.multiplyByScalar=function(e,t,r){if(!i(e))throw new n("quaternion is required");if("number"!=typeof t)throw new n("scalar is required and must be a number.");if(!i(r))throw new n("result is required");return r.x=e.x*t,r.y=e.y*t,r.z=e.z*t,r.w=e.w*t,r},u.divideByScalar=function(e,t,r){if(!i(e))throw new n("quaternion is required");if("number"!=typeof t)throw new n("scalar is required and must be a number.");if(!i(r))throw new n("result is required");return r.x=e.x/t,r.y=e.y/t,r.z=e.z/t,r.w=e.w/t,r},u.computeAxis=function(e,t){if(!i(e))throw new n("quaternion is required");if(!i(t))throw new n("result is required");var r=e.w;if(Math.abs(r-1)<s.EPSILON6)return t.x=t.y=t.z=0,t;var o=1/Math.sqrt(1-r*r);return t.x=e.x*o,t.y=e.y*o,t.z=e.z*o,t},u.computeAngle=function(e){if(!i(e))throw new n("quaternion is required");return Math.abs(e.w-1)<s.EPSILON6?0:2*Math.acos(e.w)};var p=new u;u.lerp=function(e,t,r,o){if(!i(e))throw new n("start is required.");if(!i(t))throw new n("end is required.");if("number"!=typeof r)throw new n("t is required and must be a number.");if(!i(o))throw new n("result is required");return p=u.multiplyByScalar(t,r,p),o=u.multiplyByScalar(e,1-r,o),u.add(p,o,o)};var A=new u,v=new u,m=new u;u.slerp=function(e,t,r,o){if(!i(e))throw new n("start is required.");if(!i(t))throw new n("end is required.");if("number"!=typeof r)throw new n("t is required and must be a number.");if(!i(o))throw new n("result is required");var a=u.dot(e,t),c=t;if(a<0&&(a=-a,c=A=u.negate(t,A)),1-a<s.EPSILON6)return u.lerp(e,c,r,o);var l=Math.acos(a);return v=u.multiplyByScalar(e,Math.sin((1-r)*l),v),m=u.multiplyByScalar(c,Math.sin(r*l),m),o=u.add(v,m,o),u.multiplyByScalar(o,1/Math.sin(l),o)},u.log=function(t,r){if(!i(t))throw new n("quaternion is required.");if(!i(r))throw new n("result is required");var o=s.acosClamped(t.w),a=0;return 0!==o&&(a=o/Math.sin(o)),e.multiplyByScalar(t,a,r)},u.exp=function(t,r){if(!i(t))throw new n("cartesian is required.");if(!i(r))throw new n("result is required");var o=e.magnitude(t),s=0;return 0!==o&&(s=Math.sin(o)/o),r.x=t.x*s,r.y=t.y*s,r.z=t.z*s,r.w=Math.cos(o),r};var D=new e,E=new e,N=new u,I=new u;u.computeInnerQuadrangle=function(t,r,o,s){if(!i(t)||!i(r)||!i(o))throw new n("q0, q1, and q2 are required.");if(!i(s))throw new n("result is required");var a=u.conjugate(r,N);u.multiply(a,o,I);var c=u.log(I,D);u.multiply(a,t,I);var l=u.log(I,E);return e.add(c,l,c),e.multiplyByScalar(c,.25,c),e.negate(c,c),u.exp(c,N),u.multiply(r,N,s)},u.squad=function(e,t,r,o,s,a){if(!(i(e)&&i(t)&&i(r)&&i(o)))throw new n("q0, q1, s0, and s1 are required.");if("number"!=typeof s)throw new n("t is required and must be a number.");if(!i(a))throw new n("result is required");var c=u.slerp(e,t,s,N),l=u.slerp(r,o,s,I);return u.slerp(c,l,2*s*(1-s),a)};for(var T=new u,L=1.9011074535173003,j=r.supportsTypedArrays()?new Float32Array(8):[],x=r.supportsTypedArrays()?new Float32Array(8):[],S=r.supportsTypedArrays()?new Float32Array(8):[],O=r.supportsTypedArrays()?new Float32Array(8):[],C=0;C<7;++C){var z=C+1,b=2*z+1;j[C]=1/(z*b),x[C]=z/b}return j[7]=L/136,x[7]=8*L/17,u.fastSlerp=function(e,t,r,o){if(!i(e))throw new n("start is required.");if(!i(t))throw new n("end is required.");if("number"!=typeof r)throw new n("t is required and must be a number.");if(!i(o))throw new n("result is required");var s,a=u.dot(e,t);a>=0?s=1:(s=-1,a=-a);for(var c=a-1,l=1-r,f=r*r,h=l*l,d=7;d>=0;--d)S[d]=(j[d]*f-x[d])*c,O[d]=(j[d]*h-x[d])*c;var M=s*r*(1+S[0]*(1+S[1]*(1+S[2]*(1+S[3]*(1+S[4]*(1+S[5]*(1+S[6]*(1+S[7])))))))),w=l*(1+O[0]*(1+O[1]*(1+O[2]*(1+O[3]*(1+O[4]*(1+O[5]*(1+O[6]*(1+O[7])))))))),g=u.multiplyByScalar(e,w,T);return u.multiplyByScalar(t,M,o),u.add(g,o,o)},u.fastSquad=function(e,t,r,o,s,a){if(!(i(e)&&i(t)&&i(r)&&i(o)))throw new n("q0, q1, s0, and s1 are required.");if("number"!=typeof s)throw new n("t is required and must be a number.");if(!i(a))throw new n("result is required");var c=u.fastSlerp(e,t,s,N),l=u.fastSlerp(r,o,s,I);return u.fastSlerp(c,l,2*s*(1-s),a)},u.equals=function(e,t){return e===t||i(e)&&i(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},u.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new n("epsilon is required and must be a number.");return e===t||i(e)&&i(t)&&Math.abs(e.x-t.x)<=r&&Math.abs(e.y-t.y)<=r&&Math.abs(e.z-t.z)<=r&&Math.abs(e.w-t.w)<=r},u.ZERO=o(new u(0,0,0,0)),u.IDENTITY=o(new u(0,0,0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},u})}(),function(){var t=e.amdDefine;t("26",["40","a","1d","35","2d","16","5","7","3f","41","2e","4f","50","17","d","23","24","25","44"],function(e,t,i,n,r,o,s,a,u,c,l,f,h,d,M,w,g,y,p){"use strict";var A={},v=new i,m=new i,D=new i;A.eastNorthUpToFixedFrame=function(e,t,n){if(!s(e))throw new a("origin is required.");if(M.equalsEpsilon(e.x,0,M.EPSILON14)&&M.equalsEpsilon(e.y,0,M.EPSILON14)){var r=M.sign(e.z);return s(n)?(n[0]=0,n[1]=1,n[2]=0,n[3]=0,n[4]=-r,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=r,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(0,-r,0,e.x,1,0,0,e.y,0,0,r,e.z,0,0,0,1)}var u=v,c=m,f=D;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,u),c.x=-e.y,c.y=e.x,c.z=0,i.normalize(c,c),i.cross(u,c,f),s(n)?(n[0]=c.x,n[1]=c.y,n[2]=c.z,n[3]=0,n[4]=f.x,n[5]=f.y,n[6]=f.z,n[7]=0,n[8]=u.x,n[9]=u.y,n[10]=u.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(c.x,f.x,u.x,e.x,c.y,f.y,u.y,e.y,c.z,f.z,u.z,e.z,0,0,0,1)};var E=new i,N=new i,I=new i;A.northEastDownToFixedFrame=function(e,t,n){if(!s(e))throw new a("origin is required.");if(M.equalsEpsilon(e.x,0,M.EPSILON14)&&M.equalsEpsilon(e.y,0,M.EPSILON14)){var r=M.sign(e.z);return s(n)?(n[0]=-r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-r,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(-r,0,0,e.x,0,1,0,e.y,0,0,-r,e.z,0,0,0,1)}var u=E,c=N,f=I;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,u),c.x=-e.y,c.y=e.x,c.z=0,i.normalize(c,c),i.cross(u,c,f),s(n)?(n[0]=f.x,n[1]=f.y,n[2]=f.z,n[3]=0,n[4]=c.x,n[5]=c.y,n[6]=c.z,n[7]=0,n[8]=-u.x,n[9]=-u.y,n[10]=-u.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(f.x,c.x,-u.x,e.x,f.y,c.y,-u.y,e.y,f.z,c.z,-u.z,e.z,0,0,0,1)},A.northUpEastToFixedFrame=function(e,t,n){if(!s(e))throw new a("origin is required.");if(M.equalsEpsilon(e.x,0,M.EPSILON14)&&M.equalsEpsilon(e.y,0,M.EPSILON14)){var r=M.sign(e.z);return s(n)?(n[0]=-r,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=r,n[7]=0,n[8]=0,n[9]=1,n[10]=0,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(-r,0,0,e.x,0,0,1,e.y,0,r,0,e.z,0,0,0,1)}var u=v,c=m,f=D;return t=o(t,l.WGS84),t.geodeticSurfaceNormal(e,u),c.x=-e.y,c.y=e.x,c.z=0,i.normalize(c,c),i.cross(u,c,f),s(n)?(n[0]=f.x,n[1]=f.y,n[2]=f.z,n[3]=0,n[4]=u.x,n[5]=u.y,n[6]=u.z,n[7]=0,n[8]=c.x,n[9]=c.y,n[10]=c.z,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,n):new g(f.x,u.x,c.x,e.x,f.y,u.y,c.y,e.y,f.z,u.z,c.z,e.z,0,0,0,1)};var T=new y,L=new i(1,1,1),j=new g;A.headingPitchRollToFixedFrame=function(e,t,n,r,o,s){var a=y.fromHeadingPitchRoll(t,n,r,T),u=g.fromTranslationQuaternionRotationScale(i.ZERO,a,L,j);return s=A.eastNorthUpToFixedFrame(e,o,s),g.multiply(s,u,s)};var x=new g,S=new w;A.headingPitchRollQuaternion=function(e,t,i,n,r,o){var s=A.headingPitchRollToFixedFrame(e,t,i,n,r,x),a=g.getRotation(s,S);return y.fromRotationMatrix(a,o)};var O=24110.54841,C=8640184.812866,z=.093104,b=-62e-7,_=1.1772758384668e-19,k=72921158553e-15,R=M.TWO_PI/86400,P=new d;A.computeTemeToPseudoFixedMatrix=function(e,t){if(!s(e))throw new a("date is required.");P=d.addSeconds(e,-d.computeTaiMinusUtc(e),P);var i,n=P.dayNumber,r=P.secondsOfDay,o=n-2451545;i=r>=43200?(o+.5)/p.DAYS_PER_JULIAN_CENTURY:(o-.5)/p.DAYS_PER_JULIAN_CENTURY;var u=O+i*(C+i*(z+i*b)),c=u*R%M.TWO_PI,l=k+_*(n-2451545.5),f=(r+.5*p.SECONDS_PER_DAY)%p.SECONDS_PER_DAY,h=c+l*f,g=Math.cos(h),y=Math.sin(h);return s(t)?(t[0]=g,t[1]=-y,t[2]=0,t[3]=y,t[4]=g,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new w(g,y,0,-y,g,0,0,0,1)},A.iau2006XysData=new f,A.earthOrientationParameters=u.NONE;var U=32.184,Q=2451545;A.preloadIcrfFixed=function(t){var i=t.start.dayNumber,n=t.start.secondsOfDay+U,r=t.stop.dayNumber,o=t.stop.secondsOfDay+U,s=A.iau2006XysData.preload(i,n,r,o),a=A.earthOrientationParameters.getPromiseToLoad();return e.all([s,a])},A.computeIcrfToFixedMatrix=function(e,t){if(!s(e))throw new a("date is required.");s(t)||(t=new w);var i=A.computeFixedToIcrfMatrix(e,t);if(s(i))return w.transpose(i,t)};var B=new h(0,0,0),q=new c(0,0,0,0,0,0),Y=new w,F=new w;A.computeFixedToIcrfMatrix=function(e,t){if(!s(e))throw new a("date is required.");s(t)||(t=new w);var i=A.earthOrientationParameters.compute(e,q);if(s(i)){var n=e.dayNumber,r=e.secondsOfDay+U,o=A.iau2006XysData.computeXysRadians(n,r,B);if(s(o)){var u=o.x+i.xPoleOffset,c=o.y+i.yPoleOffset,l=1/(1+Math.sqrt(1-u*u-c*c)),f=Y;f[0]=1-l*u*u,f[3]=-l*u*c,f[6]=u,f[1]=-l*u*c,f[4]=1-l*c*c,f[7]=c,f[2]=-u,f[5]=-c,f[8]=1-l*(u*u+c*c);var h=w.fromRotationZ(-o.s,F),g=w.multiply(f,h,Y),y=e.dayNumber,v=e.secondsOfDay-d.computeTaiMinusUtc(e)+i.ut1MinusUtc,m=y-2451545,D=v/p.SECONDS_PER_DAY,E=.779057273264+D+.00273781191135448*(m+D);E=E%1*M.TWO_PI;var N=w.fromRotationZ(E,F),I=w.multiply(g,N,Y),T=Math.cos(i.xPoleWander),L=Math.cos(i.yPoleWander),j=Math.sin(i.xPoleWander),x=Math.sin(i.yPoleWander),S=n-Q+r/p.SECONDS_PER_DAY;S/=36525;var O=-47e-6*S*M.RADIANS_PER_DEGREE/3600,C=Math.cos(O),z=Math.sin(O),b=F;return b[0]=T*C,b[1]=T*z,b[2]=j,b[3]=-L*z+x*j*C,b[4]=L*C+x*j*z,b[5]=-x*T,b[6]=-x*z-L*j*C,b[7]=x*C-L*j*z,b[8]=L*T,w.multiply(I,b,t)}}};var V=new n;A.pointToWindowCoordinates=function(e,t,i,n){return n=A.pointToGLWindowCoordinates(e,t,i,n),n.y=2*t[5]-n.y,n},A.pointToGLWindowCoordinates=function(e,i,r,o){if(!s(e))throw new a("modelViewProjectionMatrix is required.");if(!s(i))throw new a("viewportTransformation is required.");if(!s(r))throw new a("point is required.");s(o)||(o=new t);var u=V;return g.multiplyByVector(e,n.fromElements(r.x,r.y,r.z,1,u),u),n.multiplyByScalar(u,1/u.w,u),g.multiplyByVector(i,u,u),t.fromCartesian4(u,o)};var G=new i,W=new i,H=new i;A.rotationMatrixFromPositionVelocity=function(e,t,n,r){if(!s(e))throw new a("position is required.");if(!s(t))throw new a("velocity is required.");var u=o(n,l.WGS84).geodeticSurfaceNormal(e,G),c=i.cross(t,u,W);i.equalsEpsilon(c,i.ZERO,M.EPSILON6)&&(c=i.clone(i.UNIT_X,c));var f=i.cross(c,t,H);return i.cross(t,f,c),i.negate(c,c),s(r)||(r=new w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=c.x,r[4]=c.y,r[5]=c.z,r[6]=f.x,r[7]=f.y,r[8]=f.z,r};var Z=new r,X=new i,K=new i,J=new n,$=new n,ee=new n,te=new n,ie=new n,ne=new g,re=new g;return A.basisTo2D=function(e,t,r){if(!s(e))throw new a("projection is required.");if(!s(t))throw new a("matrix is required.");if(!s(r))throw new a("result is required.");var o=e.ellipsoid,u=g.getColumn(t,3,J),c=o.cartesianToCartographic(u,Z),l=A.eastNorthUpToFixedFrame(u,o,ne),f=g.inverseTransformation(l,re),h=e.project(c,X),d=$;d.x=h.z,d.y=h.x,d.z=h.y,d.w=1;var M=g.getColumn(t,0,K),w=i.magnitude(M),y=g.multiplyByVector(f,M,ee);n.fromElements(y.z,y.x,y.y,0,y);var p=g.getColumn(t,1,K),v=i.magnitude(p),m=g.multiplyByVector(f,p,te);n.fromElements(m.z,m.x,m.y,0,m);var D=g.getColumn(t,2,K),E=i.magnitude(D),N=ie;return i.cross(y,m,N),i.normalize(N,N),i.cross(m,N,y),i.normalize(y,y),i.cross(N,y,m),i.normalize(m,m),i.multiplyByScalar(y,w,y),i.multiplyByScalar(m,v,m),i.multiplyByScalar(N,E,N),g.setColumn(r,0,y,r),g.setColumn(r,1,m,r),g.setColumn(r,2,N,r),g.setColumn(r,3,d,r),r},A})}(),function(){var t=e.amdDefine;t("52",[],function(){function e(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,i=0,n=t[i++],r=function(e,t,i,n){i||(i=" ");var r=e.length>=t?"":Array(1+t-e.length>>>0).join(i);return n?e+r:r+e},o=function(e,t,i,n,o,s){var a=n-e.length;return a>0&&(e=i||!o?r(e,n,s,i):e.slice(0,t.length)+r("",a,"0",!0)+e.slice(t.length)),e},s=function(e,t,i,n,s,a,u){var c=e>>>0;return i=i&&c&&{2:"0b",8:"0",16:"0x"}[t]||"",e=i+r(c.toString(t),a||0,"0",!1),o(e,i,n,s,u)},a=function(e,t,i,n,r,s){return null!=n&&(e=e.slice(0,n)),o(e,"",t,i,r,s)},u=function(e,n,u,c,l,f,h){var d,M,w,g,y;if("%%"==e)return"%";for(var p=!1,A="",v=!1,m=!1,D=" ",E=u.length,N=0;u&&N<E;N++)switch(u.charAt(N)){case" ":A=" ";break;case"+":A="+";break;case"-":p=!0;break;case"'":D=u.charAt(N+1);break;case"0":v=!0;break;case"#":m=!0}if(c=c?"*"==c?+t[i++]:"*"==c.charAt(0)?+t[c.slice(1,-1)]:+c:0,c<0&&(c=-c,p=!0),!isFinite(c))throw new Error("sprintf: (minimum-)width must be finite");switch(f=f?"*"==f?+t[i++]:"*"==f.charAt(0)?+t[f.slice(1,-1)]:+f:"fFeE".indexOf(h)>-1?6:"d"==h?0:void 0,y=n?t[n.slice(0,-1)]:t[i++],h){case"s":return a(String(y),p,c,f,v,D);case"c":return a(String.fromCharCode(+y),p,c,f,v);case"b":return s(y,2,m,p,c,f,v);case"o":return s(y,8,m,p,c,f,v);case"x":return s(y,16,m,p,c,f,v);case"X":return s(y,16,m,p,c,f,v).toUpperCase();case"u":return s(y,10,m,p,c,f,v);case"i":case"d":return d=+y||0,d=Math.round(d-d%1),M=d<0?"-":A,y=M+r(String(Math.abs(d)),f,"0",!1),o(y,M,p,c,v);case"e":case"E":case"f":case"F":case"g":case"G":return d=+y,M=d<0?"-":A,w=["toExponential","toFixed","toPrecision"]["efg".indexOf(h.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(h)%2],y=M+Math.abs(d)[w](f),o(y,M,p,c,v)[g]();default:return e}};return n.replace(e,u)}return e})}(),function(){var t=e.amdDefine;t("3d",["5","7"],function(e,t){"use strict";function i(i,n,r){if(!e(i))throw new t("array is required.");if(!e(n))throw new t("itemToFind is required.");if(!e(r))throw new t("comparator is required.");for(var o,s,a=0,u=i.length-1;a<=u;)if(o=~~((a+u)/2),s=r(i[o],n),s<0)a=o+1;else{if(!(s>0))return o;u=o-1}return~(u+1)}return i})}(),function(){var t=e.amdDefine;t("53",[],function(){"use strict";function e(e,t,i,n,r,o,s,a){this.year=e,this.month=t,this.day=i,this.hour=n,this.minute=r,this.second=o,this.millisecond=s,this.isLeapSecond=a}return e})}(),function(){var t=e.amdDefine;t("54",["7"],function(e){"use strict";function t(t){if(null===t||isNaN(t))throw new e("year is required and must be a number.");return t%4===0&&t%100!==0||t%400===0}return t})}(),function(){var t=e.amdDefine;t("42",[],function(){"use strict";function e(e,t){this.julianDate=e,this.offset=t}return e})}(),function(){var t=e.amdDefine;t("17",["52","3d","16","5","7","53","54","42","44","45"],function(e,t,i,n,r,o,s,a,u,c){"use strict";function l(e,t){return w.compare(e.julianDate,t.julianDate)}function f(e){A.julianDate=e;var i=w.leapSeconds,n=t(i,A,l);n<0&&(n=~n),n>=i.length&&(n=i.length-1);var r=i[n].offset;if(n>0){var o=w.secondsDifference(i[n].julianDate,e);o>r&&(n--,r=i[n].offset)}w.addSeconds(e,r,e)}function h(e,i){A.julianDate=e;var n=w.leapSeconds,r=t(n,A,l);if(r<0&&(r=~r),0===r)return w.addSeconds(e,-n[0].offset,i);if(r>=n.length)return w.addSeconds(e,-n[r-1].offset,i);var o=w.secondsDifference(n[r].julianDate,e);return 0===o?w.addSeconds(e,-n[r].offset,i):o<=1?void 0:w.addSeconds(e,-n[--r].offset,i)}function d(e,t,i){var n=t/u.SECONDS_PER_DAY|0;return e+=n,t-=u.SECONDS_PER_DAY*n,t<0&&(e--,t+=u.SECONDS_PER_DAY),i.dayNumber=e,i.secondsOfDay=t,i}function M(e,t,i,n,r,o,s){var a=(t-14)/12|0,c=e+4800+a,l=(1461*c/4|0)+(367*(t-2-12*a)/12|0)-(3*((c+100)/100|0)/4|0)+i-32075;n-=12,n<0&&(n+=24);var f=o+(n*u.SECONDS_PER_HOUR+r*u.SECONDS_PER_MINUTE+s*u.SECONDS_PER_MILLISECOND);return f>=43200&&(l-=1),
[l,f]}function w(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=i(e,0),t=i(t,0),n=i(n,c.UTC);var r=0|e;t+=(e-r)*u.SECONDS_PER_DAY,d(r,t,this),n===c.UTC&&f(this)}var g=new o,y=[31,28,31,30,31,30,31,31,30,31,30,31],p=29,A=new a,v=/^(\d{4})$/,m=/^(\d{4})-(\d{2})$/,D=/^(\d{4})-?(\d{3})$/,E=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,N=/^(\d{4})-?(\d{2})-?(\d{2})$/,I=/([Z+\-])?(\d{2})?:?(\d{2})?$/,T=/^(\d{2})(\.\d+)?/.source+I.source,L=/^(\d{2}):?(\d{2})(\.\d+)?/.source+I.source,j=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+I.source,x="Invalid ISO 8601 date.";w.fromDate=function(e,t){if(!(e instanceof Date)||isNaN(e.getTime()))throw new r("date must be a valid JavaScript Date.");var i=M(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return n(t)?(d(i[0],i[1],t),f(t),t):new w(i[0],i[1],c.UTC)},w.fromIso8601=function(e,t){if("string"!=typeof e)throw new r(x);e=e.replace(",",".");var i,o,a,u=e.split("T"),l=1,h=1,g=0,A=0,I=0,S=0,O=u[0],C=u[1];if(!n(O))throw new r(x);var z;if(u=O.match(N),null!==u){if(z=O.split("-").length-1,z>0&&2!==z)throw new r(x);i=+u[1],l=+u[2],h=+u[3]}else if(u=O.match(m),null!==u)i=+u[1],l=+u[2];else if(u=O.match(v),null!==u)i=+u[1];else{var b;if(u=O.match(D),null!==u){if(i=+u[1],b=+u[2],a=s(i),b<1||a&&b>366||!a&&b>365)throw new r(x)}else{if(u=O.match(E),null===u)throw new r(x);i=+u[1];var _=+u[2],k=+u[3]||0;if(z=O.split("-").length-1,z>0&&(!n(u[3])&&1!==z||n(u[3])&&2!==z))throw new r(x);var R=new Date(Date.UTC(i,0,4));b=7*_+k-R.getUTCDay()-3}o=new Date(Date.UTC(i,0,1)),o.setUTCDate(b),l=o.getUTCMonth()+1,h=o.getUTCDate()}if(a=s(i),l<1||l>12||h<1||(2!==l||!a)&&h>y[l-1]||a&&2===l&&h>p)throw new r(x);var P;if(n(C)){if(u=C.match(j),null!==u){if(z=C.split(":").length-1,z>0&&2!==z&&3!==z)throw new r(x);g=+u[1],A=+u[2],I=+u[3],S=1e3*+(u[4]||0),P=5}else if(u=C.match(L),null!==u){if(z=C.split(":").length-1,z>2)throw new r(x);g=+u[1],A=+u[2],I=60*+(u[3]||0),P=4}else{if(u=C.match(T),null===u)throw new r(x);g=+u[1],A=60*+(u[2]||0),P=3}if(A>=60||I>=61||g>24||24===g&&(A>0||I>0||S>0))throw new r(x);var U=u[P],Q=+u[P+1],B=+(u[P+2]||0);switch(U){case"+":g-=Q,A-=B;break;case"-":g+=Q,A+=B;break;case"Z":break;default:A+=new Date(Date.UTC(i,l-1,h,g,A)).getTimezoneOffset()}}else A+=new Date(i,l-1,h).getTimezoneOffset();var q=60===I;for(q&&I--;A>=60;)A-=60,g++;for(;g>=24;)g-=24,h++;for(o=a&&2===l?p:y[l-1];h>o;)h-=o,l++,l>12&&(l-=12,i++),o=a&&2===l?p:y[l-1];for(;A<0;)A+=60,g--;for(;g<0;)g+=24,h--;for(;h<1;)l--,l<1&&(l+=12,i--),o=a&&2===l?p:y[l-1],h+=o;var Y=M(i,l,h,g,A,I,S);return n(t)?(d(Y[0],Y[1],t),f(t)):t=new w(Y[0],Y[1],c.UTC),q&&w.addSeconds(t,1,t),t},w.now=function(e){return w.fromDate(new Date,e)};var S=new w(0,0,c.TAI);return w.toGregorianDate=function(e,t){if(!n(e))throw new r("julianDate is required.");var i=!1,s=h(e,S);n(s)||(w.addSeconds(e,-1,S),s=h(S,S),i=!0);var a=s.dayNumber,c=s.secondsOfDay;c>=43200&&(a+=1);var l=a+68569|0,f=4*l/146097|0;l=l-((146097*f+3)/4|0)|0;var d=4e3*(l+1)/1461001|0;l=l-(1461*d/4|0)+31|0;var M=80*l/2447|0,g=l-(2447*M/80|0)|0;l=M/11|0;var y=M+2-12*l|0,p=100*(f-49)+d+l|0,A=c/u.SECONDS_PER_HOUR|0,v=c-A*u.SECONDS_PER_HOUR,m=v/u.SECONDS_PER_MINUTE|0;v-=m*u.SECONDS_PER_MINUTE;var D=0|v,E=(v-D)/u.SECONDS_PER_MILLISECOND;return A+=12,A>23&&(A-=24),i&&(D+=1),n(t)?(t.year=p,t.month=y,t.day=g,t.hour=A,t.minute=m,t.second=D,t.millisecond=E,t.isLeapSecond=i,t):new o(p,y,g,A,m,D,E,i)},w.toDate=function(e){if(!n(e))throw new r("julianDate is required.");var t=w.toGregorianDate(e,g),i=t.second;return t.isLeapSecond&&(i-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,i,t.millisecond))},w.toIso8601=function(t,i){if(!n(t))throw new r("julianDate is required.");var o,s=w.toGregorianDate(t,s);return n(i)||0===s.millisecond?n(i)&&0!==i?(o=(.01*s.millisecond).toFixed(i).replace(".","").slice(0,i),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",s.year,s.month,s.day,s.hour,s.minute,s.second,o)):e("%04d-%02d-%02dT%02d:%02d:%02dZ",s.year,s.month,s.day,s.hour,s.minute,s.second):(o=(.01*s.millisecond).toString().replace(".",""),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",s.year,s.month,s.day,s.hour,s.minute,s.second,o))},w.clone=function(e,t){if(n(e))return n(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new w(e.dayNumber,e.secondsOfDay,c.TAI)},w.compare=function(e,t){if(!n(e))throw new r("left is required.");if(!n(t))throw new r("right is required.");var i=e.dayNumber-t.dayNumber;return 0!==i?i:e.secondsOfDay-t.secondsOfDay},w.equals=function(e,t){return e===t||n(e)&&n(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},w.equalsEpsilon=function(e,t,i){if(!n(i))throw new r("epsilon is required.");return e===t||n(e)&&n(t)&&Math.abs(w.secondsDifference(e,t))<=i},w.totalDays=function(e){if(!n(e))throw new r("julianDate is required.");return e.dayNumber+e.secondsOfDay/u.SECONDS_PER_DAY},w.secondsDifference=function(e,t){if(!n(e))throw new r("left is required.");if(!n(t))throw new r("right is required.");var i=(e.dayNumber-t.dayNumber)*u.SECONDS_PER_DAY;return i+(e.secondsOfDay-t.secondsOfDay)},w.daysDifference=function(e,t){if(!n(e))throw new r("left is required.");if(!n(t))throw new r("right is required.");var i=e.dayNumber-t.dayNumber,o=(e.secondsOfDay-t.secondsOfDay)/u.SECONDS_PER_DAY;return i+o},w.computeTaiMinusUtc=function(e){A.julianDate=e;var i=w.leapSeconds,n=t(i,A,l);return n<0&&(n=~n,--n,n<0&&(n=0)),i[n].offset},w.addSeconds=function(e,t,i){if(!n(e))throw new r("julianDate is required.");if(!n(t))throw new r("seconds is required.");if(!n(i))throw new r("result is required.");return d(e.dayNumber,e.secondsOfDay+t,i)},w.addMinutes=function(e,t,i){if(!n(e))throw new r("julianDate is required.");if(!n(t))throw new r("minutes is required.");if(!n(i))throw new r("result is required.");var o=e.secondsOfDay+t*u.SECONDS_PER_MINUTE;return d(e.dayNumber,o,i)},w.addHours=function(e,t,i){if(!n(e))throw new r("julianDate is required.");if(!n(t))throw new r("hours is required.");if(!n(i))throw new r("result is required.");var o=e.secondsOfDay+t*u.SECONDS_PER_HOUR;return d(e.dayNumber,o,i)},w.addDays=function(e,t,i){if(!n(e))throw new r("julianDate is required.");if(!n(t))throw new r("days is required.");if(!n(i))throw new r("result is required.");var o=e.dayNumber+t;return d(o,e.secondsOfDay,i)},w.lessThan=function(e,t){return w.compare(e,t)<0},w.lessThanOrEquals=function(e,t){return w.compare(e,t)<=0},w.greaterThan=function(e,t){return w.compare(e,t)>0},w.greaterThanOrEquals=function(e,t){return w.compare(e,t)>=0},w.prototype.clone=function(e){return w.clone(this,e)},w.prototype.equals=function(e){return w.equals(this,e)},w.prototype.equalsEpsilon=function(e,t){return w.equalsEpsilon(this,e,t)},w.prototype.toString=function(){return w.toIso8601(this)},w.leapSeconds=[new a(new w(2441317,43210,c.TAI),10),new a(new w(2441499,43211,c.TAI),11),new a(new w(2441683,43212,c.TAI),12),new a(new w(2442048,43213,c.TAI),13),new a(new w(2442413,43214,c.TAI),14),new a(new w(2442778,43215,c.TAI),15),new a(new w(2443144,43216,c.TAI),16),new a(new w(2443509,43217,c.TAI),17),new a(new w(2443874,43218,c.TAI),18),new a(new w(2444239,43219,c.TAI),19),new a(new w(2444786,43220,c.TAI),20),new a(new w(2445151,43221,c.TAI),21),new a(new w(2445516,43222,c.TAI),22),new a(new w(2446247,43223,c.TAI),23),new a(new w(2447161,43224,c.TAI),24),new a(new w(2447892,43225,c.TAI),25),new a(new w(2448257,43226,c.TAI),26),new a(new w(2448804,43227,c.TAI),27),new a(new w(2449169,43228,c.TAI),28),new a(new w(2449534,43229,c.TAI),29),new a(new w(2450083,43230,c.TAI),30),new a(new w(2450630,43231,c.TAI),31),new a(new w(2451179,43232,c.TAI),32),new a(new w(2453736,43233,c.TAI),33),new a(new w(2454832,43234,c.TAI),34),new a(new w(2456109,43235,c.TAI),35),new a(new w(2457204,43236,c.TAI),36)],w})}(),function(){var t=e.amdDefine;t("44",["11"],function(e){"use strict";var t={SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5};return e(t)})}(),function(){var t=e.amdDefine;t("45",["11"],function(e){"use strict";var t={UTC:0,TAI:1};return e(t)})}(),function(){var t=e.amdDefine;t("55",["1d","5","7","17","d","23","44","45"],function(e,t,i,n,r,o,s,a){"use strict";function u(e){var t=6.239996+.0172019696544*e;return.001657*Math.sin(t+.01671*Math.sin(t))}function c(e,t){t=n.addSeconds(e,v,t);var i=n.totalDays(t)-m;return t=n.addSeconds(t,u(i),t)}function l(n,s,a,u,c,l,d,M){if(a<0&&(a=-a,c+=r.PI),a<0||a>r.PI)throw new i("The inclination is out of range. Inclination must be greater than or equal to zero and less than or equal to Pi radians.");var g=n*(1-s),y=u-c,p=c,A=h(l-u,s),v=f(s,0);if("Hyperbolic"===v&&Math.abs(r.negativePiToPi(A))>=Math.acos(-1/s))throw new i("The true anomaly of the hyperbolic orbit lies outside of the bounds of the hyperbola.");w(y,a,p,x);var m=g*(1+s),D=Math.cos(A),E=Math.sin(A),N=1+s*D;if(N<=r.Epsilon10)throw new i("elements cannot be converted to cartesian");var I=m/N;return t(M)?(M.x=I*D,M.y=I*E,M.z=0):M=new e(I*D,I*E,0),o.multiplyByVector(x,M,M)}function f(e,t){if(e<0)throw new i("eccentricity cannot be negative.");return e<=t?"Circular":e<1-t?"Elliptical":e<=1+t?"Parabolic":"Hyperbolic"}function h(e,t){if(t<0||t>=1)throw new i("eccentricity out of range.");var n=d(e,t);return M(n,t)}function d(e,t){if(t<0||t>=1)throw new i("eccentricity out of range.");var n=Math.floor(e/r.TWO_PI);e-=n*r.TWO_PI;var o,s=e+t*Math.sin(e)/(1-Math.sin(e+t)+Math.sin(e)),a=Number.MAX_VALUE;for(o=0;o<S&&Math.abs(a-s)>O;++o){a=s;var u=a-t*Math.sin(a)-e,c=1-t*Math.cos(a);s=a-u/c}if(o>=S)throw new i("Kepler equation did not converge");return a=s+n*r.TWO_PI}function M(e,t){if(t<0||t>=1)throw new i("eccentricity out of range.");var n=Math.floor(e/r.TWO_PI);e-=n*r.TWO_PI;var o=Math.cos(e)-t,s=Math.sin(e)*Math.sqrt(1-t*t),a=Math.atan2(s,o);return a=r.zeroToTwoPi(a),e<0&&(a-=r.TWO_PI),a+=n*r.TWO_PI}function w(e,n,s,a){if(n<0||n>r.PI)throw new i("inclination out of range");var u=Math.cos(e),c=Math.sin(e),l=Math.cos(n),f=Math.sin(n),h=Math.cos(s),d=Math.sin(s);return t(a)?(a[0]=h*u-d*c*l,a[1]=d*u+h*c*l,a[2]=c*f,a[3]=-h*c-d*u*l,a[4]=-d*c+h*u*l,a[5]=u*f,a[6]=d*f,a[7]=-h*f,a[8]=l):a=new o(h*u-d*c*l,-h*c-d*u*l,d*f,d*u+h*c*l,-d*c+h*u*l,-h*f,c*f,u*f,l),a}function g(e,t){c(e,xe);var i=xe.dayNumber-D.dayNumber+(xe.secondsOfDay-D.secondsOfDay)/s.SECONDS_PER_DAY,n=i/(10*s.DAYS_PER_JULIAN_CENTURY),r=.3595362*n,o=C+Y*Math.cos(_*r)+K*Math.sin(_*r)+F*Math.cos(k*r)+J*Math.sin(k*r)+V*Math.cos(R*r)+$*Math.sin(R*r)+G*Math.cos(P*r)+ee*Math.sin(P*r)+W*Math.cos(U*r)+te*Math.sin(U*r)+H*Math.cos(Q*r)+ie*Math.sin(Q*r)+Z*Math.cos(B*r)+ne*Math.sin(B*r)+X*Math.cos(q*r)+re*Math.sin(q*r),a=z+b*n+de*Math.cos(oe*r)+me*Math.sin(oe*r)+Me*Math.cos(se*r)+De*Math.sin(se*r)+we*Math.cos(ae*r)+Ee*Math.sin(ae*r)+ge*Math.cos(ue*r)+Ne*Math.sin(ue*r)+ye*Math.cos(ce*r)+Ie*Math.sin(ce*r)+pe*Math.cos(le*r)+Te*Math.sin(le*r)+Ae*Math.cos(fe*r)+Le*Math.sin(fe*r)+ve*Math.cos(he*r)+je*Math.sin(he*r),u=.0167086342-.0004203654*n,f=102.93734808*T+11612.3529*L*n,h=469.97289*L*n,d=174.87317577*T-8679.27034*L*n;return l(o,u,h,f,d,a,N,t)}function y(e,t){c(e,xe);var i=xe.dayNumber-D.dayNumber+(xe.secondsOfDay-D.secondsOfDay)/s.SECONDS_PER_DAY,n=i/s.DAYS_PER_JULIAN_CENTURY,r=n*n,o=r*n,a=o*n,u=383397.7725+.004*n,f=.055545526-1.6e-8*n,h=5.15668983*T,d=-8e-5*n+.02966*r-42e-6*o-1.3e-7*a,M=83.35324312*T,w=14643420.2669*n-38.2702*r-.045047*o+21301e-8*a,g=125.04455501*T,y=-6967919.3631*n+6.3602*r+.007625*o-3586e-8*a,p=218.31664563*T,A=1732559343.4847*n-6.391*r+.006588*o-3169e-8*a,v=297.85019547*T+L*(1602961601.209*n-6.3706*r+.006593*o-3169e-8*a),m=93.27209062*T+L*(1739527262.8478*n-12.7512*r-.001037*o+417e-8*a),N=134.96340251*T+L*(1717915923.2178*n+31.8792*r+.051635*o-2447e-7*a),j=357.52910918*T+L*(129596581.0481*n-.5532*r+136e-6*o-1149e-8*a),x=310.17137918*T-L*(6967051.436*n+6.2068*r+.007618*o-3219e-8*a),S=2*v,O=4*v,C=6*v,z=2*N,b=3*N,_=4*N,k=2*m;u+=3400.4*Math.cos(S)-635.6*Math.cos(S-N)-235.6*Math.cos(N)+218.1*Math.cos(S-j)+181*Math.cos(S+N),f+=.014216*Math.cos(S-N)+.008551*Math.cos(S-z)-.001383*Math.cos(N)+.001356*Math.cos(S+N)-.001147*Math.cos(O-b)-914e-6*Math.cos(O-z)+869e-6*Math.cos(S-j-N)-627e-6*Math.cos(S)-394e-6*Math.cos(O-_)+282e-6*Math.cos(S-j-z)-279e-6*Math.cos(v-N)-236e-6*Math.cos(z)+231e-6*Math.cos(O)+229e-6*Math.cos(C-_)-201e-6*Math.cos(z-k),d+=486.26*Math.cos(S-k)-40.13*Math.cos(S)+37.51*Math.cos(k)+25.73*Math.cos(z-k)+19.97*Math.cos(S-j-k),w+=-55609*Math.sin(S-N)-34711*Math.sin(S-z)-9792*Math.sin(N)+9385*Math.sin(O-b)+7505*Math.sin(O-z)+5318*Math.sin(S+N)+3484*Math.sin(O-_)-3417*Math.sin(S-j-N)-2530*Math.sin(C-_)-2376*Math.sin(S)-2075*Math.sin(S-b)-1883*Math.sin(z)-1736*Math.sin(C-5*N)+1626*Math.sin(j)-1370*Math.sin(C-b),y+=-5392*Math.sin(S-k)-540*Math.sin(j)-441*Math.sin(S)+423*Math.sin(k)-288*Math.sin(z-k),A+=-3332.9*Math.sin(S)+1197.4*Math.sin(S-N)-662.5*Math.sin(j)+396.3*Math.sin(N)-218*Math.sin(S-j);var R=2*x,P=3*x;d+=46.997*Math.cos(x)*n-.614*Math.cos(S-k+x)*n+.614*Math.cos(S-k-x)*n-.0297*Math.cos(R)*r-.0335*Math.cos(x)*r+.0012*Math.cos(S-k+R)*r-16e-5*Math.cos(x)*o+4e-5*Math.cos(P)*o+4e-5*Math.cos(R)*o;var U=2.116*Math.sin(x)*n-.111*Math.sin(S-k-x)*n-.0015*Math.sin(x)*r;w+=U,A+=U,y+=-520.77*Math.sin(x)*n+13.66*Math.sin(S-k+x)*n+1.12*Math.sin(S-x)*n-1.06*Math.sin(k-x)*n+.66*Math.sin(R)*r+.371*Math.sin(x)*r-.035*Math.sin(S-k+R)*r-.015*Math.sin(S-k+x)*r+.0014*Math.sin(x)*o-.0011*Math.sin(P)*o-9e-4*Math.sin(R)*o,u*=I;var Q=h+d*L,B=M+w*L,q=p+A*L,Y=g+y*L;return l(u,f,Q,B,Y,q,E,t)}function p(t,i){return i=y(t,i),e.multiplyByScalar(i,Oe,i)}var A={},v=32.184,m=2451545,D=new n(2451545,0,a.TAI),E=398600435e6,N=1.012300034*E*328900.56,I=1e3,T=r.RADIANS_PER_DEGREE,L=r.RADIANS_PER_ARCSECOND,j=14959787e4,x=new o,S=50,O=r.EPSILON8,C=1.0000010178*j,z=100.46645683*T,b=1295977422.83429*L,_=16002,k=21863,R=32004,P=10931,U=14529,Q=16368,B=15318,q=32794,Y=64e-7*j,F=-152e-7*j,V=62e-7*j,G=-8e-7*j,W=32e-7*j,H=-41e-7*j,Z=19e-7*j,X=-11e-7*j,K=1e-7*-150*j,J=-46e-7*j,$=68*1e-7*j,ee=54e-7*j,te=14e-7*j,ie=24e-7*j,ne=-28e-7*j,re=22e-7*j,oe=10,se=16002,ae=21863,ue=10931,ce=1473,le=32004,fe=4387,he=73,de=-325e-7,Me=-322e-7,we=1e-7*-79,ge=232*1e-7,ye=1e-7*-52,pe=97e-7,Ae=55e-7,ve=-41e-7,me=-105e-7,De=-137e-7,Ee=258e-7,Ne=35e-7,Ie=1e-7*-116,Te=-88e-7,Le=-112e-7,je=-8e-6,xe=new n(0,0,a.TAI),Se=.012300034,Oe=Se/(Se+1)*-1,Ce=new o(1.0000000000000002,5.619723173785822e-16,4.690511510146299e-19,-5.154129427414611e-16,.9174820620691819,-.39777715593191376,-2.23970096136568e-16,.39777715593191376,.9174820620691819),ze=new e;return A.computeSunPositionInEarthInertialFrame=function(i,r){return t(i)||(i=n.now()),t(r)||(r=new e),ze=g(i,ze),r=e.negate(ze,r),p(i,ze),e.subtract(r,ze,r),o.multiplyByVector(Ce,r,r),r},A.computeMoonPositionInEarthInertialFrame=function(e,i){return t(e)||(e=n.now()),i=y(e,i),o.multiplyByVector(Ce,i,i),i},A})}(),function(){var t=e.amdDefine;t("2e",["1d","2d","16","5","6","7","11","d","56"],function(e,t,i,n,r,o,s,a,u){"use strict";function c(t,n,r,s){if(n=i(n,0),r=i(r,0),s=i(s,0),n<0||r<0||s<0)throw new o("All radii components must be greater than or equal to zero.");t._radii=new e(n,r,s),t._radiiSquared=new e(n*n,r*r,s*s),t._radiiToTheFourth=new e(n*n*n*n,r*r*r*r,s*s*s*s),t._oneOverRadii=new e(0===n?0:1/n,0===r?0:1/r,0===s?0:1/s),t._oneOverRadiiSquared=new e(0===n?0:1/(n*n),0===r?0:1/(r*r),0===s?0:1/(s*s)),t._minimumRadius=Math.min(n,r,s),t._maximumRadius=Math.max(n,r,s),t._centerToleranceSquared=a.EPSILON1}function l(e,t,i){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,c(this,e,t,i)}r(l.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),l.clone=function(t,i){if(n(t)){var r=t._radii;return n(i)?(e.clone(r,i._radii),e.clone(t._radiiSquared,i._radiiSquared),e.clone(t._radiiToTheFourth,i._radiiToTheFourth),e.clone(t._oneOverRadii,i._oneOverRadii),e.clone(t._oneOverRadiiSquared,i._oneOverRadiiSquared),i._minimumRadius=t._minimumRadius,i._maximumRadius=t._maximumRadius,i._centerToleranceSquared=t._centerToleranceSquared,i):new l(r.x,r.y,r.z)}},l.fromCartesian3=function(e,t){return n(t)||(t=new l),n(e)?(c(t,e.x,e.y,e.z),t):t},l.WGS84=s(new l(6378137,6378137,6356752.314245179)),l.UNIT_SPHERE=s(new l(1,1,1)),l.MOON=s(new l(a.LUNAR_RADIUS,a.LUNAR_RADIUS,a.LUNAR_RADIUS)),l.prototype.clone=function(e){return l.clone(this,e)},l.packedLength=e.packedLength,l.pack=function(t,r,s){if(!n(t))throw new o("value is required");if(!n(r))throw new o("array is required");s=i(s,0),e.pack(t._radii,r,s)},l.unpack=function(t,r,s){if(!n(t))throw new o("array is required");r=i(r,0);var a=e.unpack(t,r);return l.fromCartesian3(a,s)},l.prototype.geocentricSurfaceNormal=e.normalize,l.prototype.geodeticSurfaceNormalCartographic=function(t,i){if(!n(t))throw new o("cartographic is required.");var r=t.longitude,s=t.latitude,a=Math.cos(s),u=a*Math.cos(r),c=a*Math.sin(r),l=Math.sin(s);return n(i)||(i=new e),i.x=u,i.y=c,i.z=l,e.normalize(i,i)},l.prototype.geodeticSurfaceNormal=function(t,i){return n(i)||(i=new e),i=e.multiplyComponents(t,this._oneOverRadiiSquared,i),e.normalize(i,i)};var f=new e,h=new e;l.prototype.cartographicToCartesian=function(t,i){var r=f,o=h;this.geodeticSurfaceNormalCartographic(t,r),e.multiplyComponents(this._radiiSquared,r,o);var s=Math.sqrt(e.dot(r,o));return e.divideByScalar(o,s,o),e.multiplyByScalar(r,t.height,r),n(i)||(i=new e),e.add(o,r,i)},l.prototype.cartographicArrayToCartesianArray=function(e,t){if(!n(e))throw new o("cartographics is required.");var i=e.length;n(t)?t.length=i:t=new Array(i);for(var r=0;r<i;r++)t[r]=this.cartographicToCartesian(e[r],t[r]);return t};var d=new e,M=new e,w=new e;return l.prototype.cartesianToCartographic=function(i,r){var o=this.scaleToGeodeticSurface(i,M);if(n(o)){var s=this.geodeticSurfaceNormal(o,d),u=e.subtract(i,o,w),c=Math.atan2(s.y,s.x),l=Math.asin(s.z),f=a.sign(e.dot(u,i))*e.magnitude(u);return n(r)?(r.longitude=c,r.latitude=l,r.height=f,r):new t(c,l,f)}},l.prototype.cartesianArrayToCartographicArray=function(e,t){if(!n(e))throw new o("cartesians is required.");var i=e.length;n(t)?t.length=i:t=new Array(i);for(var r=0;r<i;++r)t[r]=this.cartesianToCartographic(e[r],t[r]);return t},l.prototype.scaleToGeodeticSurface=function(e,t){return u(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},l.prototype.scaleToGeocentricSurface=function(t,i){if(!n(t))throw new o("cartesian is required.");n(i)||(i=new e);var r=t.x,s=t.y,a=t.z,u=this._oneOverRadiiSquared,c=1/Math.sqrt(r*r*u.x+s*s*u.y+a*a*u.z);return e.multiplyByScalar(t,c,i)},l.prototype.transformPositionToScaledSpace=function(t,i){return n(i)||(i=new e),e.multiplyComponents(t,this._oneOverRadii,i)},l.prototype.transformPositionFromScaledSpace=function(t,i){return n(i)||(i=new e),e.multiplyComponents(t,this._radii,i)},l.prototype.equals=function(t){return this===t||n(t)&&e.equals(this._radii,t._radii)},l.prototype.toString=function(){return this._radii.toString()},l})}(),function(){var t=e.amdDefine;t("57",["1d","2d","16","5","6","7","2e","d"],function(e,t,i,n,r,o,s,a){"use strict";function u(e){var t=e._uSquared,i=e._ellipsoid.maximumRadius,n=e._ellipsoid.minimumRadius,r=(i-n)/i,o=Math.cos(e._startHeading),s=Math.sin(e._startHeading),a=(1-r)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+a*a),c=u*a,l=Math.atan2(a,o),f=u*s,h=f*f,d=1-h,M=Math.sqrt(d),w=t/4,g=w*w,y=g*w,p=g*g,A=1+w-3*g/4+5*y/4-175*p/64,v=1-w+15*g/8-35*y/8,m=1-3*w+35*g/4,D=1-5*w,E=A*l-v*Math.sin(2*l)*w/2-m*Math.sin(4*l)*g/16-D*Math.sin(6*l)*y/48-5*Math.sin(8*l)*p/512,N=e._constants;N.a=i,N.b=n,N.f=r,N.cosineHeading=o,N.sineHeading=s,N.tanU=a,N.cosineU=u,N.sineU=c,N.sigma=l,N.sineAlpha=f,N.sineSquaredAlpha=h,N.cosineSquaredAlpha=d,N.cosineAlpha=M,N.u2Over4=w,N.u4Over16=g,N.u6Over64=y,N.u8Over256=p,N.a0=A,N.a1=v,N.a2=m,N.a3=D,N.distanceRatio=E}function c(e,t){return e*t*(4+e*(4-3*t))/16}function l(e,t,i,n,r,o,s){var a=c(e,i);return(1-a)*e*t*(n+a*r*(s+a*o*(2*s*s-1)))}function f(e,t,i,n,r,o,s){var u,c,f,h,d,M=(t-i)/t,w=o-n,g=Math.atan((1-M)*Math.tan(r)),y=Math.atan((1-M)*Math.tan(s)),p=Math.cos(g),A=Math.sin(g),v=Math.cos(y),m=Math.sin(y),D=p*v,E=p*m,N=A*m,I=A*v,T=w,L=a.TWO_PI,j=Math.cos(T),x=Math.sin(T);do{j=Math.cos(T),x=Math.sin(T);var S=E-I*j;f=Math.sqrt(v*v*x*x+S*S),c=N+D*j,u=Math.atan2(f,c);var O;0===f?(O=0,h=1):(O=D*x/f,h=1-O*O),L=T,d=c-2*N/h,isNaN(d)&&(d=0),T=w+l(M,O,h,u,f,c,d)}while(Math.abs(T-L)>a.EPSILON12);var C=h*(t*t-i*i)/(i*i),z=1+C*(4096+C*(C*(320-175*C)-768))/16384,b=C*(256+C*(C*(74-47*C)-128))/1024,_=d*d,k=b*f*(d+b*(c*(2*_-1)-b*d*(4*f*f-3)*(4*_-3)/6)/4),R=i*z*(u-k),P=Math.atan2(v*x,E-I*j),U=Math.atan2(p*x,E*j-I);e._distance=R,e._startHeading=P,e._endHeading=U,e._uSquared=C}function h(i,n,r,s){var a=e.normalize(s.cartographicToCartesian(n,w),M),c=e.normalize(s.cartographicToCartesian(r,w),w);if(Math.abs(Math.abs(e.angleBetween(a,c))-Math.PI)<.0125)throw new o("geodesic position is not unique");f(i,s.maximumRadius,s.minimumRadius,n.longitude,n.latitude,r.longitude,r.latitude),i._start=t.clone(n,i._start),i._end=t.clone(r,i._end),i._start.height=0,i._end.height=0,u(i)}function d(e,r,o){var a=i(o,s.WGS84);this._ellipsoid=a,this._start=new t,this._end=new t,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,n(e)&&n(r)&&h(this,e,r,a)}var M=new e,w=new e;return r(d.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){if(!n(this._distance))throw new o("set end positions before getting surfaceDistance");return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){if(!n(this._distance))throw new o("set end positions before getting startHeading");return this._startHeading}},endHeading:{get:function(){if(!n(this._distance))throw new o("set end positions before getting endHeading");return this._endHeading}}}),d.prototype.setEndPoints=function(e,t){if(!n(e))throw new o("start cartographic position is required");if(!n(t))throw new o("end cartgraphic position is required");h(this,e,t,this._ellipsoid)},d.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},d.prototype.interpolateUsingSurfaceDistance=function(e,i){if(!n(this._distance))throw new o("start and end must be set before calling funciton interpolateUsingSurfaceDistance");var r=this._constants,s=r.distanceRatio+e/r.b,a=Math.cos(2*s),u=Math.cos(4*s),c=Math.cos(6*s),f=Math.sin(2*s),h=Math.sin(4*s),d=Math.sin(6*s),M=Math.sin(8*s),w=s*s,g=s*w,y=r.u8Over256,p=r.u2Over4,A=r.u6Over64,v=r.u4Over16,m=2*g*y*a/3+s*(1-p+7*v/4-15*A/4+579*y/64-(v-15*A/4+187*y/16)*a-(5*A/4-115*y/16)*u-29*y*c/16)+(p/2-v+71*A/32-85*y/16)*f+(5*v/16-5*A/4+383*y/96)*h-w*((A-11*y/2)*f+5*y*h/2)+(29*A/96-29*y/16)*d+539*y*M/1536,D=Math.asin(Math.sin(m)*r.cosineAlpha),E=Math.atan(r.a/r.b*Math.tan(D));m-=r.sigma;var N=Math.cos(2*r.sigma+m),I=Math.sin(m),T=Math.cos(m),L=r.cosineU*T,j=r.sineU*I,x=Math.atan2(I*r.sineHeading,L-j*r.cosineHeading),S=x-l(r.f,r.sineAlpha,r.cosineSquaredAlpha,m,I,T,N);return n(i)?(i.longitude=this._start.longitude+S,i.latitude=E,i.height=0,i):new t(this._start.longitude+S,E,0)},d})}(),function(){var t=e.amdDefine;t("56",["1d","5","7","d"],function(e,t,i,n){"use strict";function r(r,a,u,c,l){if(!t(r))throw new i("cartesian is required.");if(!t(a))throw new i("oneOverRadii is required.");if(!t(u))throw new i("oneOverRadiiSquared is required.");if(!t(c))throw new i("centerToleranceSquared is required.");var f=r.x,h=r.y,d=r.z,M=a.x,w=a.y,g=a.z,y=f*f*M*M,p=h*h*w*w,A=d*d*g*g,v=y+p+A,m=Math.sqrt(1/v),D=e.multiplyByScalar(r,m,o);if(v<c)return isFinite(m)?e.clone(D,l):void 0;var E=u.x,N=u.y,I=u.z,T=s;T.x=D.x*E*2,T.y=D.y*N*2,T.z=D.z*I*2;var L,j,x,S,O,C,z,b,_,k,R,P=(1-m)*e.magnitude(r)/(.5*e.magnitude(T)),U=0;do{P-=U,x=1/(1+P*E),S=1/(1+P*N),O=1/(1+P*I),C=x*x,z=S*S,b=O*O,_=C*x,k=z*S,R=b*O,L=y*C+p*z+A*b-1,j=y*_*E+p*k*N+A*R*I;var Q=-2*j;U=L/Q}while(Math.abs(L)>n.EPSILON12);return t(l)?(l.x=f*x,l.y=h*S,l.z=d*O,l):new e(f*x,h*S,d*O)}var o=new e,s=new e;return r})}(),function(){var t=e.amdDefine;t("2d",["1d","16","5","7","11","d","56"],function(e,t,i,n,r,o,s){"use strict";function a(e,i,n){this.longitude=t(e,0),this.latitude=t(i,0),this.height=t(n,0)}a.fromRadians=function(e,r,o,s){if(!i(e))throw new n("longitude is required.");if(!i(r))throw new n("latitude is required.");return o=t(o,0),i(s)?(s.longitude=e,s.latitude=r,s.height=o,s):new a(e,r,o)},a.fromDegrees=function(e,t,r,s){if(!i(e))throw new n("longitude is required.");if(!i(t))throw new n("latitude is required.");return e=o.toRadians(e),t=o.toRadians(t),a.fromRadians(e,t,r,s)};var u=new e,c=new e,l=new e,f=new e(1/6378137,1/6378137,1/6356752.314245179),h=new e(1/40680631590769,1/40680631590769,1/40408299984661.445),d=o.EPSILON1;return a.fromCartesian=function(t,n,r){var M=i(n)?n.oneOverRadii:f,w=i(n)?n.oneOverRadiiSquared:h,g=i(n)?n._centerToleranceSquared:d,y=s(t,M,w,g,c);if(i(y)){var p=e.multiplyComponents(t,w,u);p=e.normalize(p,p);var A=e.subtract(t,y,l),v=Math.atan2(p.y,p.x),m=Math.asin(p.z),D=o.sign(e.dot(A,t))*e.magnitude(A);return i(r)?(r.longitude=v,r.latitude=m,r.height=D,r):new a(v,m,D)}},a.clone=function(e,t){if(i(e))return i(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new a(e.longitude,e.latitude,e.height)},a.equals=function(e,t){return e===t||i(e)&&i(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},a.equalsEpsilon=function(e,t,r){if("number"!=typeof r)throw new n("epsilon is required and must be a number.");return e===t||i(e)&&i(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},a.ZERO=r(new a(0,0,0)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t){return a.equalsEpsilon(this,e,t)},a.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},a})}(),function(){var t=e.amdDefine;t("58",["7","59"],function(e,t){"use strict";function i(e,t,i,n){var r,o,s=e,a=t/3,u=i/3,c=n,l=s*u,f=a*c,h=a*a,d=u*u,M=s*u-h,w=s*c-a*u,g=a*c-d,y=4*M*g-w*w;if(y<0){var p,A,v;h*f>=l*d?(p=s,A=M,v=-2*a*M+s*w):(p=c,A=g,v=-c*w+2*u*g);var m=v<0?-1:1,D=-m*Math.abs(p)*Math.sqrt(-y);o=-v+D;var E=o/2,N=E<0?-Math.pow(-E,1/3):Math.pow(E,1/3),I=o===D?-N:-A/N;return r=A<=0?N+I:-v/(N*N+I*I+A),h*f>=l*d?[(r-a)/s]:[-c/(r+u)]}var T=M,L=-2*a*M+s*w,j=g,x=-c*w+2*u*g,S=Math.sqrt(y),O=Math.sqrt(3)/2,C=Math.abs(Math.atan2(s*S,-L)/3);r=2*Math.sqrt(-T);var z=Math.cos(C);o=r*z;var b=r*(-z/2-O*Math.sin(C)),_=o+b>2*a?o-a:b-a,k=s,R=_/k;C=Math.abs(Math.atan2(c*S,-x)/3),r=2*Math.sqrt(-j),z=Math.cos(C),o=r*z,b=r*(-z/2-O*Math.sin(C));var P=-c,U=o+b<2*u?o+u:b+u,Q=P/U,B=k*U,q=-_*U-k*P,Y=_*P,F=(u*q-a*Y)/(-a*q+u*B);return R<=F?R<=Q?F<=Q?[R,F,Q]:[R,Q,F]:[Q,R,F]:R<=Q?[F,R,Q]:F<=Q?[F,Q,R]:[Q,F,R]}var n={};return n.computeDiscriminant=function(t,i,n,r){if("number"!=typeof t)throw new e("a is a required number.");if("number"!=typeof i)throw new e("b is a required number.");if("number"!=typeof n)throw new e("c is a required number.");if("number"!=typeof r)throw new e("d is a required number.");var o=t*t,s=i*i,a=n*n,u=r*r,c=18*t*i*n*r+s*a-27*o*u-4*(t*a*n+s*i*r);return c},n.computeRealRoots=function(n,r,o,s){if("number"!=typeof n)throw new e("a is a required number.");if("number"!=typeof r)throw new e("b is a required number.");if("number"!=typeof o)throw new e("c is a required number.");if("number"!=typeof s)throw new e("d is a required number.");var a,u;if(0===n)return t.computeRealRoots(r,o,s);if(0===r){if(0===o){if(0===s)return[0,0,0];u=-s/n;var c=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3);return[c,c,c]}return 0===s?(a=t.computeRealRoots(n,0,o),0===a.Length?[0]:[a[0],0,a[1]]):i(n,0,o,s)}return 0===o?0===s?(u=-r/n,u<0?[u,0,0]:[0,0,u]):i(n,r,0,s):0===s?(a=t.computeRealRoots(n,r,o),0===a.length?[0]:a[1]<=0?[a[0],a[1],0]:a[0]>=0?[0,a[0],a[1]]:[a[0],0,a[1]]):i(n,r,o,s)},n})}(),function(){var t=e.amdDefine;t("59",["7","d"],function(e,t){"use strict";function i(e,i,n){var r=e+i;return t.sign(e)!==t.sign(i)&&Math.abs(r/Math.max(Math.abs(e),Math.abs(i)))<n?0:r}var n={};return n.computeDiscriminant=function(t,i,n){if("number"!=typeof t)throw new e("a is a required number.");if("number"!=typeof i)throw new e("b is a required number.");if("number"!=typeof n)throw new e("c is a required number.");var r=i*i-4*t*n;return r},n.computeRealRoots=function(n,r,o){if("number"!=typeof n)throw new e("a is a required number.");if("number"!=typeof r)throw new e("b is a required number.");if("number"!=typeof o)throw new e("c is a required number.");var s;if(0===n)return 0===r?[]:[-o/r];if(0===r){if(0===o)return[0,0];var a=Math.abs(o),u=Math.abs(n);if(a<u&&a/u<t.EPSILON14)return[0,0];if(a>u&&u/a<t.EPSILON14)return[];if(s=-o/n,s<0)return[];var c=Math.sqrt(s);return[-c,c]}if(0===o)return s=-r/n,s<0?[s,0]:[0,s];var l=r*r,f=4*n*o,h=i(l,-f,t.EPSILON14);if(h<0)return[];var d=-.5*i(r,t.sign(r)*Math.sqrt(h),t.EPSILON14);return r>0?[d/n,o/d]:[o/d,d/n]},n})}(),function(){var t=e.amdDefine;t("5a",["58","7","d","59"],function(e,t,i,n){"use strict";function r(t,r,o,s){var a=t*t,u=r-3*a/8,c=o-r*t/2+a*t/8,l=s-o*t/4+r*a/16-3*a*a/256,f=e.computeRealRoots(1,2*u,u*u-4*l,-c*c);if(f.length>0){var h=-t/4,d=f[f.length-1];if(Math.abs(d)<i.EPSILON14){var M=n.computeRealRoots(1,u,l);if(2===M.length){var w,g=M[0],y=M[1];if(g>=0&&y>=0){var p=Math.sqrt(g),A=Math.sqrt(y);return[h-A,h-p,h+p,h+A]}if(g>=0&&y<0)return w=Math.sqrt(g),[h-w,h+w];if(g<0&&y>=0)return w=Math.sqrt(y),[h-w,h+w]}return[]}if(d>0){var v=Math.sqrt(d),m=(u+d-c/v)/2,D=(u+d+c/v)/2,E=n.computeRealRoots(1,v,m),N=n.computeRealRoots(1,-v,D);return 0!==E.length?(E[0]+=h,E[1]+=h,0!==N.length?(N[0]+=h,N[1]+=h,E[1]<=N[0]?[E[0],E[1],N[0],N[1]]:N[1]<=E[0]?[N[0],N[1],E[0],E[1]]:E[0]>=N[0]&&E[1]<=N[1]?[N[0],E[0],E[1],N[1]]:N[0]>=E[0]&&N[1]<=E[1]?[E[0],N[0],N[1],E[1]]:E[0]>N[0]&&E[0]<N[1]?[N[0],E[0],N[1],E[1]]:[E[0],N[0],E[1],N[1]]):E):0!==N.length?(N[0]+=h,N[1]+=h,N):[]}}return[]}function o(t,r,o,s){var a=o*o,u=r*r,c=t*t,l=-2*r,f=o*t+u-4*s,h=c*s-o*r*t+a,d=e.computeRealRoots(1,l,f,h);if(d.length>0){var M,w,g=d[0],y=r-g,p=y*y,A=t/2,v=y/2,m=p-4*s,D=p+4*Math.abs(s),E=c-4*g,N=c+4*Math.abs(g);if(g<0||m*N<E*D){var I=Math.sqrt(E);M=I/2,w=0===I?0:(t*v-o)/I}else{var T=Math.sqrt(m);M=0===T?0:(t*v-o)/T,w=T/2}var L,j;0===A&&0===M?(L=0,j=0):i.sign(A)===i.sign(M)?(L=A+M,j=g/L):(j=A-M,L=g/j);var x,S;0===v&&0===w?(x=0,S=0):i.sign(v)===i.sign(w)?(x=v+w,S=s/x):(S=v-w,x=s/S);var O=n.computeRealRoots(1,L,x),C=n.computeRealRoots(1,j,S);if(0!==O.length)return 0!==C.length?O[1]<=C[0]?[O[0],O[1],C[0],C[1]]:C[1]<=O[0]?[C[0],C[1],O[0],O[1]]:O[0]>=C[0]&&O[1]<=C[1]?[C[0],O[0],O[1],C[1]]:C[0]>=O[0]&&C[1]<=O[1]?[O[0],C[0],C[1],O[1]]:O[0]>C[0]&&O[0]<C[1]?[C[0],O[0],C[1],O[1]]:[O[0],C[0],O[1],C[1]]:O;if(0!==C.length)return C}return[]}var s={};return s.computeDiscriminant=function(e,i,n,r,o){if("number"!=typeof e)throw new t("a is a required number.");if("number"!=typeof i)throw new t("b is a required number.");if("number"!=typeof n)throw new t("c is a required number.");if("number"!=typeof r)throw new t("d is a required number.");if("number"!=typeof o)throw new t("e is a required number.");var s=e*e,a=s*e,u=i*i,c=u*i,l=n*n,f=l*n,h=r*r,d=h*r,M=o*o,w=M*o,g=u*l*h-4*c*d-4*e*f*h+18*e*i*n*d-27*s*h*h+256*a*w+o*(18*c*n*r-4*u*f+16*e*l*l-80*e*i*l*r-6*e*u*h+144*s*n*h)+M*(144*e*u*n-27*u*u-128*s*l-192*s*i*r);
return g},s.computeRealRoots=function(n,s,a,u,c){if("number"!=typeof n)throw new t("a is a required number.");if("number"!=typeof s)throw new t("b is a required number.");if("number"!=typeof a)throw new t("c is a required number.");if("number"!=typeof u)throw new t("d is a required number.");if("number"!=typeof c)throw new t("e is a required number.");if(Math.abs(n)<i.EPSILON15)return e.computeRealRoots(s,a,u,c);var l=s/n,f=a/n,h=u/n,d=c/n,M=l<0?1:0;switch(M+=f<0?M+1:M,M+=h<0?M+1:M,M+=d<0?M+1:M){case 0:return r(l,f,h,d);case 1:return o(l,f,h,d);case 2:return o(l,f,h,d);case 3:return r(l,f,h,d);case 4:return r(l,f,h,d);case 5:return o(l,f,h,d);case 6:return r(l,f,h,d);case 7:return r(l,f,h,d);case 8:return o(l,f,h,d);case 9:return r(l,f,h,d);case 10:return r(l,f,h,d);case 11:return o(l,f,h,d);case 12:return r(l,f,h,d);case 13:return r(l,f,h,d);case 14:return r(l,f,h,d);case 15:return r(l,f,h,d);default:return}},s})}(),function(){var t=e.amdDefine;t("5b",["1d","16","5","7"],function(e,t,i,n){"use strict";function r(i,n){n=e.clone(t(n,e.ZERO)),e.equals(n,e.ZERO)||e.normalize(n,n),this.origin=e.clone(t(i,e.ZERO)),this.direction=n}return r.getPoint=function(t,r,o){if(!i(t))throw new n("ray is requred");if("number"!=typeof r)throw new n("t is a required number");return i(o)||(o=new e),o=e.multiplyByScalar(t.direction,r,o),e.add(t.origin,o,o)},r})}(),function(){var t=e.amdDefine;t("5c",["1d","2d","16","5","7","d","23","59","5a","5b"],function(e,t,i,n,r,o,s,a,u,c){"use strict";function l(t,s,a,u,c){if(!n(t))throw new r("ray is required.");if(!n(s))throw new r("p0 is required.");if(!n(a))throw new r("p1 is required.");if(!n(u))throw new r("p2 is required.");c=i(c,!1);var l,f,h,d,M,w=t.origin,m=t.direction,D=e.subtract(a,s,g),E=e.subtract(u,s,y),N=e.cross(m,E,p),I=e.dot(D,N);if(c){if(I<o.EPSILON6)return;if(l=e.subtract(w,s,A),h=e.dot(l,N),h<0||h>I)return;if(f=e.cross(l,D,v),d=e.dot(m,f),d<0||h+d>I)return;M=e.dot(E,f)/I}else{if(Math.abs(I)<o.EPSILON6)return;var T=1/I;if(l=e.subtract(w,s,A),h=e.dot(l,N)*T,h<0||h>1)return;if(f=e.cross(l,D,v),d=e.dot(m,f)*T,d<0||h+d>1)return;M=e.dot(E,f)*T}return M}function f(e,t,i,n){var r=t*t-4*e*i;if(!(r<0)){if(r>0){var o=1/(2*e),s=Math.sqrt(r),a=(-t+s)*o,u=(-t-s)*o;return a<u?(n.root0=a,n.root1=u):(n.root0=u,n.root1=a),n}var c=-t/(2*e);if(0!==c)return n.root0=n.root1=c,n}}function h(t,i,r){n(r)||(r={});var o=t.origin,s=t.direction,a=i.center,u=i.radius*i.radius,c=e.subtract(o,a,p),l=e.dot(s,s),h=2*e.dot(s,c),d=e.magnitudeSquared(c)-u,M=f(l,h,d,D);if(n(M))return r.start=M.root0,r.stop=M.root1,r}function d(e,t,i){var n=e+t;return o.sign(e)!==o.sign(t)&&Math.abs(n/Math.max(Math.abs(e),Math.abs(t)))<i?0:n}function M(t,i,n,r,c){var l,f=r*r,h=c*c,M=(t[s.COLUMN1ROW1]-t[s.COLUMN2ROW2])*h,w=c*(r*d(t[s.COLUMN1ROW0],t[s.COLUMN0ROW1],o.EPSILON15)+i.y),g=t[s.COLUMN0ROW0]*f+t[s.COLUMN2ROW2]*h+r*i.x+n,y=h*d(t[s.COLUMN2ROW1],t[s.COLUMN1ROW2],o.EPSILON15),p=c*(r*d(t[s.COLUMN2ROW0],t[s.COLUMN0ROW2])+i.z),A=[];if(0===p&&0===y){if(l=a.computeRealRoots(M,w,g),0===l.length)return A;var v=l[0],m=Math.sqrt(Math.max(1-v*v,0));if(A.push(new e(r,c*v,c*-m)),A.push(new e(r,c*v,c*m)),2===l.length){var D=l[1],E=Math.sqrt(Math.max(1-D*D,0));A.push(new e(r,c*D,c*-E)),A.push(new e(r,c*D,c*E))}return A}var N=p*p,I=y*y,T=M*M,L=p*y,j=T+I,x=2*(w*M+L),S=2*g*M+w*w-I+N,O=2*(g*w-L),C=g*g-N;if(0===j&&0===x&&0===S&&0===O)return A;l=u.computeRealRoots(j,x,S,O,C);var z=l.length;if(0===z)return A;for(var b=0;b<z;++b){var _,k=l[b],R=k*k,P=Math.max(1-R,0),U=Math.sqrt(P);_=o.sign(M)===o.sign(g)?d(M*R+g,w*k,o.EPSILON12):o.sign(g)===o.sign(w*k)?d(M*R,w*k+g,o.EPSILON12):d(M*R+w*k,g,o.EPSILON12);var Q=d(y*k,p,o.EPSILON15),B=_*Q;B<0?A.push(new e(r,c*k,c*U)):B>0?A.push(new e(r,c*k,c*-U)):0!==U?(A.push(new e(r,c*k,c*-U)),A.push(new e(r,c*k,c*U)),++b):A.push(new e(r,c*k,c*U))}return A}var w={};w.rayPlane=function(t,i,s){if(!n(t))throw new r("ray is required.");if(!n(i))throw new r("plane is required.");n(s)||(s=new e);var a=t.origin,u=t.direction,c=i.normal,l=e.dot(c,u);if(!(Math.abs(l)<o.EPSILON15)){var f=(-i.distance-e.dot(c,a))/l;if(!(f<0))return s=e.multiplyByScalar(u,f,s),e.add(a,s,s)}};var g=new e,y=new e,p=new e,A=new e,v=new e;w.rayTriangle=function(t,i,r,o,s,a){var u=l(t,i,r,o,s);if(n(u)&&!(u<0))return n(a)||(a=new e),e.multiplyByScalar(t.direction,u,a),e.add(t.origin,a,a)};var m=new c;w.lineSegmentTriangle=function(t,i,o,s,a,u,c){if(!n(t))throw new r("v0 is required.");if(!n(i))throw new r("v1 is required.");var f=m;e.clone(t,f.origin),e.subtract(i,t,f.direction),e.normalize(f.direction,f.direction);var h=l(f,o,s,a,u);if(!(!n(h)||h<0||h>e.distance(t,i)))return n(c)||(c=new e),e.multiplyByScalar(f.direction,h,c),e.add(f.origin,c,c)};var D={root0:0,root1:0};w.raySphere=function(e,t,i){if(!n(e))throw new r("ray is required.");if(!n(t))throw new r("sphere is required.");if(i=h(e,t,i),n(i)&&!(i.stop<0))return i.start=Math.max(i.start,0),i};var E=new c;w.lineSegmentSphere=function(t,i,o,s){if(!n(t))throw new r("p0 is required.");if(!n(i))throw new r("p1 is required.");if(!n(o))throw new r("sphere is required.");var a=E;e.clone(t,a.origin);var u=e.subtract(i,t,a.direction),c=e.magnitude(u);if(e.normalize(u,u),s=h(a,o,s),!(!n(s)||s.stop<0||s.start>c))return s.start=Math.max(s.start,0),s.stop=Math.min(s.stop,c),s};var N=new e,I=new e;w.rayEllipsoid=function(t,i){if(!n(t))throw new r("ray is required.");if(!n(i))throw new r("ellipsoid is required.");var o,s,a,u,c,l=i.oneOverRadii,f=e.multiplyComponents(l,t.origin,N),h=e.multiplyComponents(l,t.direction,I),d=e.magnitudeSquared(f),M=e.dot(f,h);if(d>1){if(M>=0)return;var w=M*M;if(o=d-1,s=e.magnitudeSquared(h),a=s*o,w<a)return;if(w>a){u=M*M-a,c=-M+Math.sqrt(u);var g=c/s,y=o/c;return g<y?{start:g,stop:y}:{start:y,stop:g}}var p=Math.sqrt(o/s);return{start:p,stop:p}}return d<1?(o=d-1,s=e.magnitudeSquared(h),a=s*o,u=M*M-a,c=-M+Math.sqrt(u),{start:0,stop:c/s}):M<0?(s=e.magnitudeSquared(h),{start:0,stop:-M/s}):void 0};var T=new e,L=new e,j=new e,x=new e,S=new e,O=new s,C=new s,z=new s,b=new s,_=new s,k=new s,R=new s,P=new e,U=new e,Q=new t;w.grazingAltitudeLocation=function(t,i){if(!n(t))throw new r("ray is required.");if(!n(i))throw new r("ellipsoid is required.");var a=t.origin,u=t.direction,c=i.geodeticSurfaceNormal(a,T);if(e.dot(u,c)>=0)return a;var l=n(this.rayEllipsoid(t,i)),f=i.transformPositionToScaledSpace(u,T),h=e.normalize(f,f),d=e.mostOrthogonalAxis(f,x),w=e.normalize(e.cross(d,h,L),L),g=e.normalize(e.cross(h,w,j),j),y=O;y[0]=h.x,y[1]=h.y,y[2]=h.z,y[3]=w.x,y[4]=w.y,y[5]=w.z,y[6]=g.x,y[7]=g.y,y[8]=g.z;var p=s.transpose(y,C),A=s.fromScale(i.radii,z),v=s.fromScale(i.oneOverRadii,b),m=_;m[0]=0,m[1]=-u.z,m[2]=u.y,m[3]=u.z,m[4]=0,m[5]=-u.x,m[6]=-u.y,m[7]=u.x,m[8]=0;var D,E,N=s.multiply(s.multiply(p,v,k),m,k),I=s.multiply(s.multiply(N,A,R),y,R),B=s.multiplyByVector(N,a,S),q=M(I,e.negate(B,T),0,0,1),Y=q.length;if(Y>0){for(var F=e.clone(e.ZERO,U),V=Number.NEGATIVE_INFINITY,G=0;G<Y;++G){D=s.multiplyByVector(A,s.multiplyByVector(y,q[G],P),P);var W=e.normalize(e.subtract(D,a,x),x),H=e.dot(W,u);H>V&&(V=H,F=e.clone(D,F))}var Z=i.cartesianToCartographic(F,Q);return V=o.clamp(V,0,1),E=e.magnitude(e.subtract(F,a,x))*Math.sqrt(1-V*V),E=l?-E:E,Z.height=E,i.cartographicToCartesian(Z,new e)}};var B=new e;return w.lineSegmentPlane=function(t,i,s,a){if(!n(t))throw new r("endPoint0 is required.");if(!n(i))throw new r("endPoint1 is required.");if(!n(s))throw new r("plane is required.");n(a)||(a=new e);var u=e.subtract(i,t,B),c=s.normal,l=e.dot(c,u);if(!(Math.abs(l)<o.EPSILON6)){var f=e.dot(c,t),h=-(s.distance+f)/l;if(!(h<0||h>1))return e.multiplyByScalar(u,h,a),e.add(t,a,a),a}},w.trianglePlaneIntersection=function(t,i,o,s){if(!(n(t)&&n(i)&&n(o)&&n(s)))throw new r("p0, p1, p2, and plane are required.");var a=s.normal,u=s.distance,c=e.dot(a,t)+u<0,l=e.dot(a,i)+u<0,f=e.dot(a,o)+u<0,h=0;h+=c?1:0,h+=l?1:0,h+=f?1:0;var d,M;if(1!==h&&2!==h||(d=new e,M=new e),1===h){if(c)return w.lineSegmentPlane(t,i,s,d),w.lineSegmentPlane(t,o,s,M),{positions:[t,i,o,d,M],indices:[0,3,4,1,2,4,1,4,3]};if(l)return w.lineSegmentPlane(i,o,s,d),w.lineSegmentPlane(i,t,s,M),{positions:[t,i,o,d,M],indices:[1,3,4,2,0,4,2,4,3]};if(f)return w.lineSegmentPlane(o,t,s,d),w.lineSegmentPlane(o,i,s,M),{positions:[t,i,o,d,M],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===h){if(!c)return w.lineSegmentPlane(i,t,s,d),w.lineSegmentPlane(o,t,s,M),{positions:[t,i,o,d,M],indices:[1,2,4,1,4,3,0,3,4]};if(!l)return w.lineSegmentPlane(o,i,s,d),w.lineSegmentPlane(t,i,s,M),{positions:[t,i,o,d,M],indices:[2,0,4,2,4,3,1,3,4]};if(!f)return w.lineSegmentPlane(t,o,s,d),w.lineSegmentPlane(i,o,s,M),{positions:[t,i,o,d,M],indices:[0,1,4,0,4,3,2,3,4]}}},w})}(),function(){var t=e.amdDefine;t("5d",["5"],function(e){"use strict";var t=Array.isArray;return e(t)||(t=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t})}(),function(){var t=e.amdDefine;t("35",["16","5","7","11","d"],function(e,t,i,n,r){"use strict";function o(t,i,n,r){this.x=e(t,0),this.y=e(i,0),this.z=e(n,0),this.w=e(r,0)}o.fromElements=function(e,i,n,r,s){return t(s)?(s.x=e,s.y=i,s.z=n,s.w=r,s):new o(e,i,n,r)},o.fromColor=function(e,n){if(!t(e))throw new i("color is required");return t(n)?(n.x=e.red,n.y=e.green,n.z=e.blue,n.w=e.alpha,n):new o(e.red,e.green,e.blue,e.alpha)},o.clone=function(e,i){if(t(e))return t(i)?(i.x=e.x,i.y=e.y,i.z=e.z,i.w=e.w,i):new o(e.x,e.y,e.z,e.w)},o.packedLength=4,o.pack=function(n,r,o){if(!t(n))throw new i("value is required");if(!t(r))throw new i("array is required");o=e(o,0),r[o++]=n.x,r[o++]=n.y,r[o++]=n.z,r[o]=n.w},o.unpack=function(n,r,s){if(!t(n))throw new i("array is required");return r=e(r,0),t(s)||(s=new o),s.x=n[r++],s.y=n[r++],s.z=n[r++],s.w=n[r],s},o.packArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=4*r:n=new Array(4*r);for(var s=0;s<r;++s)o.pack(e[s],n,4*s);return n},o.unpackArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=r/4:n=new Array(r/4);for(var s=0;s<r;s+=4){var a=s/4;n[a]=o.unpack(e,s,n[a])}return n},o.fromArray=o.unpack,o.maximumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.max(e.x,e.y,e.z,e.w)},o.minimumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.min(e.x,e.y,e.z,e.w)},o.minimumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r.z=Math.min(e.z,n.z),r.w=Math.min(e.w,n.w),r},o.maximumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r.z=Math.max(e.z,n.z),r.w=Math.max(e.w,n.w),r},o.magnitudeSquared=function(e){if(!t(e))throw new i("cartesian is required");return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var s=new o;o.distance=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitude(s)},o.distanceSquared=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitudeSquared(s)},o.normalize=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");var r=o.magnitude(e);return n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,n.w=e.w/r,n},o.dot=function(e,n){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},o.multiplyComponents=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x*n.x,r.y=e.y*n.y,r.z=e.z*n.z,r.w=e.w*n.w,r},o.add=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x+n.x,r.y=e.y+n.y,r.z=e.z+n.z,r.w=e.w+n.w,r},o.subtract=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x-n.x,r.y=e.y-n.y,r.z=e.z-n.z,r.w=e.w-n.w,r},o.multiplyByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x*n,r.y=e.y*n,r.z=e.z*n,r.w=e.w*n,r},o.divideByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x/n,r.y=e.y/n,r.z=e.z/n,r.w=e.w/n,r},o.negate=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},o.abs=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n.w=Math.abs(e.w),n};var a=new o;o.lerp=function(e,n,r,s){if(!t(e))throw new i("start is required.");if(!t(n))throw new i("end is required.");if("number"!=typeof r)throw new i("t is required and must be a number.");if(!t(s))throw new i("result is required.");return o.multiplyByScalar(n,r,a),s=o.multiplyByScalar(e,1-r,s),o.add(a,s,s)};var u=new o;return o.mostOrthogonalAxis=function(e,n){if(!t(e))throw new i("cartesian is required.");if(!t(n))throw new i("result is required.");var r=o.normalize(e,u);return o.abs(r,r),n=r.x<=r.y?r.x<=r.z?r.x<=r.w?o.clone(o.UNIT_X,n):o.clone(o.UNIT_W,n):r.z<=r.w?o.clone(o.UNIT_Z,n):o.clone(o.UNIT_W,n):r.y<=r.z?r.y<=r.w?o.clone(o.UNIT_Y,n):o.clone(o.UNIT_W,n):r.z<=r.w?o.clone(o.UNIT_Z,n):o.clone(o.UNIT_W,n)},o.equals=function(e,i){return e===i||t(e)&&t(i)&&e.x===i.x&&e.y===i.y&&e.z===i.z&&e.w===i.w},o.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]&&e.w===t[i+3]},o.equalsEpsilon=function(e,i,n,o){return e===i||t(e)&&t(i)&&r.equalsEpsilon(e.x,i.x,n,o)&&r.equalsEpsilon(e.y,i.y,n,o)&&r.equalsEpsilon(e.z,i.z,n,o)&&r.equalsEpsilon(e.w,i.w,n,o)},o.ZERO=n(new o(0,0,0,0)),o.UNIT_X=n(new o(1,0,0,0)),o.UNIT_Y=n(new o(0,1,0,0)),o.UNIT_Z=n(new o(0,0,1,0)),o.UNIT_W=n(new o(0,0,0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,i){return o.equalsEpsilon(this,e,t,i)},o.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},o})}(),function(){var t=e.amdDefine;t("6",["5"],function(e){"use strict";var t=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),i=Object.defineProperties;return t&&e(i)||(i=function(e){return e}),i})}(),function(){var t=e.amdDefine;t("23",["1d","16","5","6","7","11","d"],function(e,t,i,n,r,o,s){"use strict";function a(e,i,n,r,o,s,a,u,c){this[0]=t(e,0),this[1]=t(r,0),this[2]=t(a,0),this[3]=t(i,0),this[4]=t(o,0),this[5]=t(u,0),this[6]=t(n,0),this[7]=t(s,0),this[8]=t(c,0)}function u(e){for(var t=0,i=0;i<9;++i){var n=e[i];t+=n*n}return Math.sqrt(t)}function c(e){for(var t=0,i=0;i<3;++i){var n=e[a.getElementIndex(M[i],d[i])];t+=2*n*n}return Math.sqrt(t)}function l(e,t){for(var i=s.EPSILON15,n=0,r=1,o=0;o<3;++o){var u=Math.abs(e[a.getElementIndex(M[o],d[o])]);u>n&&(r=o,n=u)}var c=1,l=0,f=d[r],h=M[r];if(Math.abs(e[a.getElementIndex(h,f)])>i){var w,g=e[a.getElementIndex(h,h)],y=e[a.getElementIndex(f,f)],p=e[a.getElementIndex(h,f)],A=(g-y)/2/p;w=A<0?-1/(-A+Math.sqrt(1+A*A)):1/(A+Math.sqrt(1+A*A)),c=1/Math.sqrt(1+w*w),l=w*c}return t=a.clone(a.IDENTITY,t),t[a.getElementIndex(f,f)]=t[a.getElementIndex(h,h)]=c,t[a.getElementIndex(h,f)]=l,t[a.getElementIndex(f,h)]=-l,t}a.packedLength=9,a.pack=function(e,n,o){if(!i(e))throw new r("value is required");if(!i(n))throw new r("array is required");o=t(o,0),n[o++]=e[0],n[o++]=e[1],n[o++]=e[2],n[o++]=e[3],n[o++]=e[4],n[o++]=e[5],n[o++]=e[6],n[o++]=e[7],n[o++]=e[8]},a.unpack=function(e,n,o){if(!i(e))throw new r("array is required");return n=t(n,0),i(o)||(o=new a),o[0]=e[n++],o[1]=e[n++],o[2]=e[n++],o[3]=e[n++],o[4]=e[n++],o[5]=e[n++],o[6]=e[n++],o[7]=e[n++],o[8]=e[n++],o},a.clone=function(e,t){if(i(e))return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new a(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},a.fromArray=function(e,n,o){if(!i(e))throw new r("array is required");return n=t(n,0),i(o)||(o=new a),o[0]=e[n],o[1]=e[n+1],o[2]=e[n+2],o[3]=e[n+3],o[4]=e[n+4],o[5]=e[n+5],o[6]=e[n+6],o[7]=e[n+7],o[8]=e[n+8],o},a.fromColumnMajorArray=function(e,t){if(!i(e))throw new r("values parameter is required");return a.clone(e,t)},a.fromRowMajorArray=function(e,t){if(!i(e))throw new r("values is required.");return i(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new a(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},a.fromQuaternion=function(e,t){if(!i(e))throw new r("quaternion is required");var n=e.x*e.x,o=e.x*e.y,s=e.x*e.z,u=e.x*e.w,c=e.y*e.y,l=e.y*e.z,f=e.y*e.w,h=e.z*e.z,d=e.z*e.w,M=e.w*e.w,w=n-c-h+M,g=2*(o-d),y=2*(s+f),p=2*(o+d),A=-n+c-h+M,v=2*(l-u),m=2*(s-f),D=2*(l+u),E=-n-c+h+M;return i(t)?(t[0]=w,t[1]=p,t[2]=m,t[3]=g,t[4]=A,t[5]=D,t[6]=y,t[7]=v,t[8]=E,t):new a(w,g,y,p,A,v,m,D,E)},a.fromScale=function(e,t){if(!i(e))throw new r("scale is required.");return i(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new a(e.x,0,0,0,e.y,0,0,0,e.z)},a.fromUniformScale=function(e,t){if("number"!=typeof e)throw new r("scale is required.");return i(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new a(e,0,0,0,e,0,0,0,e)},a.fromCrossProduct=function(e,t){if(!i(e))throw new r("vector is required.");return i(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new a(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},a.fromRotationX=function(e,t){if(!i(e))throw new r("angle is required.");var n=Math.cos(e),o=Math.sin(e);return i(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=o,t[6]=0,t[7]=-o,t[8]=n,t):new a(1,0,0,0,n,-o,0,o,n)},a.fromRotationY=function(e,t){if(!i(e))throw new r("angle is required.");var n=Math.cos(e),o=Math.sin(e);return i(t)?(t[0]=n,t[1]=0,t[2]=-o,t[3]=0,t[4]=1,t[5]=0,t[6]=o,t[7]=0,t[8]=n,t):new a(n,0,o,0,1,0,-o,0,n)},a.fromRotationZ=function(e,t){if(!i(e))throw new r("angle is required.");var n=Math.cos(e),o=Math.sin(e);return i(t)?(t[0]=n,t[1]=o,t[2]=0,t[3]=-o,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new a(n,-o,0,o,n,0,0,0,1)},a.toArray=function(e,t){if(!i(e))throw new r("matrix is required");return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},a.getElementIndex=function(e,t){if("number"!=typeof t||t<0||t>2)throw new r("row must be 0, 1, or 2.");if("number"!=typeof e||e<0||e>2)throw new r("column must be 0, 1, or 2.");return 3*e+t},a.getColumn=function(e,t,n){if(!i(e))throw new r("matrix is required.");if("number"!=typeof t||t<0||t>2)throw new r("index must be 0, 1, or 2.");if(!i(n))throw new r("result is required");var o=3*t,s=e[o],a=e[o+1],u=e[o+2];return n.x=s,n.y=a,n.z=u,n},a.setColumn=function(e,t,n,o){if(!i(e))throw new r("matrix is required");if(!i(n))throw new r("cartesian is required");if("number"!=typeof t||t<0||t>2)throw new r("index must be 0, 1, or 2.");if(!i(o))throw new r("result is required");o=a.clone(e,o);var s=3*t;return o[s]=n.x,o[s+1]=n.y,o[s+2]=n.z,o},a.getRow=function(e,t,n){if(!i(e))throw new r("matrix is required.");if("number"!=typeof t||t<0||t>2)throw new r("index must be 0, 1, or 2.");if(!i(n))throw new r("result is required");var o=e[t],s=e[t+3],a=e[t+6];return n.x=o,n.y=s,n.z=a,n},a.setRow=function(e,t,n,o){if(!i(e))throw new r("matrix is required");if(!i(n))throw new r("cartesian is required");if("number"!=typeof t||t<0||t>2)throw new r("index must be 0, 1, or 2.");if(!i(o))throw new r("result is required");return o=a.clone(e,o),o[t]=n.x,o[t+3]=n.y,o[t+6]=n.z,o};var f=new e;a.getScale=function(t,n){if(!i(t))throw new r("matrix is required.");if(!i(n))throw new r("result is required");return n.x=e.magnitude(e.fromElements(t[0],t[1],t[2],f)),n.y=e.magnitude(e.fromElements(t[3],t[4],t[5],f)),n.z=e.magnitude(e.fromElements(t[6],t[7],t[8],f)),n};var h=new e;a.getMaximumScale=function(t){return a.getScale(t,h),e.maximumComponent(h)},a.multiply=function(e,t,n){if(!i(e))throw new r("left is required");if(!i(t))throw new r("right is required");if(!i(n))throw new r("result is required");var o=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],s=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],a=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],u=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],c=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],l=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],f=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],h=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],d=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=o,n[1]=s,n[2]=a,n[3]=u,n[4]=c,n[5]=l,n[6]=f,n[7]=h,n[8]=d,n},a.add=function(e,t,n){if(!i(e))throw new r("left is required");if(!i(t))throw new r("right is required");if(!i(n))throw new r("result is required");return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},a.subtract=function(e,t,n){if(!i(e))throw new r("left is required");if(!i(t))throw new r("right is required");if(!i(n))throw new r("result is required");return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},a.multiplyByVector=function(e,t,n){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("cartesian is required");if(!i(n))throw new r("result is required");var o=t.x,s=t.y,a=t.z,u=e[0]*o+e[3]*s+e[6]*a,c=e[1]*o+e[4]*s+e[7]*a,l=e[2]*o+e[5]*s+e[8]*a;return n.x=u,n.y=c,n.z=l,n},a.multiplyByScalar=function(e,t,n){if(!i(e))throw new r("matrix is required");if("number"!=typeof t)throw new r("scalar must be a number");if(!i(n))throw new r("result is required");return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},a.multiplyByScale=function(e,t,n){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("scale is required");if(!i(n))throw new r("result is required");return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},a.negate=function(e,t){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("result is required");return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},a.transpose=function(e,t){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("result is required");var n=e[0],o=e[3],s=e[6],a=e[1],u=e[4],c=e[7],l=e[2],f=e[5],h=e[8];return t[0]=n,t[1]=o,t[2]=s,t[3]=a,t[4]=u,t[5]=c,t[6]=l,t[7]=f,t[8]=h,t};var d=[1,0,0],M=[2,2,1],w=new a,g=new a;return a.computeEigenDecomposition=function(e,t){if(!i(e))throw new r("matrix is required.");var n=s.EPSILON20,o=10,f=0,h=0;i(t)||(t={});for(var d=t.unitary=a.clone(a.IDENTITY,t.unitary),M=t.diagonal=a.clone(e,t.diagonal),y=n*u(M);h<o&&c(M)>y;)l(M,w),a.transpose(w,g),a.multiply(M,w,M),a.multiply(g,M,M),a.multiply(d,w,d),++f>2&&(++h,f=0);return t},a.abs=function(e,t){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("result is required");return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},a.determinant=function(e){if(!i(e))throw new r("matrix is required");var t=e[0],n=e[3],o=e[6],s=e[1],a=e[4],u=e[7],c=e[2],l=e[5],f=e[8];return t*(a*f-l*u)+s*(l*o-n*f)+c*(n*u-a*o)},a.inverse=function(e,t){if(!i(e))throw new r("matrix is required");if(!i(t))throw new r("result is required");var n=e[0],o=e[1],u=e[2],c=e[3],l=e[4],f=e[5],h=e[6],d=e[7],M=e[8],w=a.determinant(e);if(Math.abs(w)<=s.EPSILON15)throw new r("matrix is not invertible");t[0]=l*M-d*f,t[1]=d*u-o*M,t[2]=o*f-l*u,t[3]=h*f-c*M,t[4]=n*M-h*u,t[5]=c*u-n*f,t[6]=c*d-h*l,t[7]=h*o-n*d,t[8]=n*l-c*o;var g=1/w;return a.multiplyByScalar(t,g,t)},a.equals=function(e,t){return e===t||i(e)&&i(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},a.equalsEpsilon=function(e,t,n){if("number"!=typeof n)throw new r("epsilon must be a number");return e===t||i(e)&&i(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},a.IDENTITY=o(new a(1,0,0,0,1,0,0,0,1)),a.ZERO=o(new a(0,0,0,0,0,0,0,0,0)),a.COLUMN0ROW0=0,a.COLUMN0ROW1=1,a.COLUMN0ROW2=2,a.COLUMN1ROW0=3,a.COLUMN1ROW1=4,a.COLUMN1ROW2=5,a.COLUMN2ROW0=6,a.COLUMN2ROW1=7,a.COLUMN2ROW2=8,n(a.prototype,{length:{get:function(){return a.packedLength}}}),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]},a.prototype.equalsEpsilon=function(e,t){return a.equalsEpsilon(this,e,t)},a.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},a})}(),function(){var t=e.amdDefine;t("2a",["5"],function(e){"use strict";function t(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t})}(),function(){var t=e.amdDefine;t("24",["1d","35","16","5","6","7","11","d","23","2a"],function(e,t,i,n,r,o,s,a,u,c){"use strict";function l(e,t,n,r,o,s,a,u,c,l,f,h,d,M,w,g){this[0]=i(e,0),this[1]=i(o,0),this[2]=i(c,0),this[3]=i(d,0),this[4]=i(t,0),this[5]=i(s,0),this[6]=i(l,0),this[7]=i(M,0),this[8]=i(n,0),this[9]=i(a,0),this[10]=i(f,0),this[11]=i(w,0),this[12]=i(r,0),this[13]=i(u,0),this[14]=i(h,0),this[15]=i(g,0)}l.packedLength=16,l.pack=function(e,t,r){if(!n(e))throw new o("value is required");if(!n(t))throw new o("array is required");r=i(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t[r++]=e[9],t[r++]=e[10],t[r++]=e[11],t[r++]=e[12],t[r++]=e[13],t[r++]=e[14],t[r]=e[15]},l.unpack=function(e,t,r){if(!n(e))throw new o("array is required");return t=i(t,0),n(r)||(r=new l),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r[9]=e[t++],r[10]=e[t++],r[11]=e[t++],r[12]=e[t++],r[13]=e[t++],r[14]=e[t++],r[15]=e[t],r},l.clone=function(e,t){if(n(e))return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new l(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},l.fromArray=l.unpack,l.fromColumnMajorArray=function(e,t){if(!n(e))throw new o("values is required");return l.clone(e,t)},l.fromRowMajorArray=function(e,t){if(!n(e))throw new o("values is required.");return n(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},l.fromRotationTranslation=function(t,r,s){if(!n(t))throw new o("rotation is required.");return r=i(r,e.ZERO),n(s)?(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=0,s[4]=t[3],s[5]=t[4],s[6]=t[5],s[7]=0,s[8]=t[6],s[9]=t[7],s[10]=t[8],s[11]=0,s[12]=r.x,s[13]=r.y,s[14]=r.z,s[15]=1,s):new l(t[0],t[3],t[6],r.x,t[1],t[4],t[7],r.y,t[2],t[5],t[8],r.z,0,0,0,1)},l.fromTranslationQuaternionRotationScale=function(e,t,i,r){if(!n(e))throw new o("translation is required.");if(!n(t))throw new o("rotation is required.");if(!n(i))throw new o("scale is required.");n(r)||(r=new l);var s=i.x,a=i.y,u=i.z,c=t.x*t.x,f=t.x*t.y,h=t.x*t.z,d=t.x*t.w,M=t.y*t.y,w=t.y*t.z,g=t.y*t.w,y=t.z*t.z,p=t.z*t.w,A=t.w*t.w,v=c-M-y+A,m=2*(f-p),D=2*(h+g),E=2*(f+p),N=-c+M-y+A,I=2*(w-d),T=2*(h-g),L=2*(w+d),j=-c-M+y+A;return r[0]=v*s,r[1]=E*s,r[2]=T*s,r[3]=0,r[4]=m*a,r[5]=N*a,r[6]=L*a,r[7]=0,r[8]=D*u,r[9]=I*u,r[10]=j*u,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},l.fromTranslationRotationScale=function(e,t){if(!n(e))throw new o("translationRotationScale is required.");return l.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},l.fromTranslation=function(e,t){if(!n(e))throw new o("translation is required.");return l.fromRotationTranslation(u.IDENTITY,e,t)},l.fromScale=function(e,t){if(!n(e))throw new o("scale is required.");return n(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new l(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},l.fromUniformScale=function(e,t){if("number"!=typeof e)throw new o("scale is required.");return n(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new l(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var f=new e,h=new e,d=new e;l.fromCamera=function(t,i){if(!n(t))throw new o("camera is required.");var r=t.position,s=t.direction,a=t.up;if(!n(r))throw new o("camera.position is required.");if(!n(s))throw new o("camera.direction is required.");if(!n(a))throw new o("camera.up is required.");e.normalize(s,f),e.normalize(e.cross(f,a,h),h),e.normalize(e.cross(h,f,d),d);var u=h.x,c=h.y,M=h.z,w=f.x,g=f.y,y=f.z,p=d.x,A=d.y,v=d.z,m=r.x,D=r.y,E=r.z,N=u*-m+c*-D+M*-E,I=p*-m+A*-D+v*-E,T=w*m+g*D+y*E;return n(i)?(i[0]=u,i[1]=p,i[2]=-w,i[3]=0,i[4]=c,i[5]=A,i[6]=-g,i[7]=0,i[8]=M,i[9]=v,i[10]=-y,i[11]=0,i[12]=N,i[13]=I,i[14]=T,i[15]=1,i):new l(u,c,M,N,p,A,v,I,-w,-g,-y,T,0,0,0,1)},l.computePerspectiveFieldOfView=function(e,t,i,r,s){if(e<=0||e>Math.PI)throw new o("fovY must be in [0, PI).");if(t<=0)throw new o("aspectRatio must be greater than zero.");if(i<=0)throw new o("near must be greater than zero.");if(r<=0)throw new o("far must be greater than zero.");if(!n(s))throw new o("result is required");var a=Math.tan(.5*e),u=1/a,c=u/t,l=(r+i)/(i-r),f=2*r*i/(i-r);return s[0]=c,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=l,s[11]=-1,s[12]=0,s[13]=0,s[14]=f,s[15]=0,s},l.computeOrthographicOffCenter=function(e,t,i,r,s,a,u){if(!n(e))throw new o("left is required.");if(!n(t))throw new o("right is required.");if(!n(i))throw new o("bottom is required.");if(!n(r))throw new o("top is required.");if(!n(s))throw new o("near is required.");if(!n(a))throw new o("far is required.");if(!n(u))throw new o("result is required");var c=1/(t-e),l=1/(r-i),f=1/(a-s),h=-(t+e)*c,d=-(r+i)*l,M=-(a+s)*f;return c*=2,l*=2,f*=-2,u[0]=c,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=f,u[11]=0,u[12]=h,u[13]=d,u[14]=M,u[15]=1,u},l.computePerspectiveOffCenter=function(e,t,i,r,s,a,u){if(!n(e))throw new o("left is required.");if(!n(t))throw new o("right is required.");if(!n(i))throw new o("bottom is required.");if(!n(r))throw new o("top is required.");if(!n(s))throw new o("near is required.");if(!n(a))throw new o("far is required.");if(!n(u))throw new o("result is required");var c=2*s/(t-e),l=2*s/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i),d=-(a+s)/(a-s),M=-1,w=-2*a*s/(a-s);return u[0]=c,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=l,u[6]=0,u[7]=0,u[8]=f,u[9]=h,u[10]=d,u[11]=M,u[12]=0,u[13]=0,u[14]=w,u[15]=0,u},l.computeInfinitePerspectiveOffCenter=function(e,t,i,r,s,a){if(!n(e))throw new o("left is required.");if(!n(t))throw new o("right is required.");if(!n(i))throw new o("bottom is required.");
if(!n(r))throw new o("top is required.");if(!n(s))throw new o("near is required.");if(!n(a))throw new o("result is required");var u=2*s/(t-e),c=2*s/(r-i),l=(t+e)/(t-e),f=(r+i)/(r-i),h=-1,d=-1,M=-2*s;return a[0]=u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=0,a[7]=0,a[8]=l,a[9]=f,a[10]=h,a[11]=d,a[12]=0,a[13]=0,a[14]=M,a[15]=0,a},l.computeViewportTransformation=function(e,t,r,s){if(!n(s))throw new o("result is required");e=i(e,i.EMPTY_OBJECT);var a=i(e.x,0),u=i(e.y,0),c=i(e.width,0),l=i(e.height,0);t=i(t,0),r=i(r,1);var f=.5*c,h=.5*l,d=.5*(r-t),M=f,w=h,g=d,y=a+f,p=u+h,A=t+d,v=1;return s[0]=M,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=w,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=g,s[11]=0,s[12]=y,s[13]=p,s[14]=A,s[15]=v,s},l.computeView=function(t,i,r,s,a){if(!n(t))throw new o("position is required");if(!n(i))throw new o("direction is required");if(!n(r))throw new o("up is required");if(!n(s))throw new o("right is required");if(!n(a))throw new o("result is required");return a[0]=s.x,a[1]=r.x,a[2]=-i.x,a[3]=0,a[4]=s.y,a[5]=r.y,a[6]=-i.y,a[7]=0,a[8]=s.z,a[9]=r.z,a[10]=-i.z,a[11]=0,a[12]=-e.dot(s,t),a[13]=-e.dot(r,t),a[14]=e.dot(i,t),a[15]=1,a},l.toArray=function(e,t){if(!n(e))throw new o("matrix is required");return n(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},l.getElementIndex=function(e,t){if("number"!=typeof t||t<0||t>3)throw new o("row must be 0, 1, 2, or 3.");if("number"!=typeof e||e<0||e>3)throw new o("column must be 0, 1, 2, or 3.");return 4*e+t},l.getColumn=function(e,t,i){if(!n(e))throw new o("matrix is required.");if("number"!=typeof t||t<0||t>3)throw new o("index must be 0, 1, 2, or 3.");if(!n(i))throw new o("result is required");var r=4*t,s=e[r],a=e[r+1],u=e[r+2],c=e[r+3];return i.x=s,i.y=a,i.z=u,i.w=c,i},l.setColumn=function(e,t,i,r){if(!n(e))throw new o("matrix is required");if(!n(i))throw new o("cartesian is required");if("number"!=typeof t||t<0||t>3)throw new o("index must be 0, 1, 2, or 3.");if(!n(r))throw new o("result is required");r=l.clone(e,r);var s=4*t;return r[s]=i.x,r[s+1]=i.y,r[s+2]=i.z,r[s+3]=i.w,r},l.setTranslation=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("translation is required");if(!n(i))throw new o("result is required");return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=e[15],i},l.getRow=function(e,t,i){if(!n(e))throw new o("matrix is required.");if("number"!=typeof t||t<0||t>3)throw new o("index must be 0, 1, 2, or 3.");if(!n(i))throw new o("result is required");var r=e[t],s=e[t+4],a=e[t+8],u=e[t+12];return i.x=r,i.y=s,i.z=a,i.w=u,i},l.setRow=function(e,t,i,r){if(!n(e))throw new o("matrix is required");if(!n(i))throw new o("cartesian is required");if("number"!=typeof t||t<0||t>3)throw new o("index must be 0, 1, 2, or 3.");if(!n(r))throw new o("result is required");return r=l.clone(e,r),r[t]=i.x,r[t+4]=i.y,r[t+8]=i.z,r[t+12]=i.w,r};var M=new e;l.getScale=function(t,i){if(!n(t))throw new o("matrix is required.");if(!n(i))throw new o("result is required");return i.x=e.magnitude(e.fromElements(t[0],t[1],t[2],M)),i.y=e.magnitude(e.fromElements(t[4],t[5],t[6],M)),i.z=e.magnitude(e.fromElements(t[8],t[9],t[10],M)),i};var w=new e;l.getMaximumScale=function(t){return l.getScale(t,w),e.maximumComponent(w)},l.multiply=function(e,t,i){if(!n(e))throw new o("left is required");if(!n(t))throw new o("right is required");if(!n(i))throw new o("result is required");var r=e[0],s=e[1],a=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7],d=e[8],M=e[9],w=e[10],g=e[11],y=e[12],p=e[13],A=e[14],v=e[15],m=t[0],D=t[1],E=t[2],N=t[3],I=t[4],T=t[5],L=t[6],j=t[7],x=t[8],S=t[9],O=t[10],C=t[11],z=t[12],b=t[13],_=t[14],k=t[15],R=r*m+c*D+d*E+y*N,P=s*m+l*D+M*E+p*N,U=a*m+f*D+w*E+A*N,Q=u*m+h*D+g*E+v*N,B=r*I+c*T+d*L+y*j,q=s*I+l*T+M*L+p*j,Y=a*I+f*T+w*L+A*j,F=u*I+h*T+g*L+v*j,V=r*x+c*S+d*O+y*C,G=s*x+l*S+M*O+p*C,W=a*x+f*S+w*O+A*C,H=u*x+h*S+g*O+v*C,Z=r*z+c*b+d*_+y*k,X=s*z+l*b+M*_+p*k,K=a*z+f*b+w*_+A*k,J=u*z+h*b+g*_+v*k;return i[0]=R,i[1]=P,i[2]=U,i[3]=Q,i[4]=B,i[5]=q,i[6]=Y,i[7]=F,i[8]=V,i[9]=G,i[10]=W,i[11]=H,i[12]=Z,i[13]=X,i[14]=K,i[15]=J,i},l.add=function(e,t,i){if(!n(e))throw new o("left is required");if(!n(t))throw new o("right is required");if(!n(i))throw new o("result is required");return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i[4]=e[4]+t[4],i[5]=e[5]+t[5],i[6]=e[6]+t[6],i[7]=e[7]+t[7],i[8]=e[8]+t[8],i[9]=e[9]+t[9],i[10]=e[10]+t[10],i[11]=e[11]+t[11],i[12]=e[12]+t[12],i[13]=e[13]+t[13],i[14]=e[14]+t[14],i[15]=e[15]+t[15],i},l.subtract=function(e,t,i){if(!n(e))throw new o("left is required");if(!n(t))throw new o("right is required");if(!n(i))throw new o("result is required");return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i[4]=e[4]-t[4],i[5]=e[5]-t[5],i[6]=e[6]-t[6],i[7]=e[7]-t[7],i[8]=e[8]-t[8],i[9]=e[9]-t[9],i[10]=e[10]-t[10],i[11]=e[11]-t[11],i[12]=e[12]-t[12],i[13]=e[13]-t[13],i[14]=e[14]-t[14],i[15]=e[15]-t[15],i},l.multiplyTransformation=function(e,t,i){if(!n(e))throw new o("left is required");if(!n(t))throw new o("right is required");if(!n(i))throw new o("result is required");var r=e[0],s=e[1],a=e[2],u=e[4],c=e[5],l=e[6],f=e[8],h=e[9],d=e[10],M=e[12],w=e[13],g=e[14],y=t[0],p=t[1],A=t[2],v=t[4],m=t[5],D=t[6],E=t[8],N=t[9],I=t[10],T=t[12],L=t[13],j=t[14],x=r*y+u*p+f*A,S=s*y+c*p+h*A,O=a*y+l*p+d*A,C=r*v+u*m+f*D,z=s*v+c*m+h*D,b=a*v+l*m+d*D,_=r*E+u*N+f*I,k=s*E+c*N+h*I,R=a*E+l*N+d*I,P=r*T+u*L+f*j+M,U=s*T+c*L+h*j+w,Q=a*T+l*L+d*j+g;return i[0]=x,i[1]=S,i[2]=O,i[3]=0,i[4]=C,i[5]=z,i[6]=b,i[7]=0,i[8]=_,i[9]=k,i[10]=R,i[11]=0,i[12]=P,i[13]=U,i[14]=Q,i[15]=1,i},l.multiplyByMatrix3=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("rotation is required");if(!n(i))throw new o("result is required");var r=e[0],s=e[1],a=e[2],u=e[4],c=e[5],l=e[6],f=e[8],h=e[9],d=e[10],M=t[0],w=t[1],g=t[2],y=t[3],p=t[4],A=t[5],v=t[6],m=t[7],D=t[8],E=r*M+u*w+f*g,N=s*M+c*w+h*g,I=a*M+l*w+d*g,T=r*y+u*p+f*A,L=s*y+c*p+h*A,j=a*y+l*p+d*A,x=r*v+u*m+f*D,S=s*v+c*m+h*D,O=a*v+l*m+d*D;return i[0]=E,i[1]=N,i[2]=I,i[3]=0,i[4]=T,i[5]=L,i[6]=j,i[7]=0,i[8]=x,i[9]=S,i[10]=O,i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i},l.multiplyByTranslation=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("translation is required");if(!n(i))throw new o("result is required");var r=t.x,s=t.y,a=t.z,u=r*e[0]+s*e[4]+a*e[8]+e[12],c=r*e[1]+s*e[5]+a*e[9]+e[13],l=r*e[2]+s*e[6]+a*e[10]+e[14];return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=u,i[13]=c,i[14]=l,i[15]=e[15],i};var g=new e;l.multiplyByUniformScale=function(e,t,i){if(!n(e))throw new o("matrix is required");if("number"!=typeof t)throw new o("scale is required");if(!n(i))throw new o("result is required");return g.x=t,g.y=t,g.z=t,l.multiplyByScale(e,g,i)},l.multiplyByScale=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("scale is required");if(!n(i))throw new o("result is required");var r=t.x,s=t.y,a=t.z;return 1===r&&1===s&&1===a?l.clone(e,i):(i[0]=r*e[0],i[1]=r*e[1],i[2]=r*e[2],i[3]=0,i[4]=s*e[4],i[5]=s*e[5],i[6]=s*e[6],i[7]=0,i[8]=a*e[8],i[9]=a*e[9],i[10]=a*e[10],i[11]=0,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=1,i)},l.multiplyByVector=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("cartesian is required");if(!n(i))throw new o("result is required");var r=t.x,s=t.y,a=t.z,u=t.w,c=e[0]*r+e[4]*s+e[8]*a+e[12]*u,l=e[1]*r+e[5]*s+e[9]*a+e[13]*u,f=e[2]*r+e[6]*s+e[10]*a+e[14]*u,h=e[3]*r+e[7]*s+e[11]*a+e[15]*u;return i.x=c,i.y=l,i.z=f,i.w=h,i},l.multiplyByPointAsVector=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("cartesian is required");if(!n(i))throw new o("result is required");var r=t.x,s=t.y,a=t.z,u=e[0]*r+e[4]*s+e[8]*a,c=e[1]*r+e[5]*s+e[9]*a,l=e[2]*r+e[6]*s+e[10]*a;return i.x=u,i.y=c,i.z=l,i},l.multiplyByPoint=function(e,t,i){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("cartesian is required");if(!n(i))throw new o("result is required");var r=t.x,s=t.y,a=t.z,u=e[0]*r+e[4]*s+e[8]*a+e[12],c=e[1]*r+e[5]*s+e[9]*a+e[13],l=e[2]*r+e[6]*s+e[10]*a+e[14];return i.x=u,i.y=c,i.z=l,i},l.multiplyByScalar=function(e,t,i){if(!n(e))throw new o("matrix is required");if("number"!=typeof t)throw new o("scalar must be a number");if(!n(i))throw new o("result is required");return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12]*t,i[13]=e[13]*t,i[14]=e[14]*t,i[15]=e[15]*t,i},l.negate=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},l.transpose=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");var i=e[1],r=e[2],s=e[3],a=e[6],u=e[7],c=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[10]=e[10],t[11]=e[14],t[12]=s,t[13]=u,t[14]=c,t[15]=e[15],t},l.abs=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},l.equals=function(e,t){return e===t||n(e)&&n(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},l.equalsEpsilon=function(e,t,i){if("number"!=typeof i)throw new o("epsilon must be a number");return e===t||n(e)&&n(t)&&Math.abs(e[0]-t[0])<=i&&Math.abs(e[1]-t[1])<=i&&Math.abs(e[2]-t[2])<=i&&Math.abs(e[3]-t[3])<=i&&Math.abs(e[4]-t[4])<=i&&Math.abs(e[5]-t[5])<=i&&Math.abs(e[6]-t[6])<=i&&Math.abs(e[7]-t[7])<=i&&Math.abs(e[8]-t[8])<=i&&Math.abs(e[9]-t[9])<=i&&Math.abs(e[10]-t[10])<=i&&Math.abs(e[11]-t[11])<=i&&Math.abs(e[12]-t[12])<=i&&Math.abs(e[13]-t[13])<=i&&Math.abs(e[14]-t[14])<=i&&Math.abs(e[15]-t[15])<=i},l.getTranslation=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");return t.x=e[12],t.y=e[13],t.z=e[14],t},l.getRotation=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var y=new u,p=new u,A=new t,v=new t(0,0,0,1);return l.inverse=function(e,i){if(!n(e))throw new o("matrix is required");if(!n(i))throw new o("result is required");if(u.equalsEpsilon(l.getRotation(e,y),p,a.EPSILON7)&&t.equals(l.getRow(e,3,A),v))return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=-e[12],i[13]=-e[13],i[14]=-e[14],i[15]=1,i;var r=e[0],s=e[4],f=e[8],h=e[12],d=e[1],M=e[5],w=e[9],g=e[13],m=e[2],D=e[6],E=e[10],N=e[14],I=e[3],T=e[7],L=e[11],j=e[15],x=E*j,S=N*L,O=D*j,C=N*T,z=D*L,b=E*T,_=m*j,k=N*I,R=m*L,P=E*I,U=m*T,Q=D*I,B=x*M+C*w+z*g-(S*M+O*w+b*g),q=S*d+_*w+P*g-(x*d+k*w+R*g),Y=O*d+k*M+U*g-(C*d+_*M+Q*g),F=b*d+R*M+Q*w-(z*d+P*M+U*w),V=S*s+O*f+b*h-(x*s+C*f+z*h),G=x*r+k*f+R*h-(S*r+_*f+P*h),W=C*r+_*s+Q*h-(O*r+k*s+U*h),H=z*r+P*s+U*f-(b*r+R*s+Q*f);x=f*g,S=h*w,O=s*g,C=h*M,z=s*w,b=f*M,_=r*g,k=h*d,R=r*w,P=f*d,U=r*M,Q=s*d;var Z=x*T+C*L+z*j-(S*T+O*L+b*j),X=S*I+_*L+P*j-(x*I+k*L+R*j),K=O*I+k*T+U*j-(C*I+_*T+Q*j),J=b*I+R*T+Q*L-(z*I+P*T+U*L),$=O*E+b*N+S*D-(z*N+x*D+C*E),ee=R*N+x*m+k*E-(_*E+P*N+S*m),te=_*D+Q*N+C*m-(U*N+O*m+k*D),ie=U*E+z*m+P*D-(R*D+Q*E+b*m),ne=r*B+s*q+f*Y+h*F;if(Math.abs(ne)<a.EPSILON20)throw new c("matrix is not invertible because its determinate is zero.");return ne=1/ne,i[0]=B*ne,i[1]=q*ne,i[2]=Y*ne,i[3]=F*ne,i[4]=V*ne,i[5]=G*ne,i[6]=W*ne,i[7]=H*ne,i[8]=Z*ne,i[9]=X*ne,i[10]=K*ne,i[11]=J*ne,i[12]=$*ne,i[13]=ee*ne,i[14]=te*ne,i[15]=ie*ne,i},l.inverseTransformation=function(e,t){if(!n(e))throw new o("matrix is required");if(!n(t))throw new o("result is required");var i=e[0],r=e[1],s=e[2],a=e[4],u=e[5],c=e[6],l=e[8],f=e[9],h=e[10],d=e[12],M=e[13],w=e[14],g=-i*d-r*M-s*w,y=-a*d-u*M-c*w,p=-l*d-f*M-h*w;return t[0]=i,t[1]=a,t[2]=l,t[3]=0,t[4]=r,t[5]=u,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=h,t[11]=0,t[12]=g,t[13]=y,t[14]=p,t[15]=1,t},l.IDENTITY=s(new l(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),l.ZERO=s(new l(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),l.COLUMN0ROW0=0,l.COLUMN0ROW1=1,l.COLUMN0ROW2=2,l.COLUMN0ROW3=3,l.COLUMN1ROW0=4,l.COLUMN1ROW1=5,l.COLUMN1ROW2=6,l.COLUMN1ROW3=7,l.COLUMN2ROW0=8,l.COLUMN2ROW1=9,l.COLUMN2ROW2=10,l.COLUMN2ROW3=11,l.COLUMN3ROW0=12,l.COLUMN3ROW1=13,l.COLUMN3ROW2=14,l.COLUMN3ROW3=15,r(l.prototype,{length:{get:function(){return l.packedLength}}}),l.prototype.clone=function(e){return l.clone(this,e)},l.prototype.equals=function(e){return l.equals(this,e)},l.equalsArray=function(e,t,i){return e[0]===t[i]&&e[1]===t[i+1]&&e[2]===t[i+2]&&e[3]===t[i+3]&&e[4]===t[i+4]&&e[5]===t[i+5]&&e[6]===t[i+6]&&e[7]===t[i+7]&&e[8]===t[i+8]&&e[9]===t[i+9]&&e[10]===t[i+10]&&e[11]===t[i+11]&&e[12]===t[i+12]&&e[13]===t[i+13]&&e[14]===t[i+14]&&e[15]===t[i+15]},l.prototype.equalsEpsilon=function(e,t){return l.equalsEpsilon(this,e,t)},l.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},l})}(),function(){var t=e.amdDefine;t("5e",[],function(){var e=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};return e.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti==this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,e^=e>>>18,e>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},e})}(),function(){var t=e.amdDefine;t("16",["11"],function(e){"use strict";function t(e,t){return void 0!==e?e:t}return t.EMPTY_OBJECT=e({}),t})}(),function(){var t=e.amdDefine;t("d",["5e","16","5","7"],function(e,t,i,n){"use strict";var r={};r.EPSILON1=.1,r.EPSILON2=.01,r.EPSILON3=.001,r.EPSILON4=1e-4,r.EPSILON5=1e-5,r.EPSILON6=1e-6,r.EPSILON7=1e-7,r.EPSILON8=1e-8,r.EPSILON9=1e-9,r.EPSILON10=1e-10,r.EPSILON11=1e-11,r.EPSILON12=1e-12,r.EPSILON13=1e-13,r.EPSILON14=1e-14,r.EPSILON15=1e-15,r.EPSILON16=1e-16,r.EPSILON17=1e-17,r.EPSILON18=1e-18,r.EPSILON19=1e-19,r.EPSILON20=1e-20,r.GRAVITATIONALPARAMETER=3986004418e5,r.SOLAR_RADIUS=6955e5,r.LUNAR_RADIUS=1737400,r.SIXTY_FOUR_KILOBYTES=65536,r.sign=function(e){return e>0?1:e<0?-1:0},r.signNotZero=function(e){return e<0?-1:1},r.toSNorm=function(e){return Math.round(255*(.5*r.clamp(e,-1,1)+.5))},r.fromSNorm=function(e){return r.clamp(e,0,255)/255*2-1},r.sinh=function(e){var t=Math.pow(Math.E,e),i=Math.pow(Math.E,-1*e);return.5*(t-i)},r.cosh=function(e){var t=Math.pow(Math.E,e),i=Math.pow(Math.E,-1*e);return.5*(t+i)},r.lerp=function(e,t,i){return(1-i)*e+i*t},r.PI=Math.PI,r.ONE_OVER_PI=1/Math.PI,r.PI_OVER_TWO=.5*Math.PI,r.PI_OVER_THREE=Math.PI/3,r.PI_OVER_FOUR=Math.PI/4,r.PI_OVER_SIX=Math.PI/6,r.THREE_PI_OVER_TWO=3*Math.PI*.5,r.TWO_PI=2*Math.PI,r.ONE_OVER_TWO_PI=1/(2*Math.PI),r.RADIANS_PER_DEGREE=Math.PI/180,r.DEGREES_PER_RADIAN=180/Math.PI,r.RADIANS_PER_ARCSECOND=r.RADIANS_PER_DEGREE/3600,r.toRadians=function(e){if(!i(e))throw new n("degrees is required.");return e*r.RADIANS_PER_DEGREE},r.toDegrees=function(e){if(!i(e))throw new n("radians is required.");return e*r.DEGREES_PER_RADIAN},r.convertLongitudeRange=function(e){if(!i(e))throw new n("angle is required.");var t=r.TWO_PI,o=e-Math.floor(e/t)*t;return o<-Math.PI?o+t:o>=Math.PI?o-t:o},r.negativePiToPi=function(e){if(!i(e))throw new n("x is required.");return r.zeroToTwoPi(e+r.PI)-r.PI},r.zeroToTwoPi=function(e){if(!i(e))throw new n("x is required.");var t=r.mod(e,r.TWO_PI);return Math.abs(t)<r.EPSILON14&&Math.abs(e)>r.EPSILON14?r.TWO_PI:t},r.mod=function(e,t){if(!i(e))throw new n("m is required.");if(!i(t))throw new n("n is required.");return(e%t+t)%t},r.equalsEpsilon=function(e,r,o,s){if(!i(e))throw new n("left is required.");if(!i(r))throw new n("right is required.");if(!i(o))throw new n("relativeEpsilon is required.");s=t(s,o);var a=Math.abs(e-r);return a<=s||a<=o*Math.max(Math.abs(e),Math.abs(r))};var o=[1];r.factorial=function(e){if("number"!=typeof e||e<0)throw new n("A number greater than or equal to 0 is required.");var t=o.length;if(e>=t)for(var i=o[t-1],r=t;r<=e;r++)o.push(i*r);return o[e]},r.incrementWrap=function(e,r,o){if(o=t(o,0),!i(e))throw new n("n is required.");if(r<=o)throw new n("maximumValue must be greater than minimumValue.");return++e,e>r&&(e=o),e},r.isPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new n("A number greater than or equal to 0 is required.");return 0!==e&&0===(e&e-1)},r.nextPowerOfTwo=function(e){if("number"!=typeof e||e<0)throw new n("A number greater than or equal to 0 is required.");return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e,e},r.clamp=function(e,t,r){if(!i(e))throw new n("value is required");if(!i(t))throw new n("min is required.");if(!i(r))throw new n("max is required.");return e<t?t:e>r?r:e};var s=new e;return r.setRandomNumberSeed=function(t){if(!i(t))throw new n("seed is required.");s=new e(t)},r.nextRandomNumber=function(){return s.random()},r.acosClamped=function(e){if(!i(e))throw new n("value is required.");return Math.acos(r.clamp(e,-1,1))},r.asinClamped=function(e){if(!i(e))throw new n("value is required.");return Math.asin(r.clamp(e,-1,1))},r.chordLength=function(e,t){if(!i(e))throw new n("angle is required.");if(!i(t))throw new n("radius is required.");return 2*t*Math.sin(.5*e)},r.logBase=function(e,t){if(!i(e))throw new n("number is required.");if(!i(t))throw new n("base is required.");return Math.log(e)/Math.log(t)},r.fog=function(e,t){var i=e*t;return 1-Math.exp(-(i*i))},r})}(),function(){var t=e.amdDefine;t("1d",["16","5","7","11","d"],function(e,t,i,n,r){"use strict";function o(t,i,n){this.x=e(t,0),this.y=e(i,0),this.z=e(n,0)}o.fromSpherical=function(n,r){if(!t(n))throw new i("spherical is required");t(r)||(r=new o);var s=n.clock,a=n.cone,u=e(n.magnitude,1),c=u*Math.sin(a);return r.x=c*Math.cos(s),r.y=c*Math.sin(s),r.z=u*Math.cos(a),r},o.fromElements=function(e,i,n,r){return t(r)?(r.x=e,r.y=i,r.z=n,r):new o(e,i,n)},o.clone=function(e,i){if(t(e))return t(i)?(i.x=e.x,i.y=e.y,i.z=e.z,i):new o(e.x,e.y,e.z)},o.fromCartesian4=o.clone,o.packedLength=3,o.pack=function(n,r,o){if(!t(n))throw new i("value is required");if(!t(r))throw new i("array is required");o=e(o,0),r[o++]=n.x,r[o++]=n.y,r[o]=n.z},o.unpack=function(n,r,s){if(!t(n))throw new i("array is required");return r=e(r,0),t(s)||(s=new o),s.x=n[r++],s.y=n[r++],s.z=n[r],s},o.packArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=3*r:n=new Array(3*r);for(var s=0;s<r;++s)o.pack(e[s],n,3*s);return n},o.unpackArray=function(e,n){if(!t(e))throw new i("array is required");var r=e.length;t(n)?n.length=r/3:n=new Array(r/3);for(var s=0;s<r;s+=3){var a=s/3;n[a]=o.unpack(e,s,n[a])}return n},o.fromArray=o.unpack,o.maximumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.max(e.x,e.y,e.z)},o.minimumComponent=function(e){if(!t(e))throw new i("cartesian is required");return Math.min(e.x,e.y,e.z)},o.minimumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.min(e.x,n.x),r.y=Math.min(e.y,n.y),r.z=Math.min(e.z,n.z),r},o.maximumByComponent=function(e,n,r){if(!t(e))throw new i("first is required.");if(!t(n))throw new i("second is required.");if(!t(r))throw new i("result is required.");return r.x=Math.max(e.x,n.x),r.y=Math.max(e.y,n.y),r.z=Math.max(e.z,n.z),r},o.magnitudeSquared=function(e){if(!t(e))throw new i("cartesian is required");return e.x*e.x+e.y*e.y+e.z*e.z},o.magnitude=function(e){return Math.sqrt(o.magnitudeSquared(e))};var s=new o;o.distance=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitude(s)},o.distanceSquared=function(e,n){if(!t(e)||!t(n))throw new i("left and right are required.");return o.subtract(e,n,s),o.magnitudeSquared(s)},o.normalize=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");var r=o.magnitude(e);return n.x=e.x/r,n.y=e.y/r,n.z=e.z/r,n},o.dot=function(e,n){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");return e.x*n.x+e.y*n.y+e.z*n.z},o.multiplyComponents=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x*n.x,r.y=e.y*n.y,r.z=e.z*n.z,r},o.add=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x+n.x,r.y=e.y+n.y,r.z=e.z+n.z,r},o.subtract=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");return r.x=e.x-n.x,r.y=e.y-n.y,r.z=e.z-n.z,r},o.multiplyByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x*n,r.y=e.y*n,r.z=e.z*n,r},o.divideByScalar=function(e,n,r){if(!t(e))throw new i("cartesian is required");if("number"!=typeof n)throw new i("scalar is required and must be a number.");if(!t(r))throw new i("result is required");return r.x=e.x/n,r.y=e.y/n,r.z=e.z/n,r},o.negate=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=-e.x,n.y=-e.y,n.z=-e.z,n},o.abs=function(e,n){if(!t(e))throw new i("cartesian is required");if(!t(n))throw new i("result is required");return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};var a=new o;o.lerp=function(e,n,r,s){if(!t(e))throw new i("start is required.");if(!t(n))throw new i("end is required.");if("number"!=typeof r)throw new i("t is required and must be a number.");if(!t(s))throw new i("result is required.");return o.multiplyByScalar(n,r,a),s=o.multiplyByScalar(e,1-r,s),o.add(a,s,s)};var u=new o,c=new o;o.angleBetween=function(e,n){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");o.normalize(e,u),o.normalize(n,c);var r=o.dot(u,c),s=o.magnitude(o.cross(u,c,u));return Math.atan2(s,r)};var l=new o;o.mostOrthogonalAxis=function(e,n){if(!t(e))throw new i("cartesian is required.");if(!t(n))throw new i("result is required.");var r=o.normalize(e,l);return o.abs(r,r),n=r.x<=r.y?r.x<=r.z?o.clone(o.UNIT_X,n):o.clone(o.UNIT_Z,n):r.y<=r.z?o.clone(o.UNIT_Y,n):o.clone(o.UNIT_Z,n)},o.equals=function(e,i){return e===i||t(e)&&t(i)&&e.x===i.x&&e.y===i.y&&e.z===i.z},o.equalsArray=function(e,t,i){return e.x===t[i]&&e.y===t[i+1]&&e.z===t[i+2]},o.equalsEpsilon=function(e,i,n,o){return e===i||t(e)&&t(i)&&r.equalsEpsilon(e.x,i.x,n,o)&&r.equalsEpsilon(e.y,i.y,n,o)&&r.equalsEpsilon(e.z,i.z,n,o)},o.cross=function(e,n,r){if(!t(e))throw new i("left is required");if(!t(n))throw new i("right is required");if(!t(r))throw new i("result is required");var o=e.x,s=e.y,a=e.z,u=n.x,c=n.y,l=n.z,f=s*l-a*c,h=a*u-o*l,d=o*c-s*u;return r.x=f,r.y=h,r.z=d,r},o.fromDegrees=function(e,n,s,a,u){if(!t(e))throw new i("longitude is required");if(!t(n))throw new i("latitude is required");var c=r.toRadians(e),l=r.toRadians(n);return o.fromRadians(c,l,s,a,u)};var f=new o,h=new o,d=new o(40680631590769,40680631590769,40408299984661.445);return o.fromRadians=function(n,r,s,a,u){if(!t(n))throw new i("longitude is required");if(!t(r))throw new i("latitude is required");s=e(s,0);var c=t(a)?a.radiiSquared:d,l=Math.cos(r);f.x=l*Math.cos(n),f.y=l*Math.sin(n),f.z=Math.sin(r),f=o.normalize(f,f),o.multiplyComponents(c,f,h);var M=Math.sqrt(o.dot(f,h));return h=o.divideByScalar(h,M,h),f=o.multiplyByScalar(f,s,f),t(u)||(u=new o),o.add(h,f,u)},o.fromDegreesArray=function(e,n,s){if(!t(e))throw new i("positions is required.");for(var a=new Array(e.length),u=0;u<e.length;u++)a[u]=r.toRadians(e[u]);return o.fromRadiansArray(a,n,s)},o.fromRadiansArray=function(e,n,r){if(!t(e))throw new i("positions is required.");if(e.length<2)throw new i("positions length cannot be less than 2.");if(e.length%2!==0)throw new i("positions length must be a multiple of 2.");var s=e.length;t(r)?r.length=s/2:r=new Array(s/2);for(var a=0;a<s;a+=2){var u=e[a],c=e[a+1];r[a/2]=o.fromRadians(u,c,0,n,r[a/2])}return r},o.fromDegreesArrayHeights=function(e,n,s){if(!t(e))throw new i("positions is required.");if(e.length<3)throw new i("positions length cannot be less than 3.");if(e.length%3!==0)throw new i("positions length must be a multiple of 3.");for(var a=new Array(e.length),u=0;u<e.length;u+=3)a[u]=r.toRadians(e[u]),a[u+1]=r.toRadians(e[u+1]),a[u+2]=e[u+2];return o.fromRadiansArrayHeights(a,n,s)},o.fromRadiansArrayHeights=function(e,n,r){if(!t(e))throw new i("positions is required.");if(e.length<3)throw new i("positions length cannot be less than 3.");if(e.length%3!==0)throw new i("positions length must be a multiple of 3.");var s=e.length;t(r)?r.length=s/3:r=new Array(s/3);for(var a=0;a<s;a+=3){var u=e[a],c=e[a+1],l=e[a+2];r[a/3]=o.fromRadians(u,c,l,n,r[a/3])}return r},o.ZERO=n(new o(0,0,0)),o.UNIT_X=n(new o(1,0,0)),o.UNIT_Y=n(new o(0,1,0)),o.UNIT_Z=n(new o(0,0,1)),o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t,i){return o.equalsEpsilon(this,e,t,i)},o.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},o})}(),function(){var t=e.amdDefine;t("7",["5"],function(e){"use strict";function t(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t.throwInstantiationError=function(){throw new t("This function defines an interface and should not be called directly.")},t})}(),function(){var t=e.amdDefine;t("5",[],function(){"use strict";function e(e){return void 0!==e&&null!==e}return e})}(),function(){var t=e.amdDefine;t("11",["5"],function(e){"use strict";var t=Object.freeze;return e(t)||(t=function(e){return e}),t})}(),function(){var t=e.amdDefine;t("36",["1d","5","7","11"],function(e,t,i,n){"use strict";function r(n,r){if(!t(n))throw new i("normal is required.");if(!t(r))throw new i("distance is required.");this.normal=e.clone(n),this.distance=r}r.fromPointNormal=function(n,o,s){if(!t(n))throw new i("point is required.");if(!t(o))throw new i("normal is required.");var a=-e.dot(o,n);return t(s)?(e.clone(o,s.normal),s.distance=a,s):new r(o,a)};var o=new e;return r.fromCartesian4=function(n,s){if(!t(n))throw new i("coefficients is required.");var a=e.fromCartesian4(n,o),u=n.w;return t(s)?(e.clone(a,s.normal),s.distance=u,s):new r(a,u)},r.getPointDistance=function(n,r){if(!t(n))throw new i("plane is required.");if(!t(r))throw new i("point is required.");return e.dot(n.normal,r)+n.distance},r.ORIGIN_XY_PLANE=n(new r(e.UNIT_Z,0)),r.ORIGIN_YZ_PLANE=n(new r(e.UNIT_X,0)),r.ORIGIN_ZX_PLANE=n(new r(e.UNIT_Y,0)),r})}(),function(){var t=e.amdDefine;t("5f",["1d","2d","16","5","7","2e","57","5c","5d","d","24","36"],function(e,t,i,n,r,o,s,a,u,c,l,f){"use strict";function h(e,t,i){var n=N;n.length=e;var r;if(t===i){for(r=0;r<e;r++)n[r]=t;return n}var o=i-t,s=o/e;for(r=0;r<e;r++){var a=t+r*s;n[r]=a}return n}function d(t,i,n,r,o,s,a,u){var c=r.scaleToGeodeticSurface(t,j),l=r.scaleToGeodeticSurface(i,x),f=M.numberOfPoints(t,i,n),d=r.cartesianToCartographic(c,I),w=r.cartesianToCartographic(l,T),g=h(f,o,s);S.setEndPoints(d,w);var y=S.surfaceDistance/f,p=u;d.height=o;var A=r.cartographicToCartesian(d,L);e.pack(A,a,p),p+=3;for(var v=1;v<f;v++){var m=S.interpolateUsingSurfaceDistance(v*y,T);m.height=g[v],A=r.cartographicToCartesian(m,L),e.pack(A,a,p),p+=3}return p}var M={};M.numberOfPoints=function(t,i,n){var r=e.distance(t,i);return Math.ceil(r/n)};var w=new t;M.extractHeights=function(e,t){for(var i=e.length,n=new Array(i),r=0;r<i;r++){var o=e[r];n[r]=t.cartesianToCartographic(o,w).height}return n};var g=new l,y=new e,p=new e,A=new f(e.ZERO,0),v=new e,m=new f(e.ZERO,0),D=new e,E=new e,N=[],I=new t,T=new t,L=new e,j=new e,x=new e,S=new s;return M.wrapLongitude=function(t,r){var o=[],s=[];if(n(t)&&t.length>0){r=i(r,l.IDENTITY);var u=l.inverseTransformation(r,g),c=l.multiplyByPoint(u,e.ZERO,y),h=l.multiplyByPointAsVector(u,e.UNIT_Y,p),d=f.fromPointNormal(c,h,A),M=l.multiplyByPointAsVector(u,e.UNIT_X,v),w=f.fromPointNormal(c,M,m),N=1;o.push(e.clone(t[0]));for(var I=o[0],T=t.length,L=1;L<T;++L){var j=t[L];if(f.getPointDistance(w,I)<0||f.getPointDistance(w,j)<0){var x=a.lineSegmentPlane(I,j,d,D);if(n(x)){var S=e.multiplyByScalar(h,5e-9,E);f.getPointDistance(d,I)<0&&e.negate(S,S),o.push(e.add(x,S,new e)),s.push(N+1),e.negate(S,S),o.push(e.add(x,S,new e)),N=1}}o.push(e.clone(t[L])),N++,I=j}s.push(N)}return{positions:o,lengths:s}},M.generateArc=function(t){n(t)||(t={});var s=t.positions;if(!n(s))throw new r("options.positions is required.");var a=s.length,l=i(t.ellipsoid,o.WGS84),f=i(t.height,0);if(a<1)return[];if(1===a){var h=l.scaleToGeodeticSurface(s[0],j);if(0!==f){var w=l.geodeticSurfaceNormal(h,L);e.multiplyByScalar(w,f,w),e.add(h,w,h)}return[h.x,h.y,h.z]}var g=t.minDistance;if(!n(g)){var y=i(t.granularity,c.RADIANS_PER_DEGREE);g=c.chordLength(y,l.maximumRadius)}var p,A=0;for(p=0;p<a-1;p++)A+=M.numberOfPoints(s[p],s[p+1],g);var v=3*(A+1),m=new Array(v),D=0,E=u(f);for(p=0;p<a-1;p++){var T=s[p],x=s[p+1],S=E?f[p]:f,O=E?f[p+1]:f;D=d(T,x,g,l,S,O,m,D)}N.length=0;var C=s[a-1],z=l.cartesianToCartographic(C,I);z.height=E?f[a-1]:f;var b=l.cartographicToCartesian(z,L);return e.pack(b,m,v-3),m},M.generateCartesianArc=function(t){for(var i=M.generateArc(t),n=i.length/3,r=new Array(n),o=0;o<n;o++)r[o]=e.unpack(i,3*o);return r},M})}(),e.registerDynamic("60",["61","62","63"],!0,function(e,t,i){function n(e){this.gl=e,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferScale=WebVRConfig.BUFFER_SCALE,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,
this.realClearColor=e.clearColor,this.realViewport=e.viewport,o.isIOS()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=o.linkProgram(e,a,u,this.attribs),this.uniforms=o.getProgramUniforms(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize(),WebVRConfig.CARDBOARD_UI_DISABLED||(this.cardboardUI=new r(e))}var r=(this||self,e("61")),o=e("62"),s=e("63"),a=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),u=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");return n.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},n.prototype.onResize=function(){var e=this.gl,t=this,i=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];s(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),!e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},n.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,i=this.gl;o.isIOS()||(t.width=o.getScreenWidth()*this.bufferScale,t.height=o.getScreenHeight()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(t){e.bufferWidth=t,e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(t){e.bufferHeight=t,e.onResize()}})),this.lastBoundFramebuffer=i.getParameter(i.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,n){e.lastBoundFramebuffer=n?n:e.framebuffer,e.realBindFramebuffer.call(i,t,e.lastBoundFramebuffer)},this.cullFace=i.getParameter(i.CULL_FACE),this.depthTest=i.getParameter(i.DEPTH_TEST),this.blend=i.getParameter(i.BLEND),this.scissorTest=i.getParameter(i.SCISSOR_TEST),this.stencilTest=i.getParameter(i.STENCIL_TEST),i.enable=function(t){switch(t){case i.CULL_FACE:e.cullFace=!0;break;case i.DEPTH_TEST:e.depthTest=!0;break;case i.BLEND:e.blend=!0;break;case i.SCISSOR_TEST:e.scissorTest=!0;break;case i.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(i,t)},i.disable=function(t){switch(t){case i.CULL_FACE:e.cullFace=!1;break;case i.DEPTH_TEST:e.depthTest=!1;break;case i.BLEND:e.blend=!1;break;case i.SCISSOR_TEST:e.scissorTest=!1;break;case i.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(i,t)},this.colorMask=i.getParameter(i.COLOR_WRITEMASK),i.colorMask=function(t,n,r,o){e.colorMask[0]=t,e.colorMask[1]=n,e.colorMask[2]=r,e.colorMask[3]=o,e.realColorMask.call(i,t,n,r,o)},this.clearColor=i.getParameter(i.COLOR_CLEAR_VALUE),i.clearColor=function(t,n,r,o){e.clearColor[0]=t,e.clearColor[1]=n,e.clearColor[2]=r,e.clearColor[3]=o,e.realClearColor.call(i,t,n,r,o)},this.viewport=i.getParameter(i.VIEWPORT),i.viewport=function(t,n,r,o){e.viewport[0]=t,e.viewport[1]=n,e.viewport[2]=r,e.viewport[3]=o,e.realViewport.call(i,t,n,r,o)},this.isPatched=!0,o.safariCssSizeWorkaround(t)}},n.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;o.isIOS()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){o.safariCssSizeWorkaround(t)},1)}},n.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},n.prototype.submitFrame=function(){var e=this.gl,t=this,i=[];if(WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||i.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),s(e,i,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||o.isIOS())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),WebVRConfig.DIRTY_SUBMIT_FRAME_BINDINGS||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),o.isIOS()){var n=e.canvas;n.width==t.bufferWidth&&n.height==t.bufferHeight||(t.bufferWidth=n.width,t.bufferHeight=n.height,t.onResize())}},n.prototype.updateDeviceInfo=function(e){var t=this.gl,i=this,n=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];s(t,n,function(t){var n=i.computeMeshVertices_(i.meshWidth,i.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,i.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),!i.indexCount){var r=i.computeMeshIndices_(i.meshWidth,i.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,r,t.STATIC_DRAW),i.indexCount=r.length}})},n.prototype.computeMeshVertices_=function(e,t,i){for(var n=new Float32Array(2*e*t*5),r=i.getLeftEyeVisibleTanAngles(),s=i.getLeftEyeNoLensTanAngles(),a=i.getLeftEyeVisibleScreenRect(s),u=0,c=0;c<2;c++){for(var l=0;l<t;l++)for(var f=0;f<e;f++,u++){var h=f/(e-1),d=l/(t-1),M=h,w=d,g=o.lerp(r[0],r[2],h),y=o.lerp(r[3],r[1],d),p=Math.sqrt(g*g+y*y),A=i.distortion.distortInverse(p),v=g*A/p,m=y*A/p;h=(v-s[0])/(s[2]-s[0]),d=(m-s[3])/(s[1]-s[3]);i.device.widthMeters/i.device.heightMeters;h=2*(a.x+h*a.width-.5),d=2*(a.y+d*a.height-.5),n[5*u+0]=h,n[5*u+1]=d,n[5*u+2]=M,n[5*u+3]=w,n[5*u+4]=c}var D=r[2]-r[0];r[0]=-(D+r[0]),r[2]=D-r[2],D=s[2]-s[0],s[0]=-(D+s[0]),s[2]=D-s[2],a.x=1-(a.x+a.width)}return n},n.prototype.computeMeshIndices_=function(e,t){for(var i=new Uint16Array(2*(e-1)*(t-1)*6),n=e/2,r=t/2,o=0,s=0,a=0;a<2;a++)for(var u=0;u<t;u++)for(var c=0;c<e;c++,o++)0!=c&&0!=u&&(c<=n==u<=r?(i[s++]=o,i[s++]=o-e-1,i[s++]=o-e,i[s++]=o-e-1,i[s++]=o,i[s++]=o-1):(i[s++]=o-1,i[s++]=o-e,i[s++]=o,i[s++]=o-e,i[s++]=o-1,i[s++]=o-e-1));return i},n.prototype.getOwnPropertyDescriptor_=function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return void 0!==i.get&&void 0!==i.set||(i.configurable=!0,i.enumerable=!0,i.get=function(){return this.getAttribute(t)},i.set=function(e){this.setAttribute(t,e)}),i},i.exports=n,i.exports}),e.registerDynamic("63",[],!0,function(e,t,i){function n(e,t,i){if(!t)return void i(e);for(var n=[],r=null,o=0;o<t.length;++o){var s=t[o];switch(s){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var a=t[++o];if(a<e.TEXTURE0||a>e.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),n.push(null,null);break}r||(r=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(a),n.push(e.getParameter(s),null);break;case e.ACTIVE_TEXTURE:r=e.getParameter(e.ACTIVE_TEXTURE),n.push(null);break;default:n.push(e.getParameter(s))}}i(e);for(var o=0;o<t.length;++o){var s=t[o],u=n[o];switch(s){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var a=t[++o];if(a<e.TEXTURE0||a>e.TEXTURE31)break;e.activeTexture(a),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var a=t[++o];if(a<e.TEXTURE0||a>e.TEXTURE31)break;e.activeTexture(a),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(s):e.disable(s);break;default:console.log("No GL restore behavior for 0x"+s.toString(16))}r&&e.activeTexture(r)}}this||self;return i.exports=n,i.exports}),e.registerDynamic("61",["62","63"],!0,function(e,t,i){function n(e){this.gl=e,this.attribs={position:0},this.program=r.linkProgram(e,s,a,this.attribs),this.uniforms=r.getProgramUniforms(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}var r=(this||self,e("62")),o=e("63"),s=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),a=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),u=Math.PI/180,c=60,l=12,f=20,h=1,d=.75,M=.3125,w=4,g=28,y=1.5;return n.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},n.prototype.listen=function(e,t){var i=this.gl.canvas;this.listener=function(n){var r=i.clientWidth/2,o=g*y;n.clientX>r-o&&n.clientX<r+o&&n.clientY>i.clientHeight-o?e(n):n.clientX<o&&n.clientY<o&&t(n)},i.addEventListener("click",this.listener,!1)},n.prototype.onResize=function(){var e=this.gl,t=this,i=[e.ARRAY_BUFFER_BINDING];o(e,i,function(e){function i(e,t){var i=(90-e)*u,n=Math.cos(i),r=Math.sin(i);o.push(M*n*v+s,M*r*v+v),o.push(t*n*v+s,t*r*v+v)}function n(t,i){o.push(m+t,e.drawingBufferHeight-m-i)}var o=[],s=e.drawingBufferWidth/2,a=e.drawingBufferWidth/(screen.width*window.devicePixelRatio);r.isIOS()||(a*=window.devicePixelRatio);var p=w*a/2,A=g*y*a,v=g*a/2,m=(g*y-g)*a;o.push(s-p,A),o.push(s-p,e.drawingBufferHeight),o.push(s+p,A),o.push(s+p,e.drawingBufferHeight),t.gearOffset=o.length/2;for(var D=0;D<=6;D++){var E=D*c;i(E,h),i(E+l,h),i(E+f,d),i(E+(c-f),d),i(E+(c-l),h)}t.gearVertexCount=o.length/2-t.gearOffset,t.arrowOffset=o.length/2;var N=p/Math.sin(45*u);n(0,v),n(v,0),n(v+N,N),n(N,v+N),n(N,v-N),n(0,v),n(v,2*v),n(v+N,2*v-N),n(N,v-N),n(0,v),n(N,v-p),n(g*a,v-p),n(N,v+p),n(g*a,v+p),t.arrowVertexCount=o.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW)})},n.prototype.render=function(){var e=this.gl,t=this,i=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];o(e,i,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},n.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),r.orthoMatrix(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},i.exports=n,i.exports}),e.registerDynamic("64",[],!0,function(e,t,i){var n=(this||self,{format:1,last_updated:"2016-01-20T00:18:35Z",devices:[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 "}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 "}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3}]});return i.exports=n,i.exports}),e.registerDynamic("65",["64","62"],!0,function(e,t,i){function n(e,t){if(this.dpdb=o,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t,console.log("Fetching DPDB...");var i=new XMLHttpRequest,n=this;i.open("GET",a,!0),i.addEventListener("load",function(){n.loading=!1,i.status>=200&&i.status<=299?(console.log("Successfully loaded online DPDB."),n.dpdb=JSON.parse(i.response),n.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),i.send()}}function r(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}var o=(this||self,e("64")),s=e("62"),a="https://storage.googleapis.com/cardboard-dpdb/dpdb.json";return n.prototype.getDeviceParams=function(){return this.deviceParams},n.prototype.recalculateDeviceParams_=function(){console.log("Recalculating device params.");var e=this.calcDeviceParams_();console.log("New device parameters:"),console.log(e),e?(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},n.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return console.error("DPDB not available."),null;if(1!=e.format)return console.error("DPDB has unexpected format version."),null;if(!e.devices||!e.devices.length)return console.error("DPDB does not have a devices section."),null;var t=navigator.userAgent||navigator.vendor||window.opera,i=s.getScreenWidth(),n=s.getScreenHeight();if(console.log("User agent: "+t),console.log("Pixel width: "+i),console.log("Pixel height: "+n),!e.devices)return console.error("DPDB has no devices section."),null;for(var o=0;o<e.devices.length;o++){var a=e.devices[o];if(a.rules)if("ios"==a.type||"android"==a.type){if(s.isIOS()==("ios"==a.type)){for(var u=!1,c=0;c<a.rules.length;c++){var l=a.rules[c];if(this.matchRule_(l,t,i,n)){console.log("Rule matched:"),console.log(l),u=!0;break}}if(u){var f=a.dpi[0]||a.dpi,h=a.dpi[1]||a.dpi;return new r({xdpi:f,ydpi:h,bevelMm:a.bw})}}}else console.warn("Device["+o+"] has invalid type.");else console.warn("Device["+o+"] has no rules section.")}return console.warn("No DPDB device match."),null},n.prototype.matchRule_=function(e,t,i,n){if(!e.ua&&!e.res)return!1;if(e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var r=e.res[0],o=e.res[1];if(Math.min(i,n)!=Math.min(r,o)||Math.max(i,n)!=Math.max(r,o))return!1}return!0},i.exports=n,i.exports}),e.registerDynamic("66",[],!0,function(e,t,i){function n(e,t){this.set(e,t)}this||self;return n.prototype.set=function(e,t){this.sample=e,this.timestampS=t},n.prototype.copy=function(e){this.set(e.sample,e.timestampS)},i.exports=n,i.exports}),e.registerDynamic("67",["66","68","62"],!0,function(e,t,i){function n(e){this.kFilter=e,this.currentAccelMeasurement=new r,this.currentGyroMeasurement=new r,this.previousGyroMeasurement=new r,s.isIOS()?this.filterQ=new o.Quaternion(-1,0,0,1):this.filterQ=new o.Quaternion(1,0,0,1),this.previousFilterQ=new o.Quaternion,this.previousFilterQ.copy(this.filterQ),this.accelQ=new o.Quaternion,this.isOrientationInitialized=!1,this.estimatedGravity=new o.Vector3,this.measuredGravity=new o.Vector3,this.gyroIntegralQ=new o.Quaternion}var r=(this||self,e("66")),o=e("68"),s=e("62"),a=!1;return n.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},n.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var i=t-this.previousGyroMeasurement.timestampS;s.isTimestampDeltaValid(i)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},n.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var i=new o.Quaternion;i.copy(this.filterQ),i.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(i),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var n=new o.Quaternion;n.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),n.inverse(),a&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",o.radToDeg*s.getQuaternionAngle(n),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var r=new o.Quaternion;r.copy(this.filterQ),r.multiply(n),this.filterQ.slerp(r,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},n.prototype.getOrientation=function(){return this.filterQ},n.prototype.accelToQuaternion_=function(e){var t=new o.Vector3;t.copy(e),t.normalize();var i=new o.Quaternion;return i.setFromUnitVectors(new o.Vector3(0,0,-1),t),i.inverse(),i},n.prototype.gyroToQuaternionDelta_=function(e,t){var i=new o.Quaternion,n=new o.Vector3;return n.copy(e),n.normalize(),i.setFromAxisAngle(n,e.length()*t),i},i.exports=n,i.exports}),e.registerDynamic("69",["68"],!0,function(e,t,i){function n(e){this.predictionTimeS=e,this.previousQ=new r.Quaternion,this.previousTimestampS=null,this.deltaQ=new r.Quaternion,this.outQ=new r.Quaternion}var r=(this||self,e("68")),o=!1;return n.prototype.getPrediction=function(e,t,i){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=i,e;var n=new r.Vector3;n.copy(t),n.normalize();var s=t.length();if(s<20*r.degToRad)return o&&console.log("Moving slowly, at %s deg/s: no prediction",(r.radToDeg*s).toFixed(1)),this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var a=(i-this.previousTimestampS,s*this.predictionTimeS);return this.deltaQ.setFromAxisAngle(n,a),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=i,this.outQ},i.exports=n,i.exports}),e.registerDynamic("6a",["68","62"],!0,function(e,t,i){function n(){window.addEventListener("touchstart",this.onTouchStart_.bind(this)),window.addEventListener("touchmove",this.onTouchMove_.bind(this)),window.addEventListener("touchend",this.onTouchEnd_.bind(this)),this.isTouching=!1,this.rotateStart=new r.Vector2,this.rotateEnd=new r.Vector2,this.rotateDelta=new r.Vector2,this.theta=0,this.orientation=new r.Quaternion}var r=(this||self,e("68")),o=e("62"),s=.5;return n.prototype.getOrientation=function(){return this.orientation.setFromEulerXYZ(0,0,this.theta),this.orientation},n.prototype.resetSensor=function(){this.theta=0},n.prototype.onTouchStart_=function(e){1==e.touches.length&&(this.rotateStart.set(e.touches[0].pageX,e.touches[0].pageY),this.isTouching=!0)},n.prototype.onTouchMove_=function(e){if(this.isTouching){this.rotateEnd.set(e.touches[0].pageX,e.touches[0].pageY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd),o.isIOS()&&(this.rotateDelta.x*=-1);var t=document.body;
this.theta+=2*Math.PI*this.rotateDelta.x/t.clientWidth*s}},n.prototype.onTouchEnd_=function(e){this.isTouching=!1},i.exports=n,i.exports}),e.registerDynamic("6b",["67","69","6a","68","62"],!0,function(e,t,i){function n(){this.deviceId="webvr-polyfill:fused",this.deviceName="VR Position Device (webvr-polyfill:fused)",this.accelerometer=new a.Vector3,this.gyroscope=new a.Vector3,window.addEventListener("devicemotion",this.onDeviceMotionChange_.bind(this)),window.addEventListener("orientationchange",this.onScreenOrientationChange_.bind(this)),this.filter=new r(WebVRConfig.K_FILTER),this.posePredictor=new o(WebVRConfig.PREDICTION_TIME_S),this.touchPanner=new s,this.filterToWorldQ=new a.Quaternion,u.isIOS()?this.filterToWorldQ.setFromAxisAngle(new a.Vector3(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new a.Vector3(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new a.Quaternion,this.worldToScreenQ=new a.Quaternion,this.originalPoseAdjustQ=new a.Quaternion,this.originalPoseAdjustQ.setFromAxisAngle(new a.Vector3(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),u.isLandscapeMode()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new a.Quaternion,this.isFirefoxAndroid=u.isFirefoxAndroid(),this.isIOS=u.isIOS(),this.orientationOut_=new Float32Array(4)}var r=(this||self,e("67")),o=e("69"),s=e("6a"),a=e("68"),u=e("62");return n.prototype.getPosition=function(){return null},n.prototype.getOrientation=function(){var e=this.filter.getOrientation();this.predictedQ=this.posePredictor.getPrediction(e,this.gyroscope,this.previousTimestampS);var t=new a.Quaternion;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),WebVRConfig.TOUCH_PANNER_DISABLED||t.multiply(this.touchPanner.getOrientation()),t.multiply(this.predictedQ),t.multiply(this.worldToScreenQ),WebVRConfig.YAW_ONLY&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},n.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),u.isLandscapeMode()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ),WebVRConfig.TOUCH_PANNER_DISABLED||this.touchPanner.resetSensor()},n.prototype.onDeviceMotionChange_=function(e){var t=e.accelerationIncludingGravity,i=e.rotationRate,n=e.timeStamp/1e3;this.isFirefoxAndroid&&(n/=1e3);var r=n-this.previousTimestampS;return r<=u.MIN_TIMESTEP||r>u.MAX_TIMESTEP?(console.warn("Invalid timestamps detected. Time step between successive gyroscope sensor samples is very small or not monotonic"),void(this.previousTimestampS=n)):(this.accelerometer.set(-t.x,-t.y,-t.z),this.gyroscope.set(i.alpha,i.beta,i.gamma),(this.isIOS||this.isFirefoxAndroid)&&this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,n),this.filter.addGyroMeasurement(this.gyroscope,n),void(this.previousTimestampS=n))},n.prototype.onScreenOrientationChange_=function(e){this.setScreenTransform_()},n.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new a.Vector3(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new a.Vector3(0,0,1),Math.PI/2);break;case 180:}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},i.exports=n,i.exports}),e.registerDynamic("6c",["62"],!0,function(e,t,i){function n(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var i=document.createElement("img");i.src=this.icon;var t=i.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(i);var n=document.createElement("div"),t=n.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",n.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(n);var r=document.createElement("div"),t=r.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(r);var o=document.createElement("div");o.style.float="left",o.innerHTML="No Cardboard viewer?";var s=document.createElement("a");s.href="https://www.google.com/get/cardboard/get-cardboard/",s.innerHTML="get one",s.target="_blank";var t=s.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",r.appendChild(o),r.appendChild(s),this.overlay=e,this.text=n,this.hide()}var r=(this||self,e("62"));return n.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),i=t.style;r.isLandscapeMode()?(i.width="20%",i.marginLeft="40%",i.marginTop="3%"):(i.width="50%",i.marginLeft="25%",i.marginTop="25%")},n.prototype.hide=function(){this.overlay.style.display="none"},n.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},n.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},n.prototype.update=function(){this.disableShowTemporarily(),!r.isLandscapeMode()&&r.isMobile()?this.show():this.hide()},n.prototype.loadIcon_=function(){this.icon=r.base64("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+");
<<<<<<< HEAD
},i.exports=n,i.exports}),e.registerDynamic("6d",[],!0,function(e,t,i){function n(){this.callbacks={}}this||self;return n.prototype.emit=function(e){var t=this.callbacks[e];if(t){var i=[].slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(this,i)}},n.prototype.on=function(e,t){e in this.callbacks?this.callbacks[e].push(t):this.callbacks[e]=[t]},i.exports=n,i.exports}),e.registerDynamic("6e",[],!0,function(e,t,i){function n(e){this.coefficients=e}this||self;return n.prototype.distortInverse=function(e){for(var t=0,i=1,n=e-this.distort(t);Math.abs(i-t)>1e-4;){var r=e-this.distort(i),o=i-r*((i-t)/(r-n));t=i,i=o,n=r}return i},n.prototype.distort=function(e){for(var t=e*e,i=0,n=0;n<this.coefficients.length;n++)i=t*(i+this.coefficients[n]);return(i+1)*e},n.prototype.solveLinear_=function(e,t){for(var i=e.length,n=0;n<i-1;++n)for(var r=n+1;r<i;++r){for(var o=e[n][r]/e[n][n],s=n+1;s<i;++s)e[s][r]-=o*e[s][n];t[r]-=o*t[n]}for(var a=new Array(i),n=i-1;n>=0;--n){for(var u=t[n],s=n+1;s<i;++s)u-=e[s][n]*a[s];a[n]=u/e[n][n]}return a},n.prototype.solveLeastSquares_=function(e,t){var i,n,r,o,s=e.length,a=e[0].length;if(s!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(a);for(r=0;r<a;++r)for(u[r]=new Array(a),n=0;n<a;++n){for(o=0,i=0;i<s;++i)o+=e[n][i]*e[r][i];u[r][n]=o}var c=new Array(a);for(n=0;n<a;++n){for(o=0,i=0;i<s;++i)o+=e[n][i]*t[i];c[n]=o}return this.solveLinear_(u,c)},n.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var i,r,o=6,s=new Array(o);for(r=0;r<o;++r)s[r]=new Array(t);var a=new Array(t);for(i=0;i<t;++i){var u=e*(i+1)/t,c=this.distort(u),l=c;for(r=0;r<o;++r)l*=c*c,s[r][i]=l;a[i]=u-c}var h=this.solveLeastSquares_(s,a);return new n(h)},i.exports=n,i.exports}),e.registerDynamic("6f",["6e","68","62"],!0,function(e,t,i){function n(e){this.width=e.width||u.getScreenWidth(),this.height=e.height||u.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function r(e){this.viewer=h.CardboardV2,this.updateDeviceParams(e),this.distortion=new s(this.viewer.distortionCoefficients)}function o(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var s=(this||self,e("6e")),a=e("68"),u=e("62"),c=new n({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),l=new n({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),h={CardboardV1:new o({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new o({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};return r.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},r.prototype.getDevice=function(){return this.device},r.prototype.setViewer=function(e){this.viewer=e,this.distortion=new s(this.viewer.distortionCoefficients)},r.prototype.determineDevice_=function(e){if(!e)return u.isIOS()?(console.warn("Using fallback iOS device measurements."),l):(console.warn("Using fallback Android device measurements."),c);var t=.0254,i=t/e.xdpi,r=t/e.ydpi,o=u.getScreenWidth(),s=u.getScreenHeight();return new n({widthMeters:i*o,heightMeters:r*s,bevelMeters:.001*e.bevelMm})},r.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,s=e.baselineLensDistance-t.bevelMeters,u=t.heightMeters-s,c=a.radToDeg*Math.atan(i.distort(r/n)),l=a.radToDeg*Math.atan(i.distort(o/n)),h=a.radToDeg*Math.atan(i.distort(s/n)),f=a.radToDeg*Math.atan(i.distort(u/n));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(h,e.fov),upDegrees:Math.min(f,e.fov)}},r.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=Math.tan(-a.degToRad*e.fov),r=Math.tan(a.degToRad*e.fov),o=Math.tan(a.degToRad*e.fov),s=Math.tan(-a.degToRad*e.fov),u=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,h=e.interLensDistance/2-u,f=-l,d=e.screenLensDistance,M=i.distort((h-u)/d),w=i.distort((f+c)/d),g=i.distort((h+u)/d),y=i.distort((f-c)/d),A=new Float32Array(4);return A[0]=Math.max(n,M),A[1]=Math.min(r,w),A[2]=Math.min(o,g),A[3]=Math.max(s,y),A},r.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=new Float32Array(4),r=i.distortInverse(Math.tan(-a.degToRad*e.fov)),o=i.distortInverse(Math.tan(a.degToRad*e.fov)),s=i.distortInverse(Math.tan(a.degToRad*e.fov)),u=i.distortInverse(Math.tan(-a.degToRad*e.fov)),c=t.widthMeters/4,l=t.heightMeters/2,h=e.baselineLensDistance-t.bevelMeters-l,f=e.interLensDistance/2-c,d=-h,M=e.screenLensDistance,w=(f-c)/M,g=(d+l)/M,y=(f+c)/M,A=(d-l)/M;return n[0]=Math.max(r,w),n[1]=Math.min(o,g),n[2]=Math.min(s,y),n[3]=Math.max(u,A),n},r.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,i=this.device,n=t.screenLensDistance,r=(i.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-i.bevelMeters,s=(e[0]*n+r)/i.widthMeters,a=(e[1]*n+o)/i.heightMeters,u=(e[2]*n+r)/i.widthMeters,c=(e[3]*n+o)/i.heightMeters;return{x:s,y:c,width:u-s,height:a-c}},r.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},r.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},r.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:a.radToDeg*Math.atan(e.outerDist),rightDegrees:a.radToDeg*Math.atan(e.innerDist),downDegrees:a.radToDeg*Math.atan(e.bottomDist),upDegrees:a.radToDeg*Math.atan(e.topDist)}},r.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,i=this.device,n=t.screenLensDistance,r=i.widthMeters/n,o=i.heightMeters/n,s=i.width/r,a=i.height/o,u=Math.round((e.eyePosX-e.outerDist)*s),c=Math.round((e.eyePosY-e.bottomDist)*a);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*s)-u,height:Math.round((e.eyePosY+e.topDist)*a)-c}},r.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=e.interLensDistance/2/n,o=t.widthMeters/n,s=t.heightMeters/n,u=o/2-r,c=(e.baselineLensDistance-t.bevelMeters)/n,l=e.fov,h=i.distortInverse(Math.tan(a.degToRad*l)),f=Math.min(u,h),d=Math.min(r,h),M=Math.min(c,h),w=Math.min(s-c,h);return{outerDist:f,innerDist:d,topDist:w,bottomDist:M,eyePosX:u,eyePosY:c}},r.Viewers=h,i.exports=r,i.exports}),e.registerDynamic("70",["6d","62","6f"],!0,function(e,t,i){function n(){try{this.selectedKey=localStorage.getItem(a)||s}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(o.Viewers),this.root=null}var r=(this||self,e("6d")),o=(e("62"),e("6f")),s="CardboardV1",a="WEBVR_CARDBOARD_VIEWER",u="webvr-polyfill-viewer-selector";return n.prototype=new r,n.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=!0,this.dialog.style.display="block"},n.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},n.prototype.getCurrentViewer=function(){return o.Viewers[this.selectedKey]},n.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},n.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!o.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.emit("change",o.Viewers[this.selectedKey]);try{localStorage.setItem(a,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},n.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(u),t.style.display="none";var i=document.createElement("div"),n=i.style;n.position="fixed",n.left=0,n.top=0,n.width="100%",n.height="100%",n.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var r=280,o=document.createElement("div"),n=o.style;n.boxSizing="border-box",n.position="fixed",n.top="24px",n.left="50%",n.marginLeft=-r/2+"px",n.width=r+"px",n.padding="24px",n.overflow="hidden",n.background="#fafafa",n.fontFamily="'Roboto', sans-serif",n.boxShadow="0px 5px 20px #666",o.appendChild(this.createH1_("Select your viewer"));for(var s in e)o.appendChild(this.createChoice_(s,e[s].label));return o.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(i),t.appendChild(o),t},n.prototype.createH1_=function(e){var t=document.createElement("h1"),i=t.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",t.innerHTML=e,t},n.prototype.createChoice_=function(e,t){var i=document.createElement("div");i.style.marginTop="8px",i.style.color="black";var n=document.createElement("input");n.style.fontSize="30px",n.setAttribute("id",e),n.setAttribute("type","radio"),n.setAttribute("value",e),n.setAttribute("name","field");var r=document.createElement("label");return r.style.marginLeft="4px",r.setAttribute("for",e),r.innerHTML=t,i.appendChild(n),i.appendChild(r),i},n.prototype.createButton_=function(e,t){var i=document.createElement("button");i.innerHTML=e;var n=i.style;return n.float="right",n.textTransform="uppercase",n.color="#1094f7",n.fontSize="14px",n.letterSpacing=0,n.border=0,n.background="none",n.marginTop="16px",i.addEventListener("click",t),i},i.exports=n,i.exports}),e.registerDynamic("71",["60","61","6f","65","6b","6c","70","72","62"],!0,function(e,t,i){function n(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new u,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new a(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new s(this.dpdb_.getDeviceParams()),this.viewerSelector_=new l,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new c),f.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var r=(this||self,e("60")),o=e("61"),s=e("6f"),a=e("65"),u=e("6b"),c=e("6c"),l=e("70"),h=e("72").VRDisplay,f=e("62"),d={LEFT:"left",RIGHT:"right"};return n.prototype=new h,n.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},n.prototype.resetPose=function(){this.poseSensor_.resetPose()},n.prototype.getEyeParameters=function(e){var t,i=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==d.LEFT)i[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=d.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:i,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},n.prototype.onDeviceParamsUpdated_=function(e){console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},n.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},n.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=f.getScreenWidth()*this.bufferScale_,e.canvas.height=f.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new o(e)):(this.distorter_=new r(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(f.isLandscapeMode()&&f.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},n.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},n.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},n.prototype.onOrientationChange_=function(e){console.log("onOrientationChange_"),this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},n.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),i=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",i.join("; ")+";"),f.safariCssSizeWorkaround(t.canvas)}},n.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},n.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},i.exports=n,i.exports}),e.registerDynamic("68",[],!0,function(e,t,i){var n=(this||self,window.MathUtil||{});return n.degToRad=Math.PI/180,n.radToDeg=180/Math.PI,n.Vector2=function(e,t){this.x=e||0,this.y=t||0},n.Vector2.prototype={constructor:n.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},n.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},n.Vector3.prototype={constructor:n.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,s=e.z,a=e.w,u=a*t+o*n-s*i,c=a*i+s*t-r*n,l=a*n+r*i-o*t,h=-r*t-o*i-s*n;return this.x=u*a+h*-r+c*-s-l*-o,this.y=c*a+h*-o+l*-r-u*-s,this.z=l*a+h*-s+u*-o-c*-r,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=n*a-r*s,this.y=r*o-i*a,this.z=i*s-n*o,this}},n.Quaternion=function(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1},n.Quaternion.prototype={constructor:n.Quaternion,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u+s*a*o,this.w=n*r*o-s*a*u,this},setFromEulerYXZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u-s*a*o,this.w=n*r*o+s*a*u,this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,n=e.y,r=e.z,o=e.w,s=t.x,a=t.y,u=t.z,c=t.w;return this.x=i*c+o*s+n*u-r*a,this.y=n*c+o*a+r*s-i*u,this.z=r*c+o*u+i*a-n*s,this.w=o*c-i*s-n*a-r*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this.x,n=this.y,r=this.z,o=this.w,s=o*e.w+i*e.x+n*e.y+r*e.z;if(s<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),s>=1)return this.w=o,this.x=i,this.y=n,this.z=r,this;var a=Math.acos(s),u=Math.sqrt(1-s*s);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(i+this.x),this.y=.5*(n+this.y),this.z=.5*(r+this.z),this;var c=Math.sin((1-t)*a)/u,l=Math.sin(t*a)/u;return this.w=o*c+this.w*l,this.x=i*c+this.x*l,this.y=n*c+this.y*l,this.z=r*c+this.z*l,this},setFromUnitVectors:function(){var e,t,i=1e-6;return function(r,o){return void 0===e&&(e=new n.Vector3),t=r.dot(o)+1,t<i?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,o),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()},i.exports=n,i.exports}),e.registerDynamic("73",["72","68","62"],!0,function(e,t,i){function n(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new o.Quaternion,this.rotateStart_=new o.Vector2,this.rotateEnd_=new o.Vector2,this.rotateDelta_=new o.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var r=(this||self,e("72").VRDisplay),o=e("68"),s=e("62"),a=.15,u=80,c=.5,l=.3;return n.prototype=new r,n.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},n.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+a):39==e.keyCode?this.animateTheta_(this.theta_-a):40==e.keyCode?this.animatePhi_(this.phi_-a):37==e.keyCode&&this.animateTheta_(this.theta_+a)},n.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},n.prototype.animatePhi_=function(e){e=s.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},n.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var i=this[e],n=new Date;this.angleAnimation_=requestAnimationFrame(function r(){var o=new Date-n;if(o>=u)return this[e]=t,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(r.bind(this));var s=o/u;this[e]=i+(t-i)*s}.bind(this))},n.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},n.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-i)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*l,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*c,this.phi_=s.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},n.prototype.onMouseUp_=function(e){this.isDragging_=!1},n.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},n.prototype.resetPose=function(){this.phi_=0,this.theta_=0},i.exports=n,i.exports}),e.registerDynamic("74",[],!0,function(e,t,i){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var o=(this||self,Object.prototype.hasOwnProperty),s=Object.prototype.propertyIsEnumerable;return i.exports=r()?Object.assign:function(e,t){for(var i,r,a=n(e),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)o.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var l=0;l<r.length;l++)s.call(i,r[l])&&(a[r[l]]=i[r[l]])}}return a},i.exports}),e.registerDynamic("62",["74"],!0,function(e,t,i){var n=(this||self,e("74")),r=window.Util||{};return r.MIN_TIMESTEP=.001,r.MAX_TIMESTEP=1,r.base64=function(e,t){return"data:"+e+";base64,"+t},r.clamp=function(e,t,i){return Math.min(Math.max(t,e),i)},r.lerp=function(e,t,i){return e+(t-e)*i},r.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),r.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),r.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return e}}(),r.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},r.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=r.MIN_TIMESTEP)&&!(e>r.MAX_TIMESTEP))},r.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},r.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},r.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},r.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},r.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},r.linkProgram=function(e,t,i,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,i),e.compileShader(o);var s=e.createProgram();e.attachShader(s,r),e.attachShader(s,o);for(var a in n)e.bindAttribLocation(s,n[a],a);return e.linkProgram(s),e.deleteShader(r),e.deleteShader(o),s},r.getProgramUniforms=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r="",o=0;o<n;o++){var s=e.getActiveUniform(t,o);r=s.name.replace("[0]",""),i[r]=e.getUniformLocation(t,r)}return i},r.orthoMatrix=function(e,t,i,n,r,o,s){var a=1/(t-i),u=1/(n-r),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(r+n)*u,e[14]=(s+o)*c,e[15]=1,e},r.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},r.extend=n,r.safariCssSizeWorkaround=function(e){if(r.isIOS()){var t=e.style.width,i=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(i)+"px",console.log("Resetting width to...",t),setTimeout(function(){console.log("Done. Width is now",t),e.style.width=t,e.style.height=i},100)}window.Util=r,window.canvas=e},r.frameDataFromPose=function(){function e(e,t,i,n){var s=Math.tan(t?t.upDegrees*r:o),a=Math.tan(t?t.downDegrees*r:o),u=Math.tan(t?t.leftDegrees*r:o),c=Math.tan(t?t.rightDegrees*r:o),l=2/(u+c),h=2/(s+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-((u-c)*l*.5),e[9]=(s-a)*h*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function t(e,t,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=n+n,u=r+r,c=o+o,l=n*a,h=n*u,f=n*c,d=r*u,M=r*c,w=o*c,g=s*a,y=s*u,A=s*c;return e[0]=1-(d+w),e[1]=h+A,e[2]=f-y,e[3]=0,e[4]=h-A,e[5]=1-(l+w),e[6]=M+g,e[7]=0,e[8]=f+y,e[9]=M-g,e[10]=1-(l+d),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function i(e,t,i){var n,r,o,s,a,u,c,l,h,f,d,M,w=i[0],g=i[1],y=i[2];return t===e?(e[12]=t[0]*w+t[4]*g+t[8]*y+t[12],e[13]=t[1]*w+t[5]*g+t[9]*y+t[13],e[14]=t[2]*w+t[6]*g+t[10]*y+t[14],e[15]=t[3]*w+t[7]*g+t[11]*y+t[15]):(n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=t[9],d=t[10],M=t[11],e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=a,e[5]=u,e[6]=c,e[7]=l,e[8]=h,e[9]=f,e[10]=d,e[11]=M,e[12]=n*w+a*g+h*y+t[12],e[13]=r*w+u*g+f*y+t[13],e[14]=o*w+c*g+d*y+t[14],e[15]=s*w+l*g+M*y+t[15]),e}function n(n,r,o,u,c){e(n,u?u.fieldOfView:null,c.depthNear,c.depthFar);var l=o.orientation||s,h=o.position||a;t(r,l,h),u&&i(r,r,u.offset),mat4_invert(r,r)}var r=Math.PI/180,o=.25*Math.PI;mat4_invert=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],h=t[9],f=t[10],d=t[11],M=t[12],w=t[13],g=t[14],y=t[15],A=i*a-n*s,p=i*u-r*s,v=i*c-o*s,D=n*u-r*a,m=n*c-o*a,E=r*c-o*u,N=l*w-h*M,I=l*g-f*M,T=l*y-d*M,L=h*g-f*w,j=h*y-d*w,x=f*y-d*g,S=A*x-p*j+v*L+D*T-m*I+E*N;return S?(S=1/S,e[0]=(a*x-u*j+c*L)*S,e[1]=(r*j-n*x-o*L)*S,e[2]=(w*E-g*m+y*D)*S,e[3]=(f*m-h*E-d*D)*S,e[4]=(u*T-s*x-c*I)*S,e[5]=(i*x-r*T+o*I)*S,e[6]=(g*v-M*E-y*p)*S,e[7]=(l*E-f*v+d*p)*S,e[8]=(s*j-a*T+c*N)*S,e[9]=(n*T-i*j-o*N)*S,e[10]=(M*m-w*v+y*A)*S,e[11]=(h*v-l*m-d*A)*S,e[12]=(a*I-s*L-u*N)*S,e[13]=(i*L-n*I+r*N)*S,e[14]=(w*p-M*D-g*A)*S,e[15]=(l*D-h*p+f*A)*S,e):null};var s=new Float32Array([0,0,0,1]),a=new Float32Array([0,0,0]);return function(e,t,i){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,n(e.leftProjectionMatrix,e.leftViewMatrix,t,i.getEyeParameters("left"),i),n(e.rightProjectionMatrix,e.rightViewMatrix,t,i.getEyeParameters("right"),i),!0)}}(),i.exports=r,i.exports}),e.registerDynamic("75",["62"],!0,function(e,t,i){function n(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=s.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABMAAAAUc3RjbwAAAAAAAAABAAAIKwAAACt1ZHRhAAAAI6llbmMAFwAAdmxjIDIuMi4xIHN0cmVhbSBvdXRwdXQAAAAId2lkZQAACRRtZGF0AAACrgX//6vcRem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTQyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDEzIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0xIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1hYnIgbWJ0cmVlPTEgYml0cmF0ZT0xMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAU2WIhAAQ/8ltlOe+cTZuGkKg+aRtuivcDZ0pBsfsEi9p/i1yU9DxS2lq4dXTinViF1URBKXgnzKBd/Uh1bkhHtMrwrRcOJslD01UB+fyaL6ef+DBAAAAFEGaJGxBD5B+v+a+4QqF3MgBXz9MAAAACkGeQniH/+94r6EAAAAKAZ5hdEN/8QytwAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFomUwIIf/+4QAAAApBnoZFESw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAOQZrwSahBbJlMCCH//uEAAAAKQZ8ORRUsP/++gQAAAAgBny10Q3/EgQAAAAgBny9qQ3/EgAAAAA5BmzRJqEFsmUwIIf/+4AAAAApBn1JFFSw//76BAAAACAGfcXRDf8SAAAAACAGfc2pDf8SAAAAADkGbeEmoQWyZTAgh//7hAAAACkGflkUVLD//voAAAAAIAZ+1dEN/xIEAAAAIAZ+3akN/xIEAAAAOQZu8SahBbJlMCCH//uAAAAAKQZ/aRRUsP/++gQAAAAgBn/l0Q3/EgAAAAAgBn/tqQ3/EgQAAAA5Bm+BJqEFsmUwIIf/+4QAAAApBnh5FFSw//76AAAAACAGePXRDf8SAAAAACAGeP2pDf8SBAAAADkGaJEmoQWyZTAgh//7gAAAACkGeQkUVLD//voEAAAAIAZ5hdEN/xIAAAAAIAZ5jakN/xIEAAAAOQZpoSahBbJlMCCH//uEAAAAKQZ6GRRUsP/++gQAAAAgBnqV0Q3/EgQAAAAgBnqdqQ3/EgAAAAA5BmqxJqEFsmUwIIf/+4AAAAApBnspFFSw//76BAAAACAGe6XRDf8SAAAAACAGe62pDf8SAAAAADkGa8EmoQWyZTAgh//7hAAAACkGfDkUVLD//voEAAAAIAZ8tdEN/xIEAAAAIAZ8vakN/xIAAAAAOQZs0SahBbJlMCCH//uAAAAAKQZ9SRRUsP/++gQAAAAgBn3F0Q3/EgAAAAAgBn3NqQ3/EgAAAAA5Bm3hJqEFsmUwIIf/+4QAAAApBn5ZFFSw//76AAAAACAGftXRDf8SBAAAACAGft2pDf8SBAAAADkGbvEmoQWyZTAgh//7gAAAACkGf2kUVLD//voEAAAAIAZ/5dEN/xIAAAAAIAZ/7akN/xIEAAAAOQZvgSahBbJlMCCH//uEAAAAKQZ4eRRUsP/++gAAAAAgBnj10Q3/EgAAAAAgBnj9qQ3/EgQAAAA5BmiRJqEFsmUwIIf/+4AAAAApBnkJFFSw//76BAAAACAGeYXRDf8SAAAAACAGeY2pDf8SBAAAADkGaaEmoQWyZTAgh//7hAAAACkGehkUVLD//voEAAAAIAZ6ldEN/xIEAAAAIAZ6nakN/xIAAAAAOQZqsSahBbJlMCCH//uAAAAAKQZ7KRRUsP/++gQAAAAgBnul0Q3/EgAAAAAgBnutqQ3/EgAAAAA5BmvBJqEFsmUwIIf/+4QAAAApBnw5FFSw//76BAAAACAGfLXRDf8SBAAAACAGfL2pDf8SAAAAADkGbNEmoQWyZTAgh//7gAAAACkGfUkUVLD//voEAAAAIAZ9xdEN/xIAAAAAIAZ9zakN/xIAAAAAOQZt4SahBbJlMCCH//uEAAAAKQZ+WRRUsP/++gAAAAAgBn7V0Q3/EgQAAAAgBn7dqQ3/EgQAAAA5Bm7xJqEFsmUwIIf/+4AAAAApBn9pFFSw//76BAAAACAGf+XRDf8SAAAAACAGf+2pDf8SBAAAADkGb4EmoQWyZTAgh//7hAAAACkGeHkUVLD//voAAAAAIAZ49dEN/xIAAAAAIAZ4/akN/xIEAAAAOQZokSahBbJlMCCH//uAAAAAKQZ5CRRUsP/++gQAAAAgBnmF0Q3/EgAAAAAgBnmNqQ3/EgQAAAA5BmmhJqEFsmUwIIf/+4QAAAApBnoZFFSw//76BAAAACAGepXRDf8SBAAAACAGep2pDf8SAAAAADkGarEmoQWyZTAgh//7gAAAACkGeykUVLD//voEAAAAIAZ7pdEN/xIAAAAAIAZ7rakN/xIAAAAAPQZruSahBbJlMFEw3//7B"),
e.play())},this.release=function(){e.pause(),e.src=""}}function r(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function o(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?r:n}var s=(this||self,e("62"));return i.exports=o(),i.exports}),e.registerDynamic("72",["62","75"],!0,function(e,t,i){function n(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function r(){this.isPolyfilled=!0,this.displayId=l++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new c}function o(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function s(){}function a(){}var u=(this||self,e("62")),c=e("75"),l=1e3,h=!1,f=[0,0,.5,1],d=[.5,0,.5,1];return r.prototype.getFrameData=function(e){return u.frameDataFromPose(e,this.getPose(),this)},r.prototype.getPose=function(){return this.getImmediatePose()},r.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},r.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},r.prototype.wrapForFullscreen=function(e){function t(){if(r.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}if(u.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var i=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",i.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;return t(),this.fullscreenWrapper_},r.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},r.prototype.requestPresent=function(e){var t=this.isPresenting,i=this;return e instanceof Array||(h||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),h=!0),e=[e]),new Promise(function(n,r){function o(){var e=u.getFullscreenElement();i.isPresenting=g===e,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),i.waitingForPresent_=!1,i.beginPresent_(),n()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.removeFullscreenWrapper(),i.wakelock_.release(),i.endPresent_(),i.removeFullscreenListeners_()),i.fireVRDisplayPresentChange_()}function s(){i.waitingForPresent_&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.wakelock_.release(),i.waitingForPresent_=!1,i.isPresenting=!1,r(new Error("Unable to present.")))}if(!i.capabilities.canPresent)return void r(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>i.capabilities.maxLayers)return void r(new Error("Invalid number of layers."));var a=e[0];if(!a.source)return void n();var c=a.leftBounds||f,l=a.rightBounds||d;if(t){var h=!1,M=i.layer_;M.source!==a.source&&(M.source=a.source,h=!0);for(var w=0;w<4;w++)M.leftBounds[w]!==c[w]&&(M.leftBounds[w]=c[w],h=!0),M.rightBounds[w]!==l[w]&&(M.rightBounds[w]=l[w],h=!0);return h&&i.fireVRDisplayPresentChange_(),void n()}if(i.layer_={predistorted:a.predistorted,source:a.source,leftBounds:c.slice(0),rightBounds:l.slice(0)},i.waitingForPresent_=!1,i.layer_&&i.layer_.source){var g=i.wrapForFullscreen(i.layer_.source);i.addFullscreenListeners_(g,o,s),u.requestFullscreen(g)?(i.wakelock_.request(),i.waitingForPresent_=!0):u.isIOS()&&(i.wakelock_.request(),i.isPresenting=!0,i.beginPresent_(),i.fireVRDisplayPresentChange_(),n())}i.waitingForPresent_||u.isIOS()||(u.exitFullscreen(),r(new Error("Unable to present.")))})},r.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(i,n){e?(!u.exitFullscreen()&&u.isIOS()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),i()):n(new Error("Was not presenting to VRDisplay."))})},r.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},r.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{vrdisplay:this}});window.dispatchEvent(e)},r.prototype.addFullscreenListeners_=function(e,t,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=i,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),i&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",i,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",i,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",i,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",i,!1))},r.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",i,!1),e.removeEventListener("webkitfullscreenerror",i,!1),document.removeEventListener("mozfullscreenerror",i,!1),e.removeEventListener("msfullscreenerror",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},r.prototype.beginPresent_=function(){},r.prototype.endPresent_=function(){},r.prototype.submitFrame=function(e){},r.prototype.getEyeParameters=function(e){return null},s.prototype=new o,a.prototype=new o,i.exports.VRFrameData=n,i.exports.VRDisplay=r,i.exports.VRDevice=o,i.exports.HMDVRDevice=s,i.exports.PositionSensorVRDevice=a,i.exports}),e.registerDynamic("76",["72"],!0,function(e,t,i){function n(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function r(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}var o=(this||self,e("72").VRDisplay,e("72").HMDVRDevice),s=e("72").PositionSensorVRDevice;return n.prototype=new o,n.prototype.getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},n.prototype.setFieldOfView=function(e,t,i,n){},r.prototype=new s,r.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},r.prototype.resetState=function(){return this.positionDevice.resetPose()},i.exports.VRDisplayHMDDevice=n,i.exports.VRDisplayPositionSensorDevice=r,i.exports}),e.registerDynamic("77",["62","71","73","72","76"],!0,function(e,t,i){function n(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeLegacyWebVRAvailable||(this.nativeWebVRAvailable||this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),r()}function r(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=c,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return o.frameDataFromPose(e,this.getPose(),this)})}var o=(this||self,e("62")),s=e("71"),a=e("73"),u=e("72").VRDisplay,c=e("72").VRFrameData,l=e("72").HMDVRDevice,h=e("72").PositionSensorVRDevice,f=e("76").VRDisplayHMDDevice,d=e("76").VRDisplayPositionSensorDevice;return n.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},n.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},n.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new s,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new f(e)),this.devices.push(new d(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new a,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new f(e)),this.devices.push(new d(e)))),this.devicesPopulated=!0}},n.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u;var e=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return e.isCardboardCompatible()&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1)}}),window.VRFrameData=c},n.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=l,window.PositionSensorVRDevice=h},n.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return new Promise(function(t,i){try{t(e)}catch(e){i(e)}})},n.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var e=this;return new Promise(function(t,i){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(i){for(var n=0;n<i.length;++n)e.devices.push(new f(i[n])),e.devices.push(new d(i[n]));e.devicesPopulated=!0,t(e.devices)},i);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(i){for(var n=0;n<i.length;++n)i[n]instanceof l&&e.devices.push(i[n]),i[n]instanceof h&&e.devices.push(i[n]);e.devicesPopulated=!0,t(e.devices)},i)}e.populateDevices(),t(e.devices)}catch(e){i(e)}})},n.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},n.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},i.exports.WebVRPolyfill=n,i.exports}),e.registerDynamic("78",["62","77"],!0,function(e,t,i){var n=(this||self,e("62")),r=e("77").WebVRPolyfill;return window.WebVRConfig=n.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new r}:new r,i.exports}),e.register("1",["2","3","3d","4","9","10","a","1d","35","2d","14","15","18","1c","20","19","16","5","7","2e","1a","1b","8","3b","2c","2f","17","d","23","24","30","31","32","1f","27","25","37","1e","38","39","3a","e","f","26","55","5f","61","78"],function(e,t){"use strict";function i(){return!0}function n(){}function r(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=i),e.compose||(e.compose=n),e}function o(e){return function(t){var i=e(t);return i===!0}}function s(e,t){return function(i){var n=t(i);if(n!==!0)throw new Error(n||e+" was not correctly implemented.")}}function a(e,t){t=r(t);var i=function i(n){var r="function"==typeof n?n.prototype:n;t.compose(r),i.assert(r),Object.defineProperty(r,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return i.validate=o(t.validate),i.assert=s(e,t.validate),i}function u(e,t){var i=e.inject;if("function"==typeof i)throw new Error("Decorator "+t+' cannot be used with "inject()".  Please use an array instead.');return i||(i=Be.getOwn(Be.paramTypes,e).slice(),e.inject=i),i}function c(e){return function(t,i,n){var r=u(t,"lazy");r[n]=at.of(e)}}function l(e){return function(t,i,n){var r=u(t,"all");r[n]=ut.of(e)}}function h(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=function(e){return function(t,i,n){var r=u(t,"optional");r[n]=ct.of(r[n],e)}};return t("boolean"==typeof e?e:!0)}function f(e,t,i){var n=u(e,"parent");n[i]=lt.of(n[i])}function d(e,t){return function(i,n,r){var o=u(i,"factory"),s=ft.of(e);o[r]=t?s.as(t):s}}function M(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=function(e){return function(t,n,r){var o=u(t,"newInstance");o[r]=dt.of.apply(dt,[o[r]].concat(i)),e&&o[r].as(e)}};return arguments.length>=1?r(e):r()}function w(e){return function(t){Be.define(Be.invoker,e,t)}}function g(e){var t=function(e){Be.define(Be.invoker,Mt.instance,e)};return e?t(e):t}function y(e){return function(t){Be.define(Be.registration,e,t)}}function A(e){return y(new wt(e))}function p(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return y(new gt(e,t))}function v(e){if(null===e||void 0===e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function D(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),Reflect.construct(t,o)}function m(e){return e.hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]}function E(e){var t=function(e){var t=e.inject,i=Be.getOwn(Be.paramTypes,e)||yt;if(t)for(var n=0;n<i.length;n++)if(t[n]&&t[n]!==i[n]){var r=t.indexOf(i[n]);r>-1&&t.splice(r,1),t.splice(r>-1&&r<n?n-1:n,0,i[n])}else t[n]||(t[n]=i[n]);else e.inject=i};return e?t(e):t}function N(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i,n){if("number"==typeof n&&1===t.length){var r=e.inject;if("function"==typeof r)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return r||(r=Be.getOwn(Be.paramTypes,e).slice(),e.inject=r),void(r[n]=t[0])}if(n){var o=n.value;o.inject=t}else e.inject=t}}function I(e,t){var i=e._times,n=~V(i,t,ge.compare);n>0&&(i.splice(0,n),e._values.splice(0,n*e._innerType.packedLength),e._updateTableLength=!0,e._definitionChanged.raiseEvent(e))}function T(e,t){if(void 0!==t){var i=e._times.length-t;i>0&&(e._times.splice(0,i),e._values.splice(0,i*e._innerType.packedLength),e._updateTableLength=!0)}}function L(e){var t=[],i=e;do{var n=i.position;i=n&&n.referenceFrame,ae(i)&&t.unshift(i)}while(ae(i));return t}function j(e,t,i,n){return e.position&&e.position.getValueInReferenceFrame(t,i,n)}function x(e,t,i,n){var r=e.position&&e.position.referenceFrame;if(ae(r)){var o=e.orientation&&e.orientation.getValue(t,n);if(ae(o))return ve.convertToReferenceFrame(t,o,r,i,n)}}function S(e,t,i){var n=void 0;if(ae(i)||(n=L(e),i=n[0]),ae(i)){var r=j(e,t,i,{});if(r||n){var o=x(e,t,i,{});if(o||n){if(r&&o)return{p:r,o:o,r:"number"==typeof i?i:i.id};if(n)for(var s=1;s<n.length;s++){if(i=n[s],!ae(i))return;var a=S(e,t,i);if(a)return a}}}}}function O(e){if(!Rt)throw new Error("resolveURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return Rt.href="",Rt.href=e,Rt.href}function C(e){if(!Rt)throw new Error("parseURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return Rt.href="",Rt.href=e,{href:Rt.href,protocol:Rt.protocol,hostname:Rt.hostname,port:Rt.port,pathname:Rt.pathname,search:Rt.search,hash:Rt.hash,host:Rt.host}}function z(e){return e instanceof HTMLElement?Promise.resolve(e):new Promise(function(t,i){var n=function(){var n=document.querySelector(""+e);n?t(n):i(new Error("Unable to resolve element id "+e))};"loading"==document.readyState?document.addEventListener("DOMContentLoaded",n):n()})}function _(){if("undefined"!=typeof document&&document.documentElement)return{x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};throw new Error("Not implemeneted for the current platform")}function b(e,t){var i=e[pe.COLUMN0ROW0],n=e[pe.COLUMN1ROW1],r=e[pe.COLUMN2ROW0],o=e[pe.COLUMN2ROW1],s=e[pe.COLUMN2ROW2],a=e[pe.COLUMN3ROW2],u=t.near=a/(s-1);return t.far=a/(s+1),t.bottom=u*(o-1)/n,t.top=u*(o+1)/n,t.left=u*(r-1)/i,t.right=u*(r+1)/i,t}function k(e,t){var i=b(e,Bt),n=(i.left+i.right)/2,r=(i.top+i.bottom)/2,o=i.near,s=i.far,a=i.right-n,u=i.top-r,c=a/u,l=2*Math.atan(u/o),h=void 0;return h=c<1?l:2*Math.atan(Math.tan(.5*l)*c),t.near=o,t.far=s,t.fov=h,t.aspectRatio=c,t.xOffset=n,t.yOffset=r,t}function R(e,t,i){return!!(e.position&&e.position instanceof ne&&e.orientation&&e.orientation instanceof re)&&(!!j(e,t,i,qt)&&(!!x(e,t,i,Yt)&&(e.position.setValue(qt,i),e.orientation.setValue(Yt),!0)))}function U(){if(Ft){var e=window.location.protocol;window.location.protocol="https:"===e?"argon4s":"argon4"}}function P(e){var t=e;return ae(t.id)?t.id:""+t}function Q(){var e=Ei.currentTime.secondsOfDay;Ei.tick();var t=Ei.currentTime.secondsOfDay,i=ge.now(Ni),n=ge.secondsDifference(Ei.currentTime,i);if(n>.033){var r=(t-e)/2;Ei.currentTime.secondsOfDay-=r}else n<.5&&ge.clone(i,Ei.currentTime)}function B(e,t,i){if(nn.instance)throw new Error("A shared ArgonSystem instance already exists");if(e&&(e.configuration||e.container)){var n=e;!t&&n.configuration&&(t=n.configuration),!t&&n.container&&(i=n.container),e=void 0}var r=void 0;return r="undefined"==typeof HTMLElement?St.REALITY_MANAGER:navigator.userAgent.indexOf("Argon")>0||window.top!==window?St.APPLICATION:St.REALITY_MANAGER,t||(t={}),t.role=r,i||(i=new Dt),new nn(e||null,t,i)}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dt;if(nn.instance)throw new Error("A shared ArgonSystem instance already exists");return e.role=St.REALITY_VIEW,e.supportsCustomProtocols=!0,new nn(null,e,t)}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dt;return t.role=St.REALITY_MANAGER,new nn(null,t,i)}var F,G,V,W,H,Z,X,K,J,$,ee,te,ie,ne,re,oe,se,ae,ue,ce,le,he,fe,de,Me,we,ge,ye,Ae,pe,ve,De,me,Ee,Ne,Ie,Te,Le,je,xe,Se,Oe,Ce,ze,_e,be,ke,Re,Ue,Pe,Qe,Be,qe,Ye,Fe,Ge,Ve,We,He,Ze,Xe,Ke,Je,$e,et,tt,it,nt,rt,ot,st,at,ut,ct,lt,ht,ft,dt,Mt,wt,gt,yt,At,pt,vt,Dt,mt,Et,Nt,It,Tt,Lt,jt,xt,St,St,Ot,Ct,zt,_t,bt,kt,Rt,Ut,Pt,Qt,Bt,qt,Yt,Ft,Gt,Vt,Wt,Ht,Zt,Xt,Kt,Jt,$t,ei,ti,ii,ni,ri,oi,si,ai,ui,ci,li,hi,fi,di,Mi,wi,gi,yi,Ai,pi,vi,Di,mi,Ei,Ni,Ii,Ti,Li,ji,xi,Si,Oi,Ci,zi,_i,bi,ki,Ri,Ui,Pi,Qi,Bi,qi,Yi,Fi,Gi,Vi,Wi,Hi,Zi,Xi,Ki,Ji,$i,en,tn,nn;return{setters:[function(e){},function(e){F=e.AggregateError,G=e.PLATFORM},function(e){V=e.default},function(e){W=e.default},function(e){H=e.default},function(e){Z=e.default},function(e){X=e.default},function(e){K=e.default},function(e){J=e.default},function(e){$=e.default},function(e){ee=e.default},function(e){te=e.default},function(e){ie=e.default},function(e){ne=e.default},function(e){re=e.default},function(e){oe=e.default},function(e){se=e.default},function(e){ae=e.default},function(e){ue=e.default},function(e){ce=e.default},function(e){le=e.default},function(e){he=e.default},function(e){fe=e.default},function(e){de=e.default},function(e){Me=e.default},function(e){we=e.default},function(e){ge=e.default},function(e){ye=e.default},function(e){Ae=e.default},function(e){pe=e.default},function(e){ve=e.default},function(e){De=e.default},function(e){me=e.default},function(e){Ee=e.default},function(e){Ne=e.default},function(e){Ie=e.default},function(e){Te=e.default},function(e){Le=e.default},function(e){je=e.default},function(e){xe=e.default},function(e){Se=e.default},function(e){Oe=e.default},function(e){Ce=e.default},function(e){ze=e.default},function(e){_e=e.default},function(e){be=e.default},function(e){ke=e.default},function(e){}],execute:function(){Re=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ue=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Be={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(e,t,i){if(t){var n=Be.getOwn(e,t,i);return void 0===n?Be.get(e,Object.getPrototypeOf(t),i):n}},getOwn:function(e,t,i){if(t)return Reflect.getOwnMetadata(e,t,i)},define:function(e,t,i,n){Reflect.defineMetadata(e,t,i,n)},getOrCreateOwn:function(e,t,i,n){var r=Be.getOwn(e,i,n);return void 0===r&&(r=new t,Reflect.defineMetadata(e,r,i,n)),r}},qe=new Map,Ye=Object.freeze({moduleId:void 0,moduleMember:void 0}),Fe=function(){function e(e,t){this.moduleId=e,this.moduleMember=t}return e.get=function(t){var i=qe.get(t);return void 0===i&&G.eachModule(function(n,r){if("object"===("undefined"==typeof r?"undefined":Qe(r)))for(var o in r){var s=r[o];if(s===t)return qe.set(t,i=new e(n,o)),!0}return r===t&&(qe.set(t,i=new e(n,"default")),!0)}),i||Ye},e.set=function(e,t){qe.set(e,t)},e}(),a.create=function(e,t){t=r(t);var i="protocol:"+e,n=function(i){var n=a(e,t);return i?n(i):n};return n.decorates=function(e){return e[i]===!0},n.validate=o(t.validate),n.assert=s(e,t.validate),n},st=a.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}),Ge=st(),at=Ge(Ve=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},e.of=function(t){return new e(t)},e}())||Ve,We=st(),ut=We(He=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.getAll(this._key)},e.of=function(t){return new e(t)},e}())||He,Ze=st(),ct=Ze(Xe=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=e,this._checkParent=t}return e.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},e.of=function(t){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];return new e(t,i)},e}())||Xe,Ke=st(),lt=Ke(Je=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},e.of=function(t){return new e(t)},e}())||Je,$e=st(),ht=$e(et=function(){function e(e,t){this.strategy=e,this.state=t}return e.prototype.get=function(e,t){switch(this.strategy){case 0:return this.state;case 1:var i=e.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},e}())||et,tt=st(),ft=tt(it=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.invoke(t._key,n)}},e.of=function(t){return new e(t)},e}())||it,nt=st(),dt=nt(rt=function(){function e(e){this.key=e,this.asKey=e;for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return e.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)}):void 0,i=e.invoke(this.key,t);return e.registerInstance(this.asKey,i),i},e.prototype.as=function(e){return this.asKey=e,this},e.of=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat([t],n)))},e}())||rt,Mt=function(){function e(){}return e.prototype.invoke=function(e,t,i){for(var n=i.length,r=new Array(n);n--;)r[n]=e.get(i[n]);return t.apply(void 0,r)},e.prototype.invokeWithDynamicDependencies=function(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),t.apply(void 0,o)},e}(),Mt.instance=new Mt,wt=function(){function e(e){this._key=e}return e.prototype.registerResolver=function(e,t,i){return e.registerTransient(this._key||t,i)},e}(),gt=function(){function e(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return e.prototype.registerResolver=function(e,t,i){return this._registerInChild?e.registerSingleton(this._key||t,i):e.root.registerSingleton(this._key||t,i)},e}(),yt=Object.freeze([]),Be.registration="aurelia:registration",Be.invoker="aurelia:invoker",At=st.decorates,pt=function(){function e(e,t,i){this.fn=e,this.invoker=t,this.dependencies=i}return e.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},e}(),ot={},ot[0]={invoke:function(e,t){return new t},invokeWithDynamicDependencies:D},ot[1]={invoke:function(e,t,i){return new t(e.get(i[0]))},invokeWithDynamicDependencies:D},ot[2]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]))},invokeWithDynamicDependencies:D},ot[3]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]))},invokeWithDynamicDependencies:D},ot[4]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]))},invokeWithDynamicDependencies:D},ot[5]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]),e.get(i[4]))},invokeWithDynamicDependencies:D},ot.fallback={invoke:D,invokeWithDynamicDependencies:D},vt=ot,Dt=function(){function e(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return e.prototype.makeGlobal=function(){return e.instance=this,this},e.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},e.prototype.registerInstance=function(e,t){return this.registerResolver(e,new ht(0,void 0===t?e:t))},e.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new ht(1,void 0===t?e:t))},e.prototype.registerTransient=function(e,t){return this.registerResolver(e,new ht(2,void 0===t?e:t))},e.prototype.registerHandler=function(e,t){return this.registerResolver(e,new ht(3,t))},e.prototype.registerAlias=function(e,t){return this.registerResolver(t,new ht(5,e))},e.prototype.registerResolver=function(e,t){v(e);var i=this._resolvers,n=i.get(e);return void 0===n?i.set(e,t):4===n.strategy?n.state.push(t):i.set(e,new ht(4,[n,t])),t},e.prototype.autoRegister=function(e,t){if(t=void 0===t?e:t,"function"==typeof t){var i=Be.get(Be.registration,t);return void 0===i?this.registerResolver(e,new ht(1,t)):i.registerResolver(this,e,t)}return this.registerResolver(e,new ht(0,t))},e.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},e.prototype.unregister=function(e){this._resolvers.delete(e)},e.prototype.hasResolver=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return v(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},e.prototype.get=function(t){if(v(t),t===e)return this;if(At(t))return t.get(this,t);var i=this._resolvers.get(t);return void 0===i?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):i.get(this,t)},e.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},e.prototype.getAll=function(e){v(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?yt:this.parent.getAll(e);if(4===t.strategy){for(var i=t.state,n=i.length,r=new Array(n);n--;)r[n]=i[n].get(this,e);return r}return[t.get(this,e)]},e.prototype.createChild=function(){var t=new e(this._configuration);return t.root=this.root,t.parent=this,t},e.prototype.invoke=function(e,t){try{var i=this._handlers.get(e);return void 0===i&&(i=this._createInvocationHandler(e),this._handlers.set(e,i)),i.invoke(this,t)}catch(t){throw new F("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},e.prototype._createInvocationHandler=function(e){var t=void 0;if(void 0===e.inject)t=Be.getOwn(Be.paramTypes,e)||yt;else{t=[];for(var i=e;"function"==typeof i;){var n;(n=t).push.apply(n,m(i)),i=Object.getPrototypeOf(i)}}var r=Be.getOwn(Be.invoker,e)||vt[t.length]||vt.fallback,o=new pt(e,r,t);return void 0!==this._onHandlerCreated?this._onHandlerCreated(o):o},e}(),e("DI",mt=Object.freeze({resolver:st,Lazy:at,All:ut,Optional:ct,Parent:lt,StrategyResolver:ht,Factory:ft,NewInstance:dt,getDecoratorDependencies:u,lazy:c,all:l,optional:h,parent:f,factory:d,newInstance:M,invoker:w,invokeAsFactory:g,FactoryInvoker:Mt,registration:y,transient:A,singleton:p,TransientRegistration:wt,SingletonRegistration:gt,_emptyParameters:yt,InvocationHandler:pt,Container:Dt,autoinject:E,inject:N})),Et=function(e,t){return function(){var i=e.apply(this,arguments);return t.call(this,i),i}},Se.prototype.removeSamplesBeforeDate=function(e){I(this,e)},xe.prototype.removeSamplesBeforeDate=function(e){I(this._property,e)},Se.prototype.addSample=Et(Se.prototype.addSample,function(){T(this,this.maxNumSamples)}),Se.prototype.addSamples=Et(Se.prototype.addSamples,function(){
T(this,this.maxNumSamples)}),Se.prototype.addSamplesPackedArray=Et(Se.prototype.addSamplesPackedArray,function(){T(this,this.maxNumSamples)}),xe.prototype.addSample=Et(xe.prototype.addSample,function(){T(this._property,this.maxNumSamples)}),xe.prototype.addSamples=Et(xe.prototype.addSamples,function(){T(this._property,this.maxNumSamples)}),xe.prototype.addSamplesPackedArray=Et(xe.prototype.addSamplesPackedArray,function(){T(this._property,this.maxNumSamples)}),e("Cesium",Nt=Object.freeze({binarySearch:V,CallbackProperty:W,CameraEventAggregator:H,CameraEventType:Z,Cartesian2:X,Cartesian3:K,Cartesian4:J,Cartographic:$,Clock:ee,ClockStep:te,CompositeEntityCollection:ie,ConstantPositionProperty:ne,ConstantProperty:re,createGuid:oe,defaultValue:se,defined:ae,DeveloperError:ue,Ellipsoid:ce,Entity:le,EntityCollection:he,Event:fe,ExtrapolationType:de,GeographicProjection:Me,HermitePolynomialApproximation:we,JulianDate:ge,CesiumMath:ye,Matrix3:Ae,Matrix4:pe,OrientationProperty:ve,PerspectiveFrustum:De,PerspectiveOffCenterFrustum:me,PositionProperty:Ee,Property:Ne,Quaternion:Ie,ReferenceEntity:Te,ReferenceFrame:Le,ReferenceProperty:je,SampledPositionProperty:xe,SampledProperty:Se,ScreenSpaceEventHandler:Oe,ScreenSpaceEventType:Ce,Transforms:ze,Simon1994PlanetaryPositions:_e,PolylinePipeline:be})),"undefined"==typeof document&&(It="undefined"!=typeof global?global:window,It.WebVRConfig={DEFER_INITIALIZATION:"undefined"==typeof navigator}),console.log(ke),Tt=28,Lt=1.5,ke.prototype.listen=function(e,t){var i=this.gl.canvas;this.listener=function(n){var r=i.clientWidth/2,o=Tt*Lt,s=n instanceof TouchEvent?n.changedTouches[0]:n;s.clientX>r-o&&s.clientX<r+o&&s.clientY>i.clientHeight-o?e(n):s.clientX<o&&s.clientY<o&&t(n)},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},jt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},xt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},function(e){e[e.REALITY_AUGMENTER="RealityAugmenter"]="REALITY_AUGMENTER",e[e.REALITY_VIEWER="RealityViewer"]="REALITY_VIEWER",e[e.REALITY_MANAGER="RealityManager"]="REALITY_MANAGER",e[e.APPLICATION="Application"]="APPLICATION",e[e.MANAGER="Manager"]="MANAGER",e[e.REALITY_VIEW="RealityView"]="REALITY_VIEW"}(St||e("Role",St={})),function(e){function t(t){return t===e.REALITY_VIEWER||t===e.REALITY_VIEW}function i(t){return t===e.REALITY_AUGMENTER||t===e.APPLICATION}function n(t){return t===e.REALITY_MANAGER||t===e.MANAGER}e.isRealityViewer=t,e.isRealityAugmenter=i,e.isRealityManager=n}(St||e("Role",St={})),function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t}function i(e,t){return e&&t&&ye.equalsEpsilon(e.x,t.x,ye.EPSILON7)&&ye.equalsEpsilon(e.y,t.y,ye.EPSILON7)&&ye.equalsEpsilon(e.width,t.width,ye.EPSILON7)&&ye.equalsEpsilon(e.height,t.height,ye.EPSILON7)}e.clone=t,e.equals=i}(Ot||e("Viewport",Ot={})),function(e){e[e.SINGULAR="Singular"]="SINGULAR",e[e.LEFTEYE="LeftEye"]="LEFTEYE",e[e.RIGHTEYE="RightEye"]="RIGHTEYE",e[e.OTHER="Other"]="OTHER"}(Ct||e("SubviewType",Ct={})),e("Event",zt=function(){function e(){Re(this,e),this._event=new fe}return Ue(e,[{key:"addEventListener",value:function(e){return this._event.addEventListener(e)}},{key:"removeEventListener",value:function(e){return this._event.removeEventListener(e)}},{key:"raiseEvent",value:function(e){this._event.raiseEvent(e)}},{key:"numberOfListeners",get:function(){return this._event.numberOfListeners}}]),e}()),e("CommandQueue",_t=function(){function e(){var t=this;Re(this,e),this._queue=[],this._paused=!0,this.errorEvent=new zt,this.errorEvent.addEventListener(function(e){1===t.errorEvent.numberOfListeners&&console.error(e)})}return Ue(e,[{key:"push",value:function(e,t){var i=this,n=new Promise(function(t,n){i._queue.push({command:e,reject:n,execute:function(){var i=Promise.resolve().then(e);return t(i),i}})});return t&&this.execute(),n}},{key:"execute",value:function(){var e=this;this._paused=!1,Promise.resolve().then(function(){e._queue.length>0&&!e._currentCommandPending&&e._executeNextCommand()})}},{key:"pause",value:function(){this._paused=!0}},{key:"clear",value:function(){this._queue.forEach(function(e){e.reject("Unable to execute.")}),this._queue=[]}},{key:"_executeNextCommand",value:function(){var e=this;if(this._currentCommand=void 0,this._currentCommandPending=void 0,!this._paused){var t=this._queue.shift();t&&(this._currentCommand=t.command,this._currentCommandPending=t.execute().then(this._executeNextCommand.bind(this)).catch(function(t){e.errorEvent.raiseEvent(t),e._executeNextCommand()}))}}}]),e}()),e("getEntityPosition",bt=j),e("getEntityOrientation",kt=x),Rt="undefined"!=typeof document?document.createElement("a"):void 0,e("MessageChannelLike",Ut=function e(){Re(this,e);var t=this,i=!0,n=void 0,r=void 0,o=void 0;n=new Promise(function(e){t.port1={set onmessage(t){o=t,e()},get onmessage(){return o},postMessage:function(e){i&&r.then(function(){t.port2.onmessage&&t.port2.onmessage({data:e})})},close:function(){i=!1}}});var s=void 0;r=new Promise(function(e){t.port2={set onmessage(t){s=t,e()},get onmessage(){return s},postMessage:function(e){i&&n.then(function(){t.port1.onmessage&&t.port1.onmessage({data:e})})},close:function(){i=!1}}})}),e("SynchronousMessageChannel",Pt=function e(){Re(this,e);var t=this,i=[],n=function(e){i.push(e)};t.port1={get onmessage(){return n},set onmessage(e){n=e,i.forEach(function(t){return e(t)}),i=[]},postMessage:function(e){t.port2.onmessage&&t.port2.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}};var r=[],o=function(e){r.push(e)};t.port2={get onmessage(){return o},set onmessage(e){o=e,r.forEach(function(t){return e(t)}),r=[]},postMessage:function(e){t.port1.onmessage&&t.port1.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}}}),e("MessageChannelFactory",Qt=function(){function e(){Re(this,e)}return Ue(e,[{key:"create",value:function(){return"undefined"!=typeof MessageChannel?new MessageChannel:new Ut}},{key:"createSynchronous",value:function(){return new Pt}}]),e}()),Bt=new me,qt=new K,Yt=new Ie,e("isIOS",Ft="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),Gt=0,e("requestAnimationFrame",Vt=window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){var t=performance.now(),i=Math.max(0,16-(t-Gt)),n=setTimeout(function(){e(t+i)},i);return Gt=t+i,n}),e("version",Wt="1.1.0-beta"),Ht=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("SessionPort",Zt=function(){function e(t){var i=this;Re(this,e),this.uri=t,this._connectEvent=new zt,this.closeEvent=new zt,this.errorEvent=new zt,this.on={},this._isOpened=!1,this._isConnected=!1,this._isClosed=!1,this.on[e.OPEN]=function(e){if(!e)throw new Error("Session did not provide a configuration ("+i.uri+")");if(i._isConnected)throw new Error("Session has already connected! ("+i.uri+")");i.info=e,i._isConnected=!0,i._connectEvent.raiseEvent(void 0)},this.on[e.CLOSE]=function(){i._isClosed=!0,i._isConnected=!1,i.messagePort&&i.messagePort.close&&i.messagePort.close(),i.closeEvent.raiseEvent(void 0)},this.on[e.ERROR]=function(e){var t=new Error("Session Error: "+e.message);e.stack&&(t.stack=e.stack),i.errorEvent.raiseEvent(t)},this.errorEvent.addEventListener(function(e){1===i.errorEvent.numberOfListeners&&console.error(e)})}return Ue(e,[{key:"supportsProtocol",value:function(e,t){if(!this._isConnected)throw new Error("Session has not yet connected");var i=this.info.protocols;if(!i)return!1;var n=!1,r=new Set;return i.forEach(function(t){if(t.indexOf(e)!==-1){var i=+t.split("@v")[1]||0;r.add(i)}}),t?Array.isArray(t)?t.forEach(function(e){r.has(e)&&(n=!0)}):r.has(t)&&(n=!0):t||(n=!0),n}},{key:"open",value:function(t,i){var n=this;if(!this._isClosed){if(this._isOpened)throw new Error("Session can only be opened once");if(!i)throw new Error("Session options must be provided");this.messagePort=t,this._isOpened=!0,this.messagePort.onmessage=function(e){if(!n._isClosed){var t=e.data[0],i=e.data[1],r=e.data[2]||{},o=e.data[3],s=n.on[i];if(s&&!o)try{var a=s(r,e);a&&console.warn("Handler for "+i+" returned an unexpected response")}catch(e){n.sendError(e),n.errorEvent.raiseEvent(e)}else if(s){var u=new Promise(function(t){return t(s(r,e))});Promise.resolve(u).then(function(e){n._isClosed||n.send(i+":resolve:"+t,e)}).catch(function(e){if(!n._isClosed){var r=void 0;"string"==typeof e?r=e:"string"==typeof e.message&&(r=e.message),n.send(i+":reject:"+t,{reason:r})}})}else{var c="Unable to handle message for topic "+i+" ("+n.uri+")";o?(n.send(i+":reject:"+t,{reason:c}),n.errorEvent.raiseEvent(new Error(c))):console.warn(c)}}},this.send(e.OPEN,i)}}},{key:"send",value:function(e,t){if(!this._isOpened)throw new Error("Session must be open to send messages");if(this._isClosed)return!1;var i=oe();return this.messagePort.postMessage([i,e,t]),!0}},{key:"sendError",value:function(t){var i=t;return i instanceof Error&&(i={message:i.message,stack:i.stack}),this.send(e.ERROR,i)}},{key:"request",value:function(e,t){var i=this;if(!this._isOpened||this._isClosed)throw new Error("Session must be open to make requests");var n=oe(),r=e+":resolve:"+n,o=e+":reject:"+n,s=new Promise(function(t,n){i.on[r]=function(e){delete i.on[r],delete i.on[o],t(e)},i.on[o]=function(t){delete i.on[r],delete i.on[o],console.warn("Request '"+e+"' rejected with reason:\n"+t.reason),n(new Error(t.reason))}});return this.messagePort.postMessage([n,e,t||{},!0]),s}},{key:"close",value:function(){this._isClosed||(this._isOpened&&this.send(e.CLOSE),this._isClosed=!0,this._isConnected=!1,this.messagePort&&this.messagePort.close&&this.messagePort.close(),this.closeEvent.raiseEvent(void 0))}},{key:"connectEvent",get:function(){if(this._isConnected)throw new Error("The connectEvent only fires once and the session is already connected.");return this._connectEvent}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isClosed",get:function(){return this._isClosed}}]),e}()),Zt.OPEN="ar.session.open",Zt.CLOSE="ar.session.close",Zt.ERROR="ar.session.error",e("SessionPortFactory",Xt=function(){function e(){Re(this,e)}return Ue(e,[{key:"create",value:function(e){return new Zt(e)}}]),e}()),e("ConnectService",Kt=function e(){Re(this,e)}),e("SessionService",Jt=function(){function e(t,i,n,r){var o=this;Re(this,e),this.configuration=t,this.connectService=i,this.sessionPortFactory=n,this.messageChannelFactory=r,this.manager=this.createSessionPort("argon:manager"),this.errorEvent=new zt,this._connectEvent=new zt,this._managedSessions=[],t.version=Wt,t.uri="undefined"!=typeof window&&window.location?window.location.href:void 0,t.title=void 0!==typeof document?document.title:void 0,this.errorEvent.addEventListener(function(e){1===o.errorEvent.numberOfListeners&&console.error(e)}),this.manager.errorEvent.addEventListener(function(e){o.errorEvent.raiseEvent(e)}),this.manager.closeEvent.addEventListener(function(){o.managedSessions.forEach(function(e){e.close()})}),Object.freeze(this)}return Ue(e,[{key:"connect",value:function(){this.connectService&&this.connectService.connect?this.connectService.connect(this):console.warn("Argon: Unable to connect to a manager session; a connect service is not available")}},{key:"addManagedSessionPort",value:function(e){var t=this;this.ensureIsRealityManager();var i=this.sessionPortFactory.create(e);return i.errorEvent.addEventListener(function(e){t.errorEvent.raiseEvent(e)}),i.connectEvent.addEventListener(function(){t.managedSessions.push(i),t.connectEvent.raiseEvent(i)}),i.closeEvent.addEventListener(function(){var e=t.managedSessions.indexOf(i);e>-1&&t.managedSessions.splice(e,1)}),i}},{key:"createSessionPort",value:function(e){return this.sessionPortFactory.create(e)}},{key:"createMessageChannel",value:function(){return this.messageChannelFactory.create()}},{key:"createSynchronousMessageChannel",value:function(){return this.messageChannelFactory.createSynchronous()}},{key:"ensureIsRealityManager",value:function(){if(!this.isRealityManager)throw new Error("An reality-manager only API was accessed from a non reality-manager.")}},{key:"ensureIsRealityViewer",value:function(){if(!this.isRealityViewer)throw new Error("An reality-viewer only API was accessed from a non reality-viewer.")}},{key:"ensureNotRealityViewer",value:function(){if(this.isRealityViewer)throw new Error("An non-permitted API was accessed from a reality-viewer.")}},{key:"ensureNotRealityAugmenter",value:function(){if(this.isRealityAugmenter)throw new Error("An non-permitted API was accessed from a reality-viewer.")}},{key:"ensureConnected",value:function(){if(!this.manager.isConnected)throw new Error("Session is not connected to manager")}},{key:"connectEvent",get:function(){return this._connectEvent}},{key:"managedSessions",get:function(){return this._managedSessions}},{key:"isRealityManager",get:function(){return St.isRealityManager(this.configuration.role)}},{key:"isRealityAugmenter",get:function(){return St.isRealityAugmenter(this.configuration.role)}},{key:"isRealityViewer",get:function(){return St.isRealityViewer(this.configuration.role)}},{key:"isManager",get:function(){return console.warn("Deprecated. Use isRealityManager"),this.isManager}},{key:"isApplication",get:function(){return console.warn("Deprecated. Use isRealityAugmenter"),this.isRealityAugmenter}},{key:"isRealityView",get:function(){return console.warn("Deprecated. Use isRealityViewer"),this.isRealityViewer}}]),e}()),e("SessionService",Jt=Ht([N("config",Kt,Xt,Qt)],Jt)),e("LoopbackConnectService",$t=function(e){function t(){return Re(this,t),jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xt(t,e),Ue(t,[{key:"connect",value:function(e){var t=e.createSynchronousMessageChannel(),i=t.port1;t.port2.onmessage=function(e){t.port2.postMessage(e.data)},e.manager.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(e.manager)}),e.manager.open(i,e.configuration)}}]),t}(Kt)),e("DOMConnectService",ei=function(e){function t(){return Re(this,t),jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xt(t,e),Ue(t,[{key:"connect",value:function(e){var t=e.createMessageChannel();window.parent.postMessage({type:"ARGON_SESSION",name:window.name},"*",[t.port1]),e.manager.open(t.port2,e.configuration)}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&"undefined"!=typeof window.parent}}]),t}(Kt)),e("DebugConnectService",ti=function(e){function t(){return Re(this,t),jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xt(t,e),Ue(t,[{key:"connect",value:function(e){var t=e.manager,i=e.configuration;t.open(window.__ARGON_DEBUG_PORT__,i)}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&!!window.__ARGON_DEBUG_PORT__}}]),t}(Kt)),e("WKWebViewConnectService",ii=function(e){function t(){return Re(this,t),jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xt(t,e),Ue(t,[{key:"connect",value:function(e){var t=e.createSynchronousMessageChannel();t.port2.onmessage=function(e){webkit.messageHandlers.argon.postMessage(JSON.stringify(e.data))},window.__ARGON_PORT__=t.port2,e.manager.open(t.port1,e.configuration),window.addEventListener("beforeunload",function(){e.manager.close()})}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers}}]),t}(Kt)),ni=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},function(e){e[e.KNOWN=1]="KNOWN",e[e.FOUND=2]="FOUND",e[e.LOST=4]="LOST"}(ri||e("PoseStatus",ri={})),oi=new K(0,0),si=new Ie(0,0),ai=new K(0,0),e("ContextService",ui=function(){function e(t){var i=this;Re(this,e),this.sessionService=t,this.frameStateEvent=new zt,this.updateEvent=new zt,this.renderEvent=new zt,this.postRenderEvent=new zt,this.localOriginChangeEvent=new zt,this.timestamp=-1,this.deltaTime=0,this.maxDeltaTime=1/3*1e3,this.time=new ge(0,0),this.entities=new he,this.user=this.entities.add(new le({id:"ar.user",name:"user",position:new ne(void 0,Le.FIXED),orientation:new re(Ie.IDENTITY)})),this.localOriginEastNorthUp=this.entities.add(new le({id:"ar.localENU",name:"localOriginENU",position:new ne(void 0,Le.FIXED),orientation:new re(Ie.IDENTITY)})),this.localOriginEastUpSouth=this.entities.add(new le({id:"ar.localEUS",name:"localOriginEUS",position:new ne(K.ZERO,this.localOriginEastNorthUp),orientation:new re(Ie.fromAxisAngle(K.UNIT_X,Math.PI/2))})),this.defaultReferenceFrame=this.localOriginEastNorthUp,this._serializedFrameState={index:-1,view:void 0},this._entityPoseCache={},this._entityPoseMap=new Map,this._subscribedEntities=new WeakMap,this._updatingEntities=new Set,this._knownEntities=new Set,this._sessionEntities={},this.sessionService.isRealityManager||this.sessionService.isRealityViewer?this.sessionService.connectEvent.addEventListener(function(e){i._subscribedEntities.set(e,new Set),e.on["ar.context.subscribe"]=function(t){var n=t.id,r=i._subscribedEntities.get(e);r&&r.add(n)}}):this.sessionService.manager.on["ar.context.update"]=function(e){i._update(e)}}return Ue(e,[{key:"getTime",value:function(){var e=this;return console.warn("getTime function is deprecated. Use the ContextService.time property instead."),this.getTime=function(){return e.time},this.getTime()}},{key:"setDefaultReferenceFrame",value:function(e){var t=this;console.warn("setDefaultReferenceFrame is deprecated. Use the ContextService.defaultReferenceFrame property directly."),this.setDefaultReferenceFrame=function(e){return t.defaultReferenceFrame=e},this.setDefaultReferenceFrame(e)}},{key:"getDefaultReferenceFrame",value:function(){var e=this;return console.warn("getDefaultReferenceFrame is deprecated. Use the ContextService.defaultReferenceFrame property directly."),this.getDefaultReferenceFrame=function(){return e.defaultReferenceFrame},this.getDefaultReferenceFrame()}},{key:"subscribeToEntityById",value:function(e){return this.sessionService.manager.send("ar.context.subscribe",{id:e}),this.entities.getOrCreateEntity(e)}},{key:"getEntityPose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReferenceFrame,i=this.time,n=e.id+"@"+P(t),r=this._entityPoseMap.get(n);ae(r)||(r={position:new K,orientation:new Ie,referenceFrame:t,poseStatus:0},this._entityPoseMap.set(n,r));var o=j(e,i,t,r.position),s=x(e,i,t,r.orientation),a=o&&s,u=0,c=r.poseStatus;return a&&(u|=ri.KNOWN),!a||c&ri.KNOWN?!a&&c&ri.KNOWN&&(u|=ri.LOST):u|=ri.FOUND,r.poseStatus=u,r}},{key:"processViewState",value:function(e){var t=this._serializedFrameState;t.index++,t.view=e,this._entityPoseCache={};var i=!0,n=!1,r=void 0;try{for(var o,s=this.sessionService.managedSessions[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;St.isRealityAugmenter(a.info.role)&&this._sendUpdateForSession(t,a)}}catch(e){n=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}this._update(t)}},{key:"_update",value:function(e){if(this.updateEntityFromSerializedPose(this.user.id,e.view.pose),this._knownEntities.clear(),e.entities)for(var t in e.entities)this.updateEntityFromSerializedPose(t,e.entities[t]),this._updatingEntities.add(t),this._knownEntities.add(t);var i=!0,n=!1,r=void 0;try{for(var o,s=this._updatingEntities[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;if(!this._knownEntities.has(a)){var u=this.entities.getById(a);u&&(u.position=void 0,u.orientation=void 0),this._updatingEntities.delete(a)}}}catch(e){n=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}this._updateLocalOrigin(e);var c=performance.now();this.deltaTime=Math.min(c-this.timestamp,this.maxDeltaTime),this.timestamp=c,ge.clone(e.view.time,this.time),this._serializedFrameState=e,this.frameStateEvent.raiseEvent(this._serializedFrameState),this.updateEvent.raiseEvent(this),this.renderEvent.raiseEvent(this),this.postRenderEvent.raiseEvent(this)}},{key:"updateEntityFromSerializedPose",value:function(e,t){var i=this.entities.getOrCreateEntity(e);if(!t)return i.position=void 0,i.orientation=void 0,i;var n=t.p,r=t.o,o="number"==typeof t.r?t.r:this.entities.getOrCreateEntity(t.r),s=i.position,a=i.orientation;return s instanceof ne&&s.referenceFrame===o?s.setValue(n,o):i.position=new ne(n,o),a instanceof re?a.setValue(r):i.orientation=new re(r),i}},{key:"publishEntityState",value:function(e,t){}},{key:"_updateLocalOrigin",value:function(e){var t=e.view.pose,i=t?"number"==typeof t.r?t.r:this.entities.getOrCreateEntity(t.r):this.user,n=this.user.position&&this.user.position.getValueInReferenceFrame(e.view.time,i,oi),r=this.localOriginEastNorthUp.position&&this.localOriginEastNorthUp.position.referenceFrame,o=this.localOriginEastNorthUp.position&&ae(r)&&this.localOriginEastNorthUp.position.getValueInReferenceFrame(e.view.time,r,ai);if(!n||!o||r!==i||K.magnitudeSquared(K.subtract(n,o,ai))>25e6){var s=this.localOriginEastNorthUp.position,a=this.localOriginEastNorthUp.orientation;if(n)if(s.setValue(n,i),i===Le.FIXED){var u=ze.headingPitchRollQuaternion(n,0,0,0,void 0,si);a.setValue(u)}else a.setValue(Ie.IDENTITY);else s.setValue(K.ZERO,this.user),a.setValue(Ie.IDENTITY);this.localOriginChangeEvent.raiseEvent(void 0)}}},{key:"_sendUpdateForSession",value:function(e,t){var i=this._sessionEntities;for(var n in i)delete i[n];if(e.entities)for(var n in e.entities)i[n]=e.entities[n];var r=!0,o=!1,s=void 0;try{for(var a,u=this._subscribedEntities.get(t)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;i[c]=this._getSerializedEntityPose(c,e.view.time)}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}var l=e.entities;e.entities=i,e.time=e.view.time,e.sendTime=ge.now(e.sendTime),t.info.version&&t.send("ar.context.update",e),e.entities=l}},{key:"_getSerializedEntityPose",value:function(e,t){if(!ae(this._entityPoseCache[e])){var i=this.entities.getById(e);if(!i)return;this._entityPoseCache[e]=S(i,t)}return this._entityPoseCache[e]}},{key:"serializedFrameState",get:function(){return this._serializedFrameState}},{key:"systemTime",get:function(){var e=this;return console.warn("systemTime property is deprecated. Use timestamp property"),Object.defineProperty(this,"systemTime",{get:function(){return e.timestamp}}),this.systemTime}}]),e}()),e("ContextService",ui=ni([N(Jt)],ui)),ci=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("FocusService",li=function(){function e(t){var i=this;Re(this,e),this.sessionService=t,this.focusEvent=new zt,this.blurEvent=new zt,this._hasFocus=!1,this._sessionFocusEvent=new zt,t.manager.on["ar.focus.state"]=function(e){i._setFocus(e.state)},t.isRealityManager&&t.manager.connectEvent.addEventListener(function(){setTimeout(function(){!i._session&&i.sessionService.manager.isConnected&&(i.session=i.sessionService.manager)})})}return Ue(e,[{key:"whenSessionHasFocus",value:function(e){var t=this;return this.sessionService.ensureIsRealityManager(),new Promise(function(i){var n=t.sessionFocusEvent.addEventListener(function(t){var r=t.current;r===e&&(n(),i())})})}},{key:"_setFocus",value:function(e){this._hasFocus!==e&&(this._hasFocus=e,e?this.focusEvent.raiseEvent(void 0):this.blurEvent.raiseEvent(void 0))}},{key:"hasFocus",get:function(){return this._hasFocus}},{key:"sessionFocusEvent",get:function(){return this.sessionService.ensureIsRealityManager(),this._sessionFocusEvent}},{key:"session",get:function(){return this.sessionService.ensureIsRealityManager(),this._session},set:function(e){if(this.sessionService.ensureIsRealityManager(),e&&!e.isConnected)throw new Error("Only a connected session can be granted focus");var t=this._session;t!==e&&(t&&t.send("ar.focus.state",{state:!1}),e&&e.send("ar.focus.state",{state:!0}),this._session=e,this.sessionFocusEvent.raiseEvent({previous:t,current:e}))}}]),e}()),e("FocusService",li=ci([N(Jt)],li)),hi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},"undefined"!=typeof document&&document.createElement&&!function(){var e=document.querySelector("meta[name=viewport]");e||(e=document.createElement("meta")),e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",document.head.appendChild(e);var t=document.querySelector("meta[name=argon]");t||(t=document.createElement("meta")),t.name="argon",document.head.appendChild(t);var i=void 0;fi=function(){return i?i:i=z("#argon").catch(function(){var e=document.createElement("div");return e.id="argon",document.body.appendChild(e),e})};var n=document.createElement("style");n.type="text/css",document.head.insertBefore(n,document.head.firstChild);var r=n.sheet;r.insertRule("\n        #argon {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-container > * {\n            position: absolute;\n            overflow: hidden;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            -webkit-tap-highlight-color: transparent;\n            -webkit-user-select: none;\n            user-select: none;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-container > * > * {\n            pointer-events: auto;\n            -webkit-tap-highlight-color: initial;\n            -webkit-user-select: initial;\n            user-select: initial;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            pointer-events: auto;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view > * {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view > * > * {\n            pointer-events: auto;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-maximized, .argon-maximized ~ * {\n            position: fixed !important;\n            width: 100% !important;\n            height: 100% !important;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-fullscreen {\n            width: 100% !important;\n            height: 100% !important;\n            max-width: initial !important;\n            max-height: initial !important;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-interactive {\n            pointer-events: auto;\n        }\n    ",r.cssRules.length)}(),di={p:K.ZERO,o:Ie.IDENTITY,r:"ar.user"},function(e){e[e.EMBEDDED=0]="EMBEDDED",e[e.FULLPAGE=1]="FULLPAGE",e[e.FULLSCREEN=2]="FULLSCREEN"}(Mi||e("PresentationMode",Mi={})),e("ContainerElement",wi="#argon"),e("ViewService",gi=function(){function e(t,i,n,r){var o=this;Re(this,e),this.sessionService=i,this.contextService=n,this.focusService=r,this.uiEvent=new zt,this.forwardedUIEvent=new zt,this.viewportChangeEvent=new zt,this.acquireEvent=new zt,this.releaseEvent=new zt,this.desiredViewportMap=new WeakMap,this._subviews=[],this._frustums=[],"undefined"!=typeof document&&document.createElement&&!function(){var e=o.element=document.createElement("div");e.classList.add("argon-view"),Ft&&e.addEventListener("touchmove",function(e){e.touches.length>1&&e.preventDefault()},!0),o.containerElementPromise=new Promise(function(i){var n=function(t){if(!o.sessionService.manager.isClosed){t.classList.add("argon-container"),t.insertBefore(e,t.firstChild);var n=function(){o._isFullscreen()?t.classList.add("argon-fullscreen"):t.classList.remove("argon-fullscreen")};document.addEventListener("fullscreenchange",n),document.addEventListener("webkitfullscreenchange",n),document.addEventListener("mozfullscreenchange",n),document.addEventListener("MSFullscreenChange",n);var r=function(e){var t=e.display||e.detail.vrdisplay||e.detail.display;if(t){var i=t.getLayers(),n=o._vrDisplay===t,r=!0,s=!1,a=void 0;try{for(var u,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=u.value;if(l.source&&o.element.contains(l.source)){n=!0;break}}}catch(e){s=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(s)throw a}}if(n)if(t.isPresenting)o._vrDisplay=t,t.displayName.match(/Cardboard/g)&&(o.element.classList.add("argon-maximized"),t.getLayers()[0].source.classList.add("argon-interactive")),o.viewportChangeEvent.raiseEvent(void 0);else{if(o._vrDisplay=void 0,t.displayName.match(/Cardboard/g)){o.element.classList.remove("argon-maximized");var h=o.element.querySelector(".argon-interactive");h&&h.classList.remove("argon-interactive")}o.viewportChangeEvent.raiseEvent(void 0)}}};window.addEventListener("vrdisplaypresentchange",r),o.sessionService.manager.closeEvent.addEventListener(function(){e.remove(),document.removeEventListener("fullscreenchange",n),document.removeEventListener("webkitfullscreenchange",n),document.removeEventListener("mozfullscreenchange",n),document.removeEventListener("MSFullscreenChange",n)}),i(t)}};if(t&&t instanceof HTMLElement)n(t);else if("#argon"===t){var r=document.querySelector("#argon");if(!r)return fi().then(n);n(r)}else{var s=document.querySelector(""+t);s?n(s):z(t).then(n)}}),o.focusService.focusEvent.addEventListener(function(){e.classList.remove("argon-no-focus"),e.classList.add("argon-focus")}),o.focusService.blurEvent.addEventListener(function(){e.classList.remove("argon-focus"),e.classList.add("argon-no-focus")}),o.sessionService.isRealityViewer?o._setupEventSynthesizing():o._setupEventForwarding()}(),this.sessionService.isRealityManager&&(this.sessionService.connectEvent.addEventListener(function(e){e.on["ar.view.desiredViewport"]=function(t){o.desiredViewportMap.set(e,t)},e.on["ar.view.forwardUIEvent"]=function(e){o.forwardedUIEvent.raiseEvent(e)},e.on["ar.view.requestEnterHmd"]=function(){return o._requestEnterHmd(e)},e.on["ar.view.requestExitHmd"]=function(){return o._requestExitHmd(e)},e.on["ar.view.isHmdActive"]=function(){return Promise.resolve({state:o._isHmdActive()})},e.on["ar.view.requestEnterFullscreen"]=function(){return o._requestEnterFullscreen(e)},e.on["ar.view.requestExitFullscreen"]=function(){return o._requestExitFullscreen(e)},e.on["ar.view.isFullscreen"]=function(){return Promise.resolve({state:o._isFullscreen()})},e.on["ar.view.requestEnterMaximized"]=function(){
return o._requestEnterMaximized(e)},e.on["ar.view.requestExitMaximized"]=function(){return o._requestExitMaximized(e)},e.on["ar.view.isMaximized"]=function(){return Promise.resolve({state:o._isMaximized()})}}),this.sessionService.manager.connectEvent.addEventListener(function(){var e=function(){o.viewport&&o._update()};o.sessionService.isRealityManager&&"undefined"!=typeof window&&(window.addEventListener("resize",e),o.sessionService.manager.closeEvent.addEventListener(function(){window.removeEventListener("resize",e)}))})),this.contextService.renderEvent.addEventListener(function(){var e=o.contextService.serializedFrameState;e.view.subviews.forEach(function(e,t){var i="ar.view_"+t,n=e.pose||di;o.contextService.updateEntityFromSerializedPose(i,n)}),o._update()}),this.contextService.postRenderEvent.addEventListener(function(){o.vrDisplay&&o.vrDisplay.isPresenting&&o.vrDisplay.submitFrame()})}return Ue(e,[{key:"getSubviews",value:function(e){var t=this;this._update();var i=this._subviews,n=this.contextService.serializedFrameState.view;return i.length=n.subviews.length,n.subviews.forEach(function(r,o){var s="ar.view_"+o,a=t.contextService.entities.getById(s),u=i[o]=i[o]||{};u.index=o,u.type=r.type,u.pose=t.contextService.getEntityPose(a,e),u.viewport=r.viewport||{x:0,y:0,width:n.viewport.width,height:n.viewport.height},u.frustum=t._frustums[o]=t._frustums[o]||new De,k(r.projectionMatrix,u.frustum),u.projectionMatrix=u.frustum.projectionMatrix}),i}},{key:"getViewport",value:function(){return this.viewport}},{key:"requestEnterHmd",value:function(){return this.sessionService.manager.request("ar.view.requestEnterHmd")}},{key:"_requestEnterHmd",value:function(e){var t=this;if(this._ensurePersmission(e),"undefined"!=typeof navigator&&navigator.getVRDisplays){var i=function(e){t._vrDisplay=e;var i=[];return i[0]={source:t.element.querySelector("canvas")||t.element.lastElementChild},e.requestPresent(i).catch(function(e){throw t._vrDisplay=void 0,e})};return navigator.activeVRDisplays&&navigator.activeVRDisplays.length?i(navigator.activeVRDisplays[0]):navigator.getVRDisplays().then(function(e){return e[0]}).then(i)}throw new Error("No HMD available")}},{key:"requestExitHmd",value:function(){return this.sessionService.manager.request("ar.view.requestExitHmd")}},{key:"_requestExitHmd",value:function(e){var t=this;if(this._ensurePersmission(e),this._vrDisplay)return Promise.resolve(this._vrDisplay).then(function(e){return t._vrDisplay=void 0,e.exitPresent()});throw new Error("Not presenting in an HMD")}},{key:"isHmdActive",value:function(){return this.sessionService.manager.request("ar.view.isHmdActive").then(function(e){return e.state})}},{key:"_isHmdActive",value:function(){return!!this._vrDisplay&&this._vrDisplay.isPresenting}},{key:"requestEnterFullscreen",value:function(){return this.sessionService.manager.request("ar.view.requestEnterFullscreen")}},{key:"_requestEnterFullscreen",value:function(e){this._ensurePersmission(e);var t=this.element.parentElement;if(t.requestFullscreen)return t.requestFullscreen();if(t.webkitRequestFullscreen)return t.webkitRequestFullscreen();if(t.mozRequestFullscreen)return t.mozRequestFullscreen();throw new Error("Fullscreen not supported")}},{key:"requestExitFullscreen",value:function(){return this.sessionService.manager.request("ar.view.requestExitFullscreen")}},{key:"_requestExitFullscreen",value:function(e){if(this._ensurePersmission(e),document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.webkitCancelFullScreen)return document.webkitCancelFullScreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();throw new Error("Fullscreen not supported")}},{key:"isFullscreen",value:function(){return this.sessionService.manager.request("ar.view.isFullscreen").then(function(e){return e.state})}},{key:"_isFullscreen",value:function(){return this.element.parentElement===document.fullscreenElement||this.element.parentElement===document.webkitFullscreenElement||this.element.parentElement===document.webkitCurrentFullScreenElement||this.element.parentElement===document.mozFullscreenElement}},{key:"requestEnterMaximized",value:function(){return this.sessionService.manager.request("ar.view.requestEnterMaximized")}},{key:"_requestEnterMaximized",value:function(e){this._ensurePersmission(e),this.element.classList.add("argon-maximized"),this.viewportChangeEvent.raiseEvent(void 0)}},{key:"requestExitMaximized",value:function(){return this.sessionService.manager.request("ar.view.requestExitMaximized")}},{key:"_requestExitMaximized",value:function(e){this._ensurePersmission(e),this.element.classList.remove("argon-maximized"),this.viewportChangeEvent.raiseEvent(void 0)}},{key:"isMaximized",value:function(){return this.sessionService.manager.request("ar.view.isMaximized").then(function(e){return e.state})}},{key:"_isMaximized",value:function(){return this.element.classList.contains("argon-maximized")}},{key:"_ensurePersmission",value:function(e){if(e!==this.sessionService.manager||e!==this.focusService.session)throw new Error("Application must have focus")}},{key:"setDesiredViewport",value:function(e){this.sessionService.manager.send("ar.view.desiredViewport",e)}},{key:"requestOwnership",value:function(){}},{key:"releaseOwnership",value:function(){}},{key:"isOwner",value:function(){}},{key:"_update",value:function(){var e=this,t=this.contextService.serializedFrameState;if(t&&t.view){var i=t.view,n=JSON.stringify(i.viewport);this._currentViewport=Ot.clone(i.viewport,this._currentViewport),this._currentViewportJSON&&this._currentViewportJSON===n||(this._currentViewportJSON=n,this.element&&!this.sessionService.isRealityManager&&requestAnimationFrame(function(){var t=i.viewport;e.element.style.position="fixed",e.element.style.left=t.x+"px",e.element.style.bottom=t.y+"px",e.element.style.width=t.width+"px",e.element.style.height=t.height+"px"}),this.viewportChangeEvent.raiseEvent(void 0))}}},{key:"_setupEventForwarding",value:function(){var e=this,t=function(e,t){return{identifier:e.identifier,clientX:e.clientX-t.left,clientY:e.clientY-t.top,screenX:e.screenX,screenY:e.screenY}},i=function(e,i){if(e){for(var n=[],r=0;r<e.length;r++){var o=e.item(r);n[r]=t(o,i)}return n}},n=!1,r={event:UIEvent=void 0,forwardEvent:function(){n=!0}},o={},s=function(t){if(t.target===e.element||t.target.parentElement===e.element){var s=e.element.getBoundingClientRect();if(e.uiEvent.numberOfListeners>0&&(n=!1,r.event=t,e.uiEvent.raiseEvent(r),!n))return void t.stopImmediatePropagation();t.preventDefault();var a=i(t.touches,s),u=i(t.changedTouches,s),c=i(t.targetTouches,s);o.type=t.type,o.bubbles=t.bubbles,o.cancelable=t.cancelable,o.detail=t.detail,o.altKey=t.altKey,o.ctrlKey=t.ctrlKey,o.metaKey=t.metaKey,o.button=t.button,o.buttons=t.buttons,o.clientX=t.clientX-s.left,o.clientY=t.clientY-s.top,o.screenX=t.screenX,o.screenY=t.screenY,o.movementX=t.movementX,o.movementY=t.movementY,o.deltaX=t.deltaX,o.deltaY=t.deltaY,o.deltaZ=t.deltaZ,o.deltaMode=t.deltaMode,o.wheelDelta=t.wheelDelta,o.wheelDeltaX=t.wheelDeltaX,o.wheelDeltaY=t.wheelDeltaY,o.which=t.which,o.timeStamp=t.timeStamp,o.touches=a,o.changedTouches=u,o.targetTouches=c,e.sessionService.manager.send("ar.view.forwardUIEvent",o)}else t.stopImmediatePropagation()};["wheel","click","dblclick","contextmenu","mouseover","mouseout","mousemove","mousedown","mouseup","touchstart","touchend","touchmove","touchcancel"].forEach(function(t){e.element.addEventListener(t,s,!1)})}},{key:"sendUIEventToSession",value:function(e,t){t&&t.send("ar.view.uievent",e)}},{key:"_setupEventSynthesizing",value:function(){var e=void 0,t=function(e,t,i){if(e){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t};n.bubbles=!0,e.dispatchEvent(new MouseEvent("mouseout",n)),n.bubbles=!1;var r=e;do r.dispatchEvent(new MouseEvent("mouseleave",n)),r=r.parentElement;while(r)}},i=function(e,t,i){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t};n.bubbles=!0,e.dispatchEvent(new MouseEvent("mouseover",n)),n.bubbles=!1;var r=e;do r.dispatchEvent(new MouseEvent("mouseenter",n)),r=r.parentElement;while(r)},n=function(e,t,i){return e.forEach(function(n,r){e[r]=document.createTouch(i.view,t,n.identifier,n.clientX,n.clientY,n.screenX,n.screenY)}),e},r={},o={};this.sessionService.manager.on["ar.view.uievent"]=function(s){s.view=window;var a=void 0;switch(s.type){case"wheel":a=document.elementFromPoint(s.clientX,s.clientY)||window,a.dispatchEvent(new WheelEvent(s.type,s));break;case"mouseout":a=document.elementFromPoint(s.clientX,s.clientY)||window,t(e,void 0,s),e=void 0;break;case"mouseover":a=document.elementFromPoint(s.clientX,s.clientY)||window,i(a,void 0,s),e=a;break;case"mousemove":a=document.elementFromPoint(s.clientX,s.clientY)||window,a!==e&&(t(e,a,s),i(a,e,s),e=a),a.dispatchEvent(new MouseEvent(s.type,s));break;case"touchstart":var u=s.changedTouches[0];a=document.elementFromPoint(u.clientX,u.clientY);var c=!0,l=!1,h=void 0;try{for(var f,d=s.changedTouches[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var M=f.value;r[M.identifier]=a,o[M.identifier]=performance.now()}}catch(e){l=!0,h=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw h}}case"touchmove":case"touchend":case"touchcancel":a=r[s.changedTouches[0].identifier];var w=document.createEvent("TouchEvent"),g=document.createTouchList.apply(document,n(s.touches,a,s)),y=document.createTouchList.apply(document,n(s.targetTouches,a,s)),A=document.createTouchList.apply(document,n(s.changedTouches,a,s));if("function"==typeof w.initTouchEvent?w.initTouchEvent(s.type,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,g,y,A,1,0):(w.initUIEvent(s.type,s.bubbles,s.cancelable,s.view,s.detail),w.touches=g,w.targetTouches=y,w.changedTouches=A),"touchend"===s.type||"touchcancel"==s.type){a.dispatchEvent(w);var p=A[0];s.clientX=p.clientX,s.clientY=p.clientY,s.screenX=p.screenX,s.screenY=p.screenY,s.button=0,s.detail=1,"touchend"===s.type?performance.now()-o[p.identifier]<300&&!w.defaultPrevented&&(a.dispatchEvent(new MouseEvent("mousedown"),s),a.dispatchEvent(new MouseEvent("mouseup"),s),a.dispatchEvent(new MouseEvent("click"),s)):a.dispatchEvent(new MouseEvent("mouseout"),s);var v=!0,D=!1,m=void 0;try{for(var E,N=s.changedTouches[Symbol.iterator]();!(v=(E=N.next()).done);v=!0){var I=E.value;delete r[I.identifier],delete o[I.identifier]}}catch(e){D=!0,m=e}finally{try{!v&&N.return&&N.return()}finally{if(D)throw m}}}else a.dispatchEvent(w);break;default:a=document.elementFromPoint(s.clientX,s.clientY)||window,a.dispatchEvent(new MouseEvent(s.type,s))}}}},{key:"vrDisplay",get:function(){return this._vrDisplay}},{key:"viewport",get:function(){return this.contextService.serializedFrameState.view?this.contextService.serializedFrameState.view.viewport:{x:0,y:0,width:0,height:0}}}]),e}()),e("ViewService",gi=hi([N(wi,Jt,ui,li)],gi)),yi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Ai=new K,pi=new Ie,vi=new Ie,Di=new Ae,mi=new pe,Ei=new ee,Ni=new ge(0,0),Ii=1.77,e("DeviceService",Ti=function(){function e(t,i,n){var r=this;Re(this,e),this.sessionService=t,this.contextService=i,this.viewService=n,this.stage=this.contextService.entities.add(new le({id:"ar.device.stage",name:"Device Stage",position:new ne(void 0,Le.FIXED),orientation:new re(void 0)})),this.eye=this.contextService.entities.add(new le({id:"ar.device.eye",name:"Device Eye",position:new ne(void 0,void 0),orientation:new re(void 0)})),this.eyeEastNorthUp=this.contextService.entities.add(new le({id:"ar.device.eyeEastNorthUp",name:"Device Eye - ENU",position:new ne(void 0,void 0),orientation:new re(void 0)})),this.geolocationSubscribers=new Set,this._hasGeolocationCapability=new Promise(function(e){r._resolveHasGeolocationCapability=e}),this._hasOrientationCapability=new Promise(function(e){r._resolveHasOrientationCapability=e}),this._hasGeoposeCapability=Promise.all([this._hasGeolocationCapability,this._hasOrientationCapability]).then(function(e){return e.reduce(function(e,t){return e&&t},!0)}),this._state={viewport:{x:0,y:0,width:1,height:1},subviews:[{type:Ct.SINGULAR,projectionMatrix:new pe,viewport:{x:0,y:0,width:1,height:1}}],geolocationAccuracy:void 0,altitudeAccuracy:void 0},this._frustum=new De,this.sessionService.manager.on["ar.device.state"]=function(e){r._state=e},this.sessionService.connectEvent.addEventListener(function(e){e.on["ar.device.startGeolocationUpdates"]=function(){r.geolocationSubscribers.add(e),r._startGeolocationUpdates(),e.closeEvent.addEventListener(function(){r.geolocationSubscribers.delete(e),0===r.geolocationSubscribers.size&&r._stopGeolocationUpdates()})},e.on["ar.device.stopGeolocationUpdates"]=function(){r.geolocationSubscribers.delete(e),0===r.geolocationSubscribers.size&&r._stopGeolocationUpdates()}}),(this.sessionService.isRealityManager||this.sessionService.isRealityViewer)&&this.startOrientationUpdates();var o=this._frustum;o.near=.01,o.far=5e8,o.fov=Math.PI/3,o.aspectRatio=1,pe.clone(o.projectionMatrix,this.subviews[0].projectionMatrix),this.sessionService.isRealityManager&&!function(){r.publishDeviceState();var e=setInterval(r.publishDeviceState.bind(r),500);r.sessionService.manager.closeEvent.addEventListener(function(){clearInterval(e)}),r.viewService.viewportChangeEvent.addEventListener(function(){r.publishDeviceState()})}(),this.sessionService.manager.closeEvent.addEventListener(function(){r.stopGeolocationUpdates(),r.stopOrientationUpdates()})}return Ue(e,[{key:"hasGeoposeCapability",value:function(){return this._hasGeoposeCapability}},{key:"processViewState",value:function(e){this._lastRealityViewState=e}},{key:"getSubviewEntity",value:function(e){var t=this.contextService.entities.getOrCreateEntity("ar.device.view_"+e);return t.position||(t.position=new ne),t.orientation||(t.orientation=new re),t}},{key:"update",value:function(){this.sessionService.ensureNotRealityAugmenter(),this.sessionService.isRealityManager?(this.updateViewport(),this.updateState()):this.setEyePoseFromDeviceOrientation();var e=j(this.eye,Ei.currentTime,Le.FIXED,Ai);if(this._eyeCartographicPosition=e?$.fromCartesian(e,void 0,this._eyeCartographicPosition):e,e&&this._resolveHasGeolocationCapability&&(this._resolveHasGeolocationCapability(!0),this._resolveHasGeolocationCapability=void 0),this._resolveHasOrientationCapability){var t=x(this.eye,Ei.currentTime,Le.FIXED,pi);t&&(this._resolveHasOrientationCapability(!0),this._resolveHasOrientationCapability=void 0)}if(!this.strict&&this.sessionService.isRealityManager){var i=this._lastRealityViewState;i&&i.subviews[0]&&pe.clone(i.subviews[0].projectionMatrix,this.subviews[0].projectionMatrix)}}},{key:"updateState",value:function(){this.viewService.vrDisplay?this.updateStateFromWebVR():this.updateStateMonocular()}},{key:"updateStateFromWebVR",value:function(){var e=this.viewService.vrDisplay,t=this._vrFrameData=this._vrFrameData||new VRFrameData;if(e.getFrameData(t)){var i=this._state,n=e.getLayers(),r=n[0].leftBounds,o=n[0].rightBounds,s=i.viewport.width,a=i.viewport.height,u=i.subviews,c=u[0],l=u[1]=u[1]||{};c.type=Ct.LEFTEYE,l.type=Ct.RIGHTEYE;var h=c.viewport=c.viewport||{};h.x=r[0]*s,h.y=r[1]*a,h.width=r[2]*s,h.height=r[3]*a;var f=l.viewport=l.viewport||{};f.x=o[0]*s,f.y=o[1]*a,f.width=o[2]*s,f.height=o[3]*a,c.projectionMatrix=pe.clone(t.leftProjectionMatrix,c.projectionMatrix),l.projectionMatrix=pe.clone(t.rightProjectionMatrix,l.projectionMatrix);var d=pe.IDENTITY.clone(mi);e.stageParameters&&pe.inverseTransformation(e.stageParameters.sittingToStandingTransform,d);var M=pe.getRotation(d,Di),w=Ie.fromRotationMatrix(M,pi),g=pe.multiplyTransformation(t.leftViewMatrix,d,mi),y=pe.multiplyTransformation(t.rightViewMatrix,d,mi);if(this.setStagePoseFromGeolocation(),e.displayName.match(/polyfill/g))this.setEyePoseFromDeviceOrientation();else{var A=K.unpack(t.pose.position,0,Ai),p=pe.multiplyByPoint(d,A,Ai),v=Ie.unpack(t.pose.orientation,0,vi),D=Ie.multiply(w,v,pi),m=this.eye;m.position.setValue(p,this.stage),m.orientation.setValue(D);var E=this.getSubviewEntity(0),N=pe.getTranslation(g,Ai);E.position.setValue(N,this.stage);var I=this.getSubviewEntity(1),T=pe.getTranslation(y,Ai);I.position.setValue(T,this.stage)}}}},{key:"updateStateMonocular",value:function(){this.setStagePoseFromGeolocation(),this.setEyePoseFromDeviceOrientation();var e=this._state;e.subviews.length=1;var t=e.subviews[0];t.type=Ct.SINGULAR,t.viewport={x:0,y:0,width:this._state.viewport.width,height:this._state.viewport.height},pe.clone(this._frustum.projectionMatrix,t.projectionMatrix)}},{key:"setEyePoseFromDeviceOrientation",value:function(){var e=K.fromElements(0,0,Ii,Ai);this.eye.position.setValue(e,this.stage),this.eye.orientation.setValue(this._deviceOrientation)}},{key:"setStagePoseFromGeolocation",value:function(){var e=this._state.cartographicPosition;if(e){var t=e.longitude,i=e.latitude,n=e.height-Ii,r=K.fromDegrees(t,i,n,void 0,Ai),o=ze.headingPitchRollQuaternion(r,0,0,0,void 0,pi);this.stage.position.setValue(r,Le.FIXED),this.stage.orientation.setValue(o)}else this.stage.position.setValue(void 0,Le.FIXED),this.stage.orientation.setValue(void 0)}},{key:"updateViewport",value:function(){if(this.viewService.element){this.viewport.x=0,this.viewport.y=0;var e=this.viewService.element.clientWidth,t=this.viewService.element.clientHeight;this.viewport.width=e,this.viewport.height=t}var i=this.viewport.width/this.viewport.height;this._frustum.aspectRatio=isNaN(i)?1:i}},{key:"requestFrame",value:function(e){var t=this,i=function(){Q(),t.update(),e(Ei.currentTime)};return this.viewService.vrDisplay?this.viewService.vrDisplay.requestAnimationFrame(i):Vt(i)}},{key:"publishDeviceState",value:function(){var e=this;this.sessionService.ensureIsRealityManager(),this.sessionService.isRealityManager&&(this.update(),this.sessionService.managedSessions.forEach(function(t){St.isRealityViewer(t.info.role)&&t.send("ar.device.state",e._state)}))}},{key:"startGeolocationUpdates",value:function(){this.sessionService.manager.send("ar.device.startGeolocationUpdates")}},{key:"_startGeolocationUpdates",value:function(){var e=this;"undefined"!=typeof navigator&&(!ae(this._geolocationWatchId)&&navigator.geolocation?this._geolocationWatchId=navigator.geolocation.watchPosition(function(t){var i=e._state.cartographicPosition=e._state.cartographicPosition||new $;i.latitude=t.coords.latitude,i.longitude=t.coords.longitude,i.height=t.coords.altitude||0,e._state.geolocationAccuracy=t.coords.accuracy>0?t.coords.accuracy:void 0,e._state.altitudeAccuracy=t.coords.altitudeAccuracy||void 0,e.publishDeviceState()},function(e){console.error(e)},{enableHighAccuracy:!0}):this._resolveHasGeolocationCapability&&(this._resolveHasGeolocationCapability(!1),this._resolveHasGeolocationCapability=void 0))}},{key:"stopGeolocationUpdates",value:function(){this.sessionService.manager.send("ar.device.stopGeolocationUpdates")}},{key:"_stopGeolocationUpdates",value:function(){"undefined"!=typeof navigator&&ae(this._geolocationWatchId)&&(navigator.geolocation.clearWatch(this._geolocationWatchId),this._geolocationWatchId=void 0),this._state.cartographicPosition=void 0,this._state.geolocationAccuracy=void 0,this._state.altitudeAccuracy=void 0,this.publishDeviceState()}},{key:"startOrientationUpdates",value:function(){var e=this;"undefined"!=typeof window&&window.addEventListener&&(ae(this._deviceorientationListener)||!function(){var t=0,i=void 0;e._deviceorientationListener=function(n){var r=n.alpha,o=n.webkitCompassHeading,s=+n.webkitCompassAccuracy;if(!ae(r))return e.stopOrientationUpdates(),void(e._resolveHasOrientationCapability&&(e._resolveHasOrientationCapability(!1),e._resolveHasOrientationCapability=void 0));n.absolute&&(i=0),(!ae(i)||Math.abs(t)>5)&&ae(o)&&s>=0&&s<50&&o>=0&&(ae(i)?i-=t:i=-o,e._compassAccuracy=s>0?s:void 0);var a=ye.RADIANS_PER_DEGREE*(n.alpha+i||-o||0),u=ye.RADIANS_PER_DEGREE*n.beta,c=ye.RADIANS_PER_DEGREE*n.gamma,l=Ie.fromAxisAngle(K.UNIT_Z,a,pi),h=Ie.fromAxisAngle(K.UNIT_X,u,vi),f=Ie.multiply(l,h,pi),d=Ie.fromAxisAngle(K.UNIT_Y,c,vi),M=Ie.multiply(f,d,pi),w=screen.orientation&&screen.orientation.angle||window.orientation||0,g=Ie.fromAxisAngle(K.UNIT_Z,-w*ye.RADIANS_PER_DEGREE,vi);e._deviceOrientation=Ie.multiply(M,g,e._deviceOrientation||new Ie)},"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",e._deviceorientationListener):"ondeviceorientation"in window?window.addEventListener("deviceorientation",e._deviceorientationListener):e._resolveHasOrientationCapability&&(e._resolveHasOrientationCapability(!1),e._resolveHasOrientationCapability=void 0)}())}},{key:"stopOrientationUpdates",value:function(){"undefined"!=typeof window&&window.removeEventListener&&(this._deviceOrientation=void 0,this._compassAccuracy=void 0,this._deviceorientationListener&&("ondeviceorientationabsolute"in window?window.removeEventListener("deviceorientationabsolute",this._deviceorientationListener):"ondeviceorientation"in window&&window.removeEventListener("deviceorientation",this._deviceorientationListener),this._deviceorientationListener=void 0))}},{key:"eyeCartographicPosition",get:function(){return this._eyeCartographicPosition}},{key:"geolocationAccuracy",get:function(){return this._state.geolocationAccuracy}},{key:"altitudeAccuracy",get:function(){return this._state.altitudeAccuracy}},{key:"compassAccuracy",get:function(){return this._compassAccuracy}},{key:"viewport",get:function(){return this._state.viewport}},{key:"subviews",get:function(){return this._state.subviews}},{key:"strict",get:function(){return this._state.strict}}]),e}()),e("DeviceService",Ti=yi([N(Jt,ui,gi)],Ti)),Li=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("RealityViewer",ji=function(){function e(t,i){Re(this,e),this._sessionService=t,this.uri=i}return Ue(e,[{key:"load",value:function(){this.session&&this.session.close(),this.session=this._sessionService.addManagedSessionPort(this.uri)}}],[{key:"getType",value:function(e){if(void 0!==e)return"reality"===e.split(":")[0]?e:"hosted"}}]),e}()),ji.EMPTY="reality:empty",ji.LIVE="reality:live",e("RealityViewer",ji=Li([N(Jt)],ji)),xi=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},Si=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("EmptyRealityViewer",Oi=function(e){function t(e,i,n,r){Re(this,t);var o=jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.sessionService=e,o.deviceService=i,o.viewService=n,o.uri=r,o.type="empty",o._isPresenting=!1,o}return xt(t,e),Ue(t,[{key:"destroy",value:function(){}},{key:"setPresenting",value:function(e){this._isPresenting=e}},{key:"load",value:function(){var e=this;xi(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var i=this.session,n=this.sessionService.createSessionPort(this.uri);n.on["ar.device.state"]=function(){},n.on["ar.view.uievent"]=function(){},n.on["ar.context.update"]=function(){},n.on["ar.reality.connect"]=function(){},n.connectEvent.addEventListener(function(){function t(e){switch(e){case"W".charCodeAt(0):return"moveForward";case"S".charCodeAt(0):return"moveBackward";case"R".charCodeAt(0):return"moveUp";case"F".charCodeAt(0):return"moveDown";case"D".charCodeAt(0):return"moveRight";case"A".charCodeAt(0):return"moveLeft";default:return}}var i=new H(e.viewService.element),r={moveForward:!1,moveBackward:!1,moveUp:!1,moveDown:!1,moveLeft:!1,moveRight:!1},o=function(e){var i=t(e.keyCode);"undefined"!=typeof i&&(r[i]=!0)},s=function(e){var i=t(e.keyCode);"undefined"!=typeof i&&(r[i]=!1)};document.addEventListener("keydown",o,!1),document.addEventListener("keyup",s,!1),n.closeEvent.addEventListener(function(){i.destroy(),document.removeEventListener("keydown",o),document.removeEventListener("keyup",s)});var a=new Ie,u=new K,c=new K,l=new Ie,h=new Ae,f=new K(0,0,1),d=new K(1,0,0),M=new K(0,-1,0),w=new De,g=1.77,y=new K(0,-1,0),A=Ie.fromAxisAngle(K.UNIT_X,ye.PI_OVER_TWO),p=new ne(new K(0,0,g),e.deviceService.stage),v=new re(A);Ae.fromQuaternion(l,h);var D=new le({position:p,orientation:v}),m=e.deviceService,E=function t(o){if(n.isConnected){if(m.requestFrame(t),!e._isPresenting)return void i.reset();if((void 0===w.fov||m.strict)&&k(m.subviews[0].projectionMatrix,w),!m.strict){if(i.isMoving(Z.WHEEL)){var s=i.getMovement(Z.WHEEL),g=s.endPosition.y;w.fov=Math.min(Math.max(w.fov-.02*g,Math.PI/8),Math.PI-Math.PI/8)}if(i.isMoving(Z.PINCH)){var A=i.getMovement(Z.PINCH),v=A.distance.endPosition.y-A.distance.startPosition.y;w.fov=Math.min(Math.max(w.fov-.02*v,Math.PI/8),Math.PI-Math.PI/8)}var E=m.subviews[0].viewport.width/m.subviews[0].viewport.height;w.aspectRatio=isNaN(E)?1:E,m.subviews.forEach(function(e){pe.clone(w.projectionMatrix,e.projectionMatrix)})}var N=S(e.deviceService.eye,o);if(!N&&!m.strict){if(i.isMoving(Z.LEFT_DRAG)){var I=i.getMovement(Z.LEFT_DRAG),T=x(D,o,m.stage,l);if(T){var L=Ie.fromAxisAngle(K.UNIT_Y,w.fov*(I.endPosition.x-I.startPosition.x)/e.viewService.viewport.width,a),j=Ie.multiply(T,L,L);D.orientation.setValue(j),Ae.fromQuaternion(j,h),Ae.multiplyByVector(h,K.UNIT_Z,f),Ae.multiplyByVector(h,K.UNIT_X,d),Ae.multiplyByVector(h,y,M)}}var O=p.getValueInReferenceFrame(o,e.deviceService.stage,u),C=.02;r.moveForward&&(K.multiplyByScalar(M,C,c),K.add(O,c,O)),r.moveBackward&&(K.multiplyByScalar(M,-C,c),K.add(O,c,O)),r.moveUp&&(K.multiplyByScalar(f,C,c),K.add(O,c,O)),r.moveDown&&(K.multiplyByScalar(f,-C,c),K.add(O,c,O)),r.moveLeft&&(K.multiplyByScalar(d,-C,c),K.add(O,c,O)),r.moveRight&&(K.multiplyByScalar(d,C,c),K.add(O,c,O)),p.setValue(O,e.deviceService.stage),N=S(D,o)}i.reset();var z={time:o,pose:N,geolocationAccuracy:m.geolocationAccuracy,altitudeAccuracy:m.altitudeAccuracy,compassAccuracy:m.compassAccuracy,viewport:m.viewport,subviews:m.subviews};n.send("ar.reality.viewState",z)}};m.requestFrame(E)}),Promise.resolve().then(function(){var t=e.sessionService.createSynchronousMessageChannel();i.open(t.port1,e.sessionService.configuration),n.open(t.port2,{role:St.REALITY_VIEWER,uri:e.uri,title:"Empty"})})}}]),t}(ji)),e("EmptyRealityViewer",Oi=Si([N(Jt,Ti,gi)],Oi)),Ci=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},function(e){e[e.SUCCESS=100]="SUCCESS",e[e.INIT_ERROR=-1]="INIT_ERROR",e[e.INIT_DEVICE_NOT_SUPPORTED=-2]="INIT_DEVICE_NOT_SUPPORTED",e[e.INIT_NO_CAMERA_ACCESS=-3]="INIT_NO_CAMERA_ACCESS",e[e.INIT_LICENSE_ERROR_MISSING_KEY=-4]="INIT_LICENSE_ERROR_MISSING_KEY",e[e.INIT_LICENSE_ERROR_INVALID_KEY=-5]="INIT_LICENSE_ERROR_INVALID_KEY",e[e.INIT_LICENSE_ERROR_NO_NETWORK_PERMANENT=-6]="INIT_LICENSE_ERROR_NO_NETWORK_PERMANENT",e[e.INIT_LICENSE_ERROR_NO_NETWORK_TRANSIENT=-7]="INIT_LICENSE_ERROR_NO_NETWORK_TRANSIENT",e[e.INIT_LICENSE_ERROR_CANCELED_KEY=-8]="INIT_LICENSE_ERROR_CANCELED_KEY",e[e.INIT_LICENSE_ERROR_PRODUCT_TYPE_MISMATCH=-9]="INIT_LICENSE_ERROR_PRODUCT_TYPE_MISMATCH",e[e.INIT_EXTERNAL_DEVICE_NOT_DETECTED=-10]="INIT_EXTERNAL_DEVICE_NOT_DETECTED"}(zi||e("VuforiaInitResult",zi={})),function(e){e[e.MaxSimultaneousImageTargets=0]="MaxSimultaneousImageTargets",e[e.MaxSimultaneousObjectTargets=1]="MaxSimultaneousObjectTargets",e[e.DelayedLoadingObjectDatasets=2]="DelayedLoadingObjectDatasets"}(_i||e("VuforiaHint",_i={})),e("VuforiaServiceDelegateBase",bi=function e(){Re(this,e),this.stateUpdateEvent=new zt}),e("VuforiaServiceDelegate",ki=function(e){function t(){return Re(this,t),jt(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return xt(t,e),Ue(t,[{key:"isAvailable",value:function(){return!1}},{key:"setHint",value:function(e,t){return!0}},{key:"decryptLicenseKey",value:function(e,t){return Promise.resolve(void 0)}},{key:"init",value:function(e){return Promise.resolve(zi.SUCCESS)}},{key:"deinit",value:function(){}},{key:"cameraDeviceInitAndStart",value:function(){return!0}},{key:"cameraDeviceSetFlashTorchMode",value:function(e){return!0}},{key:"objectTrackerInit",value:function(){return!0}},{key:"objectTrackerCreateDataSet",value:function(e){return""}},{key:"objectTrackerDestroyDataSet",value:function(e){return!0}},{key:"objectTrackerActivateDataSet",value:function(e){return!0}},{key:"objectTrackerDeactivateDataSet",value:function(e){return!0}},{key:"dataSetFetch",value:function(e){return Promise.resolve(void 0)}},{key:"dataSetLoad",value:function(e){return Promise.resolve()}}]),t}(bi)),e("VuforiaService",Ri=function(){function e(t,i,n){var r=this;Re(this,e),this.sessionService=t,this.focusService=i,this.delegate=n,this._sessionSwitcherCommandQueue=new _t,this._sessionCommandQueue=new WeakMap,this._sessionInitOptions=new WeakMap,this._sessionInitPromise=new WeakMap,this._sessionIsInitialized=new WeakMap,this._sessionCreatedDataSets=new WeakMap,this._sessionActivatedDataSets=new WeakMap,t.isRealityManager&&(this._sessionSwitcherCommandQueue.errorEvent.addEventListener(function(e){r.sessionService.errorEvent.raiseEvent(e)}),t.connectEvent.addEventListener(function(e){var t=new _t;t.errorEvent.addEventListener(function(t){r.sessionService.errorEvent.raiseEvent(t),e.sendError(t)}),r._sessionCommandQueue.set(e,t);var i=new Set;r._sessionCreatedDataSets.set(e,i);var o=new Set;r._sessionActivatedDataSets.set(e,o),e.on["ar.vuforia.isAvailable"]=function(){return Promise.resolve({available:n.isAvailable()})},e.on["ar.vuforia.init"]=function(i){if(!n.isAvailable())throw new Error("Vuforia is not supported");if(r._sessionIsInitialized.get(e))throw new Error("Vuforia has already been initialized");if(!i.key&&!i.encryptedLicenseData)throw new Error("Expected `encryptedLicenseData` field. You can encrypt your Vuforia license key at http://docs.argonjs.io/start/vuforia-pgp-encryptor");var o=i.key?Promise.resolve(i.key):n.decryptLicenseKey(i.encryptedLicenseData,e);return o.then(function(i){r._sessionInitOptions.set(e,{key:i});var n=t.push(function(){return r._init(e).then(function(){r._sessionIsInitialized.set(e,!0)})},r._controllingSession===e);return r.focusService.session===e&&r._setControllingSession(e),r._sessionInitPromise.set(e,n),n})},e.on["ar.vuforia.objectTrackerCreateDataSet"]=function(o){var s=o.url;return t.push(function(){var e=n.objectTrackerCreateDataSet(s);if(e)return i.add(e),Promise.resolve({id:e});throw new Error("Unable to create DataSet")},r._controllingSession===e)},e.on["ar.vuforia.objectTrackerActivateDataSet"]=function(i){var s=i.id;return t.push(function(){if(n.objectTrackerActivateDataSet(s))return o.add(s),void e.send("ar.vuforia.objectTrackerActivateDataSetEvent",{id:s});throw new Error("Unable to activate DataSet ("+s+")")},r._controllingSession===e)},e.on["ar.vuforia.objectTrackerDeactivateDataSet"]=function(i){var s=i.id;return t.push(function(){if(n.objectTrackerDeactivateDataSet(s))return o.delete(s),
void e.send("ar.vuforia.objectTrackerDeactivateDataSetEvent",{id:s});throw new Error("Unable to deactivate DataSet ("+s+")")},r._controllingSession===e)},e.on["ar.vuforia.dataSetFetch"]=function(i){var o=i.id;return t.push(function(){return n.dataSetFetch(o)},r._controllingSession===e)},e.on["ar.vuforia.dataSetLoad"]=function(i){var o=i.id;return t.push(function(){return n.dataSetLoad(o)},r._controllingSession===e)},e.closeEvent.addEventListener(function(){r._controllingSession===e?(t.clear(),t.push(function(){r._cleanupSession(e),setTimeout(function(){r._ensureActiveSession()},2e3)},!0)):r._cleanupSession(e)})}),i.sessionFocusEvent.addEventListener(function(e){var t=e.current;t&&r._sessionInitOptions.get(t)&&r._setControllingSession(t)}))}return Ue(e,[{key:"isAvailable",value:function(){return this.sessionService.manager.request("ar.vuforia.isAvailable").then(function(e){return e.available})}},{key:"initWithUnencryptedKey",value:function(e,t){var i=this;return t||this.sessionService.ensureIsRealityManager(),this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Ui(i.sessionService.manager)})}},{key:"init",value:function(e){var t=this;if(!e.encryptedLicenseData||"string"!=typeof e.encryptedLicenseData)throw new Error("options.encryptedLicenseData is required.");return this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Ui(t.sessionService.manager)})}},{key:"_ensureActiveSession",value:function(){console.log("VuforiaService: Ensuring an active session is in control."),this._controllingSession&&this._controllingSession.isConnected||this._selectControllingSession()}},{key:"_selectControllingSession",value:function(){var e=this.focusService.session;if(e&&this._sessionInitOptions.get(e))return void this._setControllingSession(e);var t=!0,i=!1,n=void 0;try{for(var r,o=this.sessionService.managedSessions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;if(this._sessionInitOptions.get(s))return void this._setControllingSession(s)}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}this._sessionInitOptions.get(this.sessionService.manager)&&this._setControllingSession(this.sessionService.manager)}},{key:"_setControllingSession",value:function(e){var t=this;this._controllingSession!==e&&(console.log("VuforiaService: Setting controlling session to "+e.uri),this._sessionSwitcherCommandQueue.clear(),this._sessionSwitcherCommandQueue.push(function(){return t._pauseSession().then(function(){return t._resumeSession(e)})},!0))}},{key:"_resumeSession",value:function(e){if(this._controllingSession)throw new Error("Attempted to resume a session while a session is still in control");e&&console.log("VuforiaService: Resuming session "+e.uri);var t=this._sessionInitOptions.get(e);if(!t)throw new Error("Attempted to resume a session without initialization options");this._controllingSession=e;var i=this._sessionCommandQueue.get(e);return this._sessionIsInitialized.get(e)?this._init(e).then(function(){i.execute()}).catch(function(t){e.sendError(t)}):(i.execute(),this._sessionInitPromise.get(e))}},{key:"_pauseSession",value:function(){var e=this,t=this._controllingSession;if(!t)return Promise.resolve(void 0);console.log("VuforiaService: Pausing session "+t.uri);var i=this._sessionCommandQueue.get(t);return i.push(function(){return i.pause(),e._controllingSession=void 0,e._deinit(t)},!0)}},{key:"_cleanupSession",value:function(e){var t=this;if(this._sessionInitOptions.has(e)){this._sessionInitOptions.delete(e);var i=this._sessionCreatedDataSets.get(e);console.log("VuforiaService: Deactivating datasets for session "+e.uri),this._sessionActivatedDataSets.get(e).forEach(function(e){t.delegate.objectTrackerDeactivateDataSet(e)}),this._sessionActivatedDataSets.delete(e),console.log("VuforiaService: Destroying objects for session "+e.uri),i.forEach(function(e){t.delegate.objectTrackerDestroyDataSet(e)}),this._sessionCreatedDataSets.delete(e)}}},{key:"_init",value:function(e){var t=this;console.log("Attempting to initialize vuforia for "+e.uri);var i=this._sessionInitOptions.get(e);return this.delegate.init(i).then(function(i){if(i!==zi.SUCCESS)throw new Error("Vuforia init failed: "+zi[i]);if(!t.delegate.objectTrackerInit())throw new Error("Vuforia init failed: Unable to initialize ObjectTracker");var n=!0;if(t._sessionActivatedDataSets.get(e).forEach(function(i){n=n&&t.delegate.objectTrackerActivateDataSet(i),n&&e.send("ar.vuforia.objectTrackerActivateDataSetEvent",{id:i})}),!n)throw new Error("Vuforia init failed: Unable to restore active datasets");if(!t.delegate.cameraDeviceInitAndStart())throw new Error("Vuforia init failed: Unable to complete initialization");console.log("Vuforia init success")}).catch(function(i){throw console.log("Vuforia init fail: "+i.message),t._sessionInitOptions.delete(e),t._sessionIsInitialized.set(e,!1),t._deinit(e),t._ensureActiveSession(),i})}},{key:"_deinit",value:function(e){var t=this,i=this._sessionActivatedDataSets.get(e);i&&i.forEach(function(i){t.delegate.objectTrackerDeactivateDataSet(i),e.send("ar.vuforia.objectTrackerDeactivateDataSetEvent",{id:i})}),this.delegate.deinit()}}]),e}()),e("VuforiaService",Ri=Ci([N(Jt,li,ki)],Ri)),e("VuforiaAPI",Ui=function e(t){Re(this,e),this.objectTracker=new Qi(t)}),e("VuforiaTracker",Pi=function e(){Re(this,e)}),e("VuforiaObjectTracker",Qi=function(e){function t(e){Re(this,t);var i=jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.manager=e,i._dataSetMap=new Map,i.dataSetActivateEvent=new zt,i.dataSetDeactivateEvent=new zt,e.on["ar.vuforia.objectTrackerActivateDataSetEvent"]=function(e){var t=e.id,n=i._dataSetMap.get(t);n._onActivate(),i.dataSetActivateEvent.raiseEvent(n)},e.on["ar.vuforia.objectTrackerDeactivateDataSetEvent"]=function(e){var t=e.id,n=i._dataSetMap.get(t);n._onDeactivate(),i.dataSetDeactivateEvent.raiseEvent(n)},i}return xt(t,e),Ue(t,[{key:"createDataSet",value:function(e){var t=this;return e&&window.document&&(e=O(e)),this.manager.request("ar.vuforia.objectTrackerCreateDataSet",{url:e}).then(function(e){var i=new Bi(e.id,t.manager);return t._dataSetMap.set(e.id,i),i})}},{key:"activateDataSet",value:function(e){return this.manager.request("ar.vuforia.objectTrackerActivateDataSet",{id:e.id})}},{key:"deactivateDataSet",value:function(e){return this.manager.request("ar.vuforia.objectTrackerDeactivateDataSet",{id:e.id})}}]),t}(Pi)),e("VuforiaDataSet",Bi=function(){function e(t,i){Re(this,e),this.id=t,this.manager=i,this._isActive=!1}return Ue(e,[{key:"_onActivate",value:function(){this._isActive=!0}},{key:"_onDeactivate",value:function(){this._isActive=!1}},{key:"fetch",value:function(){return this.manager.request("ar.vuforia.dataSetFetch",{id:this.id}).then(function(){})}},{key:"load",value:function(){var e=this;return this.manager.request("ar.vuforia.dataSetLoad",{id:this.id}).then(function(t){return e._trackables=t,t})}},{key:"isActive",value:function(){return this._isActive}},{key:"getTrackables",value:function(){return this._trackables}}]),e}()),qi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("LiveRealityViewer",Yi=function(e){function t(e,i,n,r,o){Re(this,t);var s=jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));if(s.sessionService=e,s.vuforiaDelegate=i,s.viewService=n,s.deviceService=r,s.uri=o,"undefined"!=typeof document){s.settingsIframe=document.createElement("iframe"),s.settingsIframe.width="0",s.settingsIframe.height="0",s.settingsIframe.src="https://argonjs.io/tools.argonjs.io/",s.settingsIframe.style.display="none",s.videoFov=Math.PI/2,s.videoElement=document.createElement("video"),s.videoElement.style.width="100%",s.videoElement.style.height="height:100%",s.videoElement.controls=!1,s.videoElement.autoplay=!0,s.videoElement.style.display="none";var a=s.viewService.element;a.insertBefore(s.settingsIframe,a.firstChild),a.insertBefore(s.videoElement,a.firstChild),s.canvas=document.createElement("canvas"),s.context=s.canvas.getContext("2d")}return s}return xt(t,e),Ue(t,[{key:"destroy",value:function(){this.settingsIframe.remove(),this.videoElement.remove(),this.canvas.remove()}},{key:"setPresenting",value:function(e){this.videoElement.style.display=e?"initial":"none"}},{key:"load",value:function(){var e=this;xi(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this);var i=this.session,n=this.sessionService.createSessionPort(this.uri);if(n.on["ar.device.state"]=function(){},n.on["ar.view.uievent"]=function(){},n.on["ar.context.update"]=function(){},n.on["ar.reality.connect"]=function(){},n.connectEvent.addEventListener(function(){e.videoElement&&!function(){var t=e.videoElement,r=navigator.mediaDevices,o=(r.getUserMedia||r.mozGetUserMedia||r.msGetUserMedia||r.webkitGetUserMedia).bind(r);o({audio:!1,video:!0}).then(function(e){t.src=window.URL.createObjectURL(e)}).catch(function(e){n.errorEvent.raiseEvent(e)});var s=e.deviceService,a=-1,u=function r(o){if(i.isConnected&&(e.deviceService.requestFrame(r),t.currentTime!=a)){a=t.currentTime;var u={time:o,pose:S(s.eye,o),geolocationAccuracy:s.geolocationAccuracy,altitudeAccuracy:s.altitudeAccuracy,compassAccuracy:s.compassAccuracy,viewport:s.viewport,subviews:s.subviews};n.send("ar.reality.viewState",u)}};e.deviceService.requestFrame(u)}(),e.vuforiaDelegate.videoEnabled=!0,e.vuforiaDelegate.trackingEnabled=!0;var t=e.vuforiaDelegate.stateUpdateEvent.addEventListener(function(e){n.send("ar.reality.viewState",e)});n.closeEvent.addEventListener(function(){t(),e.vuforiaDelegate.videoEnabled=!1,e.vuforiaDelegate.trackingEnabled=!1})}),"undefined"!=typeof document&&"undefined"!=typeof navigator){window.addEventListener("message",function(t){var i=t.origin;"http://argonjs.io"===i&&(e.videoFov=t.data)});var r=navigator.mediaDevices,o=(r.getUserMedia||r.mozGetUserMedia||r.msGetUserMedia||r.webkitGetUserMedia).bind(r);o({audio:!1,video:!0}).then(function(t){e.videoElement.src=window.URL.createObjectURL(t)}).catch(function(e){n.errorEvent.raiseEvent(e)})}Promise.resolve().then(function(){var t=e.sessionService.createSynchronousMessageChannel();i.open(t.port1,e.sessionService.configuration),n.open(t.port2,{role:St.REALITY_VIEWER,title:"Local"})})}},{key:"getVideoFrame",value:function(e,t,i,n){return this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.context.drawImage(this.videoElement,0,0,this.canvas.width,this.canvas.height),this.context.getImageData(e,t,i,n)}}],[{key:"isAvailable",value:function(){if("undefined"!=typeof navigator&&navigator.mediaDevices){var e=navigator.mediaDevices;return!!(e.getUserMedia||e.mozGetUserMedia||e.msGetUserMedia||e.webkitGetUserMedia)}return!1}}]),t}(ji)),e("LiveRealityViewer",Yi=qi([N(Jt,ki,gi,Ti)],Yi)),Fi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("HostedRealityViewer",Gi=function(e){function t(e,i,n){Re(this,t);var r=jt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(r.sessionService=e,r.viewService=i,r.uri=n,r.type="hosted","undefined"!=typeof document&&document.createElement){var o=r.iframeElement=document.createElement("iframe");o.name=oe(),o.style.border="0",o.width="100%",o.height="100%",o.style.position="absolute",o.style.display="none";var s=r.viewService.element;s.insertBefore(o,s.firstChild)}return r}return xt(t,e),Ue(t,[{key:"destroy",value:function(){this.iframeElement&&this.iframeElement.remove()}},{key:"setPresenting",value:function(e){this.iframeElement.style.display=e?"initial":"none"}},{key:"load",value:function(){var e=this;xi(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this),this.iframeElement.src="",this.iframeElement.src=this.uri;var i=function t(i){if("ARGON_SESSION"===i.data.type){var n=i.data.name,r=i.ports&&i.ports[0];if(!r)throw new Error("Received an ARGON_SESSION message without a MessagePort object");n===e.iframeElement.name&&(window.removeEventListener("message",t),e.session.open(r,e.sessionService.configuration))}};window.addEventListener("message",i)}}]),t}(ji)),e("HostedRealityViewer",Gi=Fi([N(Jt,gi)],Gi)),Vi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},e("RealityViewerFactory",Wi=function(){function e(t,i,n){Re(this,e),this._createEmptyReality=t,this._createLiveReality=i,this._createHostedReality=n}return Ue(e,[{key:"createRealityViewer",value:function(e){switch(ji.getType(e)){case ji.EMPTY:var t=this._createEmptyReality();return t.uri=e,t;case ji.LIVE:var t=this._createLiveReality();return t.uri=e,t;case"hosted":var t=this._createHostedReality();return t.uri=e,t;default:throw new Error("Unsupported Reality Viewer URI: "+e)}}}]),e}()),e("RealityViewerFactory",Wi=Vi([N(ft.of(Oi),ft.of(Yi),ft.of(Gi))],Wi)),e("RealityService",Hi=function(){function e(t,i,n,r,o,s){var a=this;Re(this,e),this.sessionService=t,this.contextService=i,this.focusService=n,this.viewService=r,this.deviceService=o,this.realityViewerFactor=s,this._viewStateEvent=new zt,this._connectEvent=new zt,this._changeEvent=new zt,this._installedEvent=new zt,this._uninstalledEvent=new zt,this._geoposeSubscribers=new Set,this._viewerByURI=new Map,this._installersByURI=new Map,this._viewStateEvent.addEventListener(function(e){a.sessionService.isRealityViewer&&(a.sessionService.manager.isConnected&&a.sessionService.manager.send("ar.reality.viewState",e),e.reality="self"),a.deviceService.processViewState(e),a.contextService.processViewState(e)}),t.isRealityManager?(t.manager.connectEvent.addEventListener(function(){setTimeout(function(){!a._current&&a.default&&a._request(a.sessionService.manager)})}),this.viewService.forwardedUIEvent.addEventListener(function(e){var t=a._viewerByURI.get(a.current);t&&r.sendUIEventToSession(e,t.session)})):this.contextService.frameStateEvent.addEventListener(function(e){a._setPresentingReality(e.view.reality)}),t.connectEvent.addEventListener(function(e){St.isRealityViewer(e.info.role)||(e.on["ar.reality.install"]=function(t){var i=t.uri;return a._install(e,i)},e.on["ar.reality.uninstall"]=function(t){var i=t.uri;return a._uninstall(e,i)},e.on["ar.reality.request"]=function(t){var i=t.options;return a._request(e,i)},e.on["ar.reality.desired"]=function(t){var i=t.reality;if(i&&i.type){var n=i.type;i.uri=i.uri||"reality:"+n,"hosted"===n&&(i.uri=i.url)}a._request(e,i)}),e.closeEvent.addEventListener(function(){a._geoposeSubscribers.delete(e),a._checkGeoposeNeeded()})}),t.manager.on["ar.reality.connect"]=function(e){var t=e.id,i=a.sessionService.createSessionPort(t),n=a.sessionService.createSynchronousMessageChannel(),r="ar.reality.message.route."+t,o="ar.reality.message.send."+t,s="ar.reality.close."+t;n.port1.onmessage=function(e){a.sessionService.manager.send(r,e.data)},a.sessionService.manager.on[o]=function(e){n.port1.postMessage(e)},a.sessionService.manager.on[s]=function(){i.close()},i.connectEvent.addEventListener(function(){a.connectEvent.raiseEvent(i)}),a.sessionService.manager.closeEvent.addEventListener(function(){i.close(),delete a.sessionService.manager.on[o],delete a.sessionService.manager.on[s]}),i.open(n.port2,a.sessionService.configuration)}}return Ue(e,[{key:"publishFrame",value:function(e){throw new Error("publishFrame is deprecated. Use publishViewState()")}},{key:"publishViewState",value:function(e){this.sessionService.ensureIsRealityViewer(),this._viewStateEvent.raiseEvent(e)}},{key:"install",value:function(e){return this.sessionService.ensureNotRealityViewer(),this.sessionService.manager.request("ar.reality.install",{uri:e})}},{key:"_install",value:function(e,t){var i=this,n=this._installersByURI.get(t);this._installersByURI.set(t,n),n?n.add(e):!function(){var r=i.realityViewerFactor.createRealityViewer(t);i._viewerByURI.set(t,r),n=new Set,n.add(e),i._installersByURI.set(t,n),r.load();var o=r.session;if(o.isConnected)throw new Error("Expected an unconnected session");o.on["ar.reality.viewState"]=function(e){i.contextService.updateEntityFromSerializedPose(o.uri,e.pose),i._current===t&&(e.reality=t,i._viewStateEvent.raiseEvent(e))},o.on["ar.reality.frameState"]=function(e){},o.closeEvent.addEventListener(function(){i.contextService.entities.removeById(o.uri),console.log("Reality session closed: "+t)}),o.connectEvent.addEventListener(function(){if(!o.uri)throw new Error("RealityViewer session must have a uri");if(!St.isRealityViewer(o.info.role))throw o.sendError({message:"Expected a reality viewer"}),o.close(),new Error('The application "'+o.uri+'" does not support being loaded as a reality viewer');o.info.supportsCustomProtocols&&!function(){i._connectViewerWithSession(o,i.sessionService.manager);var t=!0,n=!1,r=void 0;try{for(var s,a=i.sessionService.managedSessions[Symbol.iterator]();!(t=(s=a.next()).done);t=!0)e=s.value,i._connectViewerWithSession(o,e)}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}var u=i.sessionService.connectEvent.addEventListener(function(e){i._connectViewerWithSession(o,e)});o.closeEvent.addEventListener(function(){return u()})}()}),i._viewerByURI.set(t,r),i._installedEvent.raiseEvent({uri:t})}()}},{key:"_connectViewerWithSession",value:function(e,t){if(!St.isRealityViewer(t.info.role)){var i=oe(),n="ar.reality.message.route."+i,r="ar.reality.message.send."+i,o="ar.reality.close."+i;e.on[n]=function(e){t.send(r,e)},t.on[n]=function(t){e.send(r,t)},e.send("ar.reality.connect",{id:i}),t.send("ar.reality.connect",{id:i}),e.closeEvent.addEventListener(function(){t.send(o)}),t.closeEvent.addEventListener(function(){e.send(o),e.close()})}}},{key:"uninstall",value:function(e){return this.sessionService.ensureNotRealityViewer(),this.sessionService.manager.request("ar.reality.uninstall",{uri:e})}},{key:"_uninstall",value:function(e,t){var i=this._installersByURI.get(t);if(i&&0===i.size){var n=this._viewerByURI.get(t);this._viewerByURI.delete(t),n.session.close(),n.destroy(),this._uninstalledEvent.raiseEvent({uri:t})}return Promise.reject(new Error("Unable to uninstall a reality viewer which is not installed"))}},{key:"request",value:function(e){return this.sessionService.ensureNotRealityViewer(),"string"==typeof e&&(e={uri:e}),this.sessionService.manager.request("ar.reality.request",{options:e})}},{key:"_request",value:function(e,t){if(t&&t.geopose?(this._geoposeSubscribers.add(e),this._checkGeoposeNeeded()):(this._geoposeSubscribers.delete(e),this._checkGeoposeNeeded()),this.focusService.session===e||e===this.sessionService.manager){if(t||(t={uri:this.default}),t&&t.uri){var i=this._viewerByURI.get(t.uri);return i||this._install(e,t.uri),void this._setPresentingReality(t.uri)}if(t&&t.geopose){var n=[],r=!0,o=!1,s=void 0;try{for(var a,u=this._viewerByURI.values()[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;n.push(this._checkViewerSessionForGeoposeSupport(c.session))}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}return Promise.all(n).then(function(e){var t=e.filter(function(e){return void 0!==e});if(t.length>0)return t[0];throw new Error("No installed viewers have geopose support")})}}throw new Error("Request Denied")}},{key:"_checkViewerSessionForGeoposeSupport",value:function(e){var t=e.uri;if("hosted"===ji.getType(t)){var i=this.contextService.entities.getById(t);if(!i)return Promise.resolve(void 0);var n=this.contextService.getEntityPose(i,Le.FIXED);return n.poseStatus&ri.KNOWN?Promise.resolve(e):Promise.resolve(void 0)}return this.deviceService.hasGeoposeCapability().then(function(t){return t?e:void 0})}},{key:"_checkGeoposeNeeded",value:function(){!this._geoposeNeeded&&this._geoposeSubscribers.size>0?(this._geoposeNeeded=!0,this.deviceService.startGeolocationUpdates(),this.deviceService.startOrientationUpdates()):this._geoposeNeeded&&0===this._geoposeSubscribers.size&&(this._geoposeNeeded=!1,this.deviceService.stopGeolocationUpdates(),this.deviceService.stopOrientationUpdates())}},{key:"setDesired",value:function(e){this.sessionService.ensureNotRealityViewer(),console.warn("RealityService#setDesired is deprecated. Use RealityService#request"),this.request(e)}},{key:"_setPresentingReality",value:function(e){if(!this._current||this._current!==e){this._viewerByURI.forEach(function(t){t.setPresenting(t.uri===e)});var t=this._current;this._current=e,this.changeEvent.raiseEvent({previous:t,current:e}),this.sessionService.isRealityManager&&console.log("Reality changed to: "+e)}}},{key:"getViewerByURI",value:function(e){return this._viewerByURI.get(e)}},{key:"viewStateEvent",get:function(){return this.sessionService.ensureNotRealityAugmenter(),this._viewStateEvent}},{key:"connectEvent",get:function(){return this._connectEvent}},{key:"changeEvent",get:function(){return this._changeEvent}},{key:"current",get:function(){return this._current}},{key:"installedEvent",get:function(){return this.sessionService.ensureIsRealityManager(),this._installedEvent}},{key:"uninstalledEvent",get:function(){return this.sessionService.ensureIsRealityManager(),this._uninstalledEvent}},{key:"geoposeNeeded",get:function(){return this._geoposeNeeded}}]),e}()),e("RealityService",Hi=Vi([N(Jt,ui,li,gi,Ti,Wi)],Hi)),Zi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Xi="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='768' height='768'%3E%3Cpath fill='white' d='M448.5 96H672v223.5h-64.5v-114L294 519l-45-45 313.5-313.5h-114V96zm159 511.5V384H672v223.5c0 34.5-30 64.5-64.5 64.5h-447c-36 0-64.5-30-64.5-64.5v-447C96 126 124.5 96 160.5 96H384v64.5H160.5v447h447z'/%3E%3C/svg%3E\")",Ki="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3E%3Cpath fill='white' d='M256 96C144.34 96 47.56 161.02 0 256c47.56 94.98 144.34 160 256 160 111.656 0 208.438-65.02 256-160-47.558-94.98-144.344-160-256-160zm126.225 84.852c30.08 19.187 55.57 44.887 74.717 75.148-19.146 30.26-44.637 55.96-74.718 75.148C344.427 355.258 300.78 368 256 368s-88.43-12.743-126.226-36.852c-30.08-19.186-55.57-44.886-74.716-75.148 19.146-30.262 44.637-55.962 74.717-75.148 1.96-1.25 3.938-2.46 5.93-3.65C130.725 190.866 128 205.612 128 221c0 70.69 57.308 128 128 128s128-57.31 128-128c0-15.387-2.726-30.134-7.704-43.8 1.99 1.19 3.97 2.402 5.93 3.652zM256 208c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48z'/%3E%3C/svg%3E\")",Ji="url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E)",$i='url(\'data:image/svg+xml;utf8,<svg width="512" height="512" version="1.1" viewBox="-3 -3 17 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g fill="white" id="Core" transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>\')',en="url(data:image/jpeg;base64,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)",
e("DefaultUIService",tn=function(){function e(t,i,n){var r=this;Re(this,e),this.sessionService=t,this.viewService=i,this.realityService=n,this.realityViewerItemElements=new Map,this.menuItems=[],this.menuOpen=!1;var o=this.sessionService.configuration.defaultUI||{};document&&!o.disable&&!function(){var e=document.createElement("style");e.type="text/css",document.head.insertBefore(e,document.head.firstChild);var t=e.sheet;t.insertRule("\n                .argon-ui {\n                    -webkit-tap-highlight-color: transparent;\n                    -webkit-user-select: none;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-button {\n                    background-image: "+en+";\n                    width: 144px;\n                    height: 144px;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-blur {\n                    background-color: rgba(238, 178, 17, 0.7);\n                    -webkit-backdrop-filter: blur(5px);\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-box {\n                    webkit-user-select: none;\n                    ms-user-select: none;\n                    user-select: none;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-list-item {\n                    align-items: center;\n                    background: white;\n                    border-top: 1px solid lightgrey;\n                    display: flex;\n                    height: 20px;\n                    justify-content: space-between;\n                    padding: 20px;\n                    width: 100%;\n                    cursor: pointer;\n                    font-family: 'Sans-serif';\n                    font-size: 12px;\n                    color: #5F5F5F;\n                    box-sizing: border-box;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-list-item:hover {\n                    background: rgb(240,240,240);\n                }\n            ",t.cssRules.length),r.element=document.createElement("div"),r.element.className="argon-ui",r.element.style.position="absolute",r.element.style.bottom="0",r.element.style.right="0",r.element.style.userSelect="none",r.element.style.webkitUserSelect="none",r.element.style.zIndex="10",r.viewService.containerElementPromise.then(function(e){r.sessionService.manager.isClosed||(e.appendChild(r.element),r.sessionService.manager.closeEvent.addEventListener(function(){r.element.remove()}))});var i=document.createElement("div");i.className="argon-overlay",i.style.width="100%",i.style.height="100%",i.style.display="flex",i.style.alignItems="center",i.addEventListener("click",function(e){e.target===i&&(i.remove(),e.stopPropagation())}),r.realityViewerSelectorElement=document.createElement("div"),r.realityViewerSelectorElement.classList.add("argon-ui-box"),r.realityViewerSelectorElement.classList.add("argon-ui-blur"),r.realityViewerSelectorElement.style.maxWidth="300px",r.realityViewerSelectorElement.style.maxHeight="70%",r.realityViewerSelectorElement.style.width="70%",r.realityViewerSelectorElement.style.margin="auto",r.realityViewerSelectorElement.style.padding="20px",r.realityViewerSelectorElement.style.boxShadow="rgb(102,102,102) 0 5px 20px",i.appendChild(r.realityViewerSelectorElement);var n=document.createElement("h2");n.innerText="Select a Reality",n.style.fontFamily="Sans-Serif",n.style.color="white",n.style.marginTop="0",n.style.flex="0 1 auto",r.realityViewerSelectorElement.appendChild(n),r.realityViewerListElement=document.createElement("div"),r.realityViewerListElement.style.flex="1 1 auto",r.realityViewerListElement.style.maxHeight="250px",r.realityViewerListElement.style.overflowY="auto",r.realityViewerSelectorElement.appendChild(r.realityViewerListElement),r.realityService.installedEvent.addEventListener(function(e){var t=e.uri,n=r.realityService.getViewerByURI(t),o=n.session,s=document.createElement("div");s.innerText=t,o.connectEvent.addEventListener(function(){s.innerText=o.info.title||t}),s.className="argon-ui-list-item",r.realityViewerItemElements.set(t,s),r.realityViewerListElement.appendChild(s),s.addEventListener("click",function(){r.realityService.request({uri:t}),i.remove()})}),r.realityService.uninstalledEvent.addEventListener(function(e){var t=e.uri,i=r.realityViewerItemElements.get(t);r.realityViewerItemElements.delete(t),i.remove()}),r.menuBackgroundElement=document.createElement("div"),r.menuBackgroundElement.className="argon-ui-blur",r.menuBackgroundElement.style.position="absolute",r.menuBackgroundElement.style.bottom="-150px",r.menuBackgroundElement.style.right="-150px",r.menuBackgroundElement.style.width="300px",r.menuBackgroundElement.style.height="300px",r.menuBackgroundElement.style.transform="scale(0.1)",r.menuBackgroundElement.style.transition="transform 0.3s, opacity 0.3s",r.menuBackgroundElement.style.borderRadius="150px",r.menuBackgroundElement.style.zIndex="-2",r.element.appendChild(r.menuBackgroundElement);var o=document.createElement("div");r.element.appendChild(o),o.className="argon-ui-button",o.style.position="absolute",o.style.bottom="0",o.style.right="0",o.style.transform="scale(0.36)",o.style.transformOrigin="110% 110%",o.style.borderRadius="72px",o.style.cursor="pointer",o.style.pointerEvents="auto",o.style.zIndex="-1",r.openInArgonMenuItem=r._createMenuItem(Xi,"Open in Argon",function(){r.menuOpen=!1,r.updateMenu(),U()}),r.hmdMenuItem=r._createMenuItem(Ji,"Toggle Immersive Display",function(){r.menuOpen=!1,r.updateMenu(),r.viewService._isHmdActive()?r.viewService.requestExitHmd():r.viewService._isFullscreen()?r.viewService.requestExitFullscreen():Ft||navigator.vrEnabled?r.viewService.requestEnterHmd():r.viewService.requestEnterFullscreen()}),r.realityMenuItem=r._createMenuItem(Ki,"Select Reality Viewer...",function(){r.menuOpen=!1,r.updateMenu(),i.style.backgroundColor="rgba(0,0,0,0.3)",r.element.appendChild(i)}),r.maximizeMenuItem=r._createMenuItem($i,"Toggle Maximized View",function(){r.menuOpen=!1,r.updateMenu(),r.viewService.isMaximized().then(function(e){e?r.viewService.requestExitMaximized():r.viewService.requestEnterMaximized()})}),r.onSelect(o,r.toggleMenu.bind(r)),r.updateMenu(),r.viewService.viewportChangeEvent.addEventListener(function(){r.updateMenu()})}()}return Ue(e,[{key:"_createMenuItem",value:function(e,t,i){var n=document.createElement("div");return n.style.position="absolute",n.style.bottom="-20px",n.style.right="-20px",n.style.textAlign="left",n.style.width="40px",n.style.height="40px",n.style.fontFamily="Arial Black",n.style.color="black",n.style.cursor="default",n.style.textShadow="-1px -1px 0px #545454, 1px -1px 0px #545454, -1px 1px 0px #545454, 1px 1px 0px #545454",n.style.transition="transform 0.3s ease 0.1s, opacity 0.3s ease 0.1s",n.style.opacity="0",n.style.pointerEvents="none",n.style.transformOrigin="50% 50%",n.style.backgroundImage=e,n.style.backgroundSize="100% 100%",n.style.backgroundRepeat="no-repeat",n.style.zIndex="2",n.style.cursor="pointer",this.element.appendChild(n),n.title=t,i&&this.onSelect(n,i),n.addEventListener("mouseenter",function(){n.style.color="#eeb211"}),n.addEventListener("mouseleave",function(){n.style.color="white"}),n}},{key:"onSelect",value:function(e,t){e.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),t()}),e.addEventListener("click",function(e){e.stopPropagation(),t()})}},{key:"toggleMenu",value:function(){this.menuOpen?this.menuOpen=!1:this.menuOpen=!0,this.updateMenu()}},{key:"updateMenu",value:function(){var e=this;this.viewService._isHmdActive()?this.element.style.display="none":this.element.style.display="block",this.menuItems=[],this.menuItems.push(null),Ft&&this.menuItems.push(this.openInArgonMenuItem),document.documentElement.clientWidth===this.viewService.element.clientWidth&&document.documentElement.clientHeight===this.viewService.element.clientHeight||this.menuItems.push(this.maximizeMenuItem),this.menuItems.push(this.hmdMenuItem),this.realityViewerItemElements.size>0&&this.menuItems.push(this.realityMenuItem),this.menuItems.push(null),this.menuOpen?!function(){var t=e.menuItems.length;e.menuItems.forEach(function(e,i){if(e){var n=i/(t-1)*(Math.PI/2+Math.PI/8)-Math.PI/16,r=100,o=r*Math.cos(n),s=r*Math.sin(n);e.style.transform="translateX("+-o+"px) translateY("+-s+"px) scale(0.8)",e.style.opacity="1",e.style.pointerEvents="auto"}}),e.menuBackgroundElement.style.transform="scale(1)"}():(this.menuItems.forEach(function(e,t){e&&(e.style.transform="scale(0.2)",e.style.opacity="0",e.style.pointerEvents="none")}),this.menuBackgroundElement.style.transform="scale(0.1)")}}]),e}()),e("DefaultUIService",tn=Zi([N(Jt,gi,Hi)],tn)),e("ArgonSystem",nn=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Dt;Re(this,e),this.container=n,e.instance||(e.instance=this),n.registerInstance(wi,t||wi),n.registerInstance("config",i),n.hasResolver("containerElement")||n.registerInstance("containerElement",null),St.isRealityManager(i.role)?(n.registerSingleton(Kt,$t),"undefined"!=typeof document&&n.get(tn),this.reality.default=ji.EMPTY):ii.isAvailable()?n.registerSingleton(Kt,ii):ei.isAvailable()?n.registerSingleton(Kt,ei):ti.isAvailable()&&n.registerSingleton(Kt,ti);var r=!0,o=!1,s=void 0;try{for(var a,u=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;this[c]}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}this.session.connect()}return Ue(e,[{key:"destroy",value:function(){this.session.manager.close(),e.instance===this&&(e.instance=void 0)}},{key:"context",get:function(){return this.container.get(ui)}},{key:"device",get:function(){return this.container.get(Ti)}},{key:"focus",get:function(){return this.container.get(li)}},{key:"reality",get:function(){return this.container.get(Hi)}},{key:"session",get:function(){return this.container.get(Jt)}},{key:"view",get:function(){return this.container.get(gi)}},{key:"vuforia",get:function(){return this.container.get(Ri)}},{key:"updateEvent",get:function(){return this.context.updateEvent}},{key:"renderEvent",get:function(){return this.context.renderEvent}},{key:"focusEvent",get:function(){return this.focus.focusEvent}},{key:"blurEvent",get:function(){return this.focus.blurEvent}}]),e}()),e("DI",mt),e("Cesium",Nt),e("RealityViewer",ji),e("EmptyRealityViewer",Oi),e("LiveRealityViewer",Yi),e("HostedRealityViewer",Gi),e("ArgonSystem",nn),e("init",B),e("initRealityViewer",q),e("initUnshared",Y),e("Role",St),e("Viewport",Ot),e("SubviewType",Ct),e("PoseStatus",ri),e("ContextService",ui),e("DeviceService",Ti),e("FocusService",li),e("RealityViewerFactory",Wi),e("RealityService",Hi),e("version",Wt),e("SessionPort",Zt),e("SessionPortFactory",Xt),e("ConnectService",Kt),e("SessionService",Jt),e("LoopbackConnectService",$t),e("DOMConnectService",ei),e("DebugConnectService",ti),e("WKWebViewConnectService",ii),e("DefaultUIService",tn),e("Event",zt),e("CommandQueue",_t),e("getAncestorReferenceFrames",L),e("getEntityPositionInReferenceFrame",j),e("getEntityPosition",bt),e("getEntityOrientationInReferenceFrame",x),e("getEntityOrientation",kt),e("getSerializedEntityPose",S),e("resolveURL",O),e("parseURL",C),e("resolveElement",z),e("getWindowViewport",_),e("MessageChannelLike",Ut),e("SynchronousMessageChannel",Pt),e("MessageChannelFactory",Qt),e("decomposePerspectiveOffCenterProjectionMatrix",b),e("decomposePerspectiveProjectionMatrix",k),e("convertEntityReferenceFrame",R),e("isIOS",Ft),e("openInArgonApp",U),e("requestAnimationFrame",Vt),e("PresentationMode",Mi),e("ContainerElement",wi),e("ViewService",gi),e("VuforiaInitResult",zi),e("VuforiaHint",_i),e("VuforiaServiceDelegateBase",bi),e("VuforiaServiceDelegate",ki),e("VuforiaService",Ri),e("VuforiaAPI",Ui),e("VuforiaTracker",Pi),e("VuforiaObjectTracker",Qi),e("VuforiaDataSet",Bi)}}})})(function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():Argon=e()});
=======
},i.exports=n,i.exports}),e.registerDynamic("6d",[],!0,function(e,t,i){function n(){this.callbacks={}}this||self;return n.prototype.emit=function(e){var t=this.callbacks[e];if(t){var i=[].slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(this,i)}},n.prototype.on=function(e,t){e in this.callbacks?this.callbacks[e].push(t):this.callbacks[e]=[t]},i.exports=n,i.exports}),e.registerDynamic("6e",[],!0,function(e,t,i){function n(e){this.coefficients=e}this||self;return n.prototype.distortInverse=function(e){for(var t=0,i=1,n=e-this.distort(t);Math.abs(i-t)>1e-4;){var r=e-this.distort(i),o=i-r*((i-t)/(r-n));t=i,i=o,n=r}return i},n.prototype.distort=function(e){for(var t=e*e,i=0,n=0;n<this.coefficients.length;n++)i=t*(i+this.coefficients[n]);return(i+1)*e},n.prototype.solveLinear_=function(e,t){for(var i=e.length,n=0;n<i-1;++n)for(var r=n+1;r<i;++r){for(var o=e[n][r]/e[n][n],s=n+1;s<i;++s)e[s][r]-=o*e[s][n];t[r]-=o*t[n]}for(var a=new Array(i),n=i-1;n>=0;--n){for(var u=t[n],s=n+1;s<i;++s)u-=e[s][n]*a[s];a[n]=u/e[n][n]}return a},n.prototype.solveLeastSquares_=function(e,t){var i,n,r,o,s=e.length,a=e[0].length;if(s!=t.Length)throw new Error("Matrix / vector dimension mismatch");var u=new Array(a);for(r=0;r<a;++r)for(u[r]=new Array(a),n=0;n<a;++n){for(o=0,i=0;i<s;++i)o+=e[n][i]*e[r][i];u[r][n]=o}var c=new Array(a);for(n=0;n<a;++n){for(o=0,i=0;i<s;++i)o+=e[n][i]*t[i];c[n]=o}return this.solveLinear_(u,c)},n.prototype.approximateInverse=function(e,t){e=e||1,t=t||100;var i,r,o=6,s=new Array(o);for(r=0;r<o;++r)s[r]=new Array(t);var a=new Array(t);for(i=0;i<t;++i){var u=e*(i+1)/t,c=this.distort(u),l=c;for(r=0;r<o;++r)l*=c*c,s[r][i]=l;a[i]=u-c}var f=this.solveLeastSquares_(s,a);return new n(f)},i.exports=n,i.exports}),e.registerDynamic("6f",["6e","68","62"],!0,function(e,t,i){function n(e){this.width=e.width||u.getScreenWidth(),this.height=e.height||u.getScreenHeight(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function r(e){this.viewer=f.CardboardV2,this.updateDeviceParams(e),this.distortion=new s(this.viewer.distortionCoefficients)}function o(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}var s=(this||self,e("6e")),a=e("68"),u=e("62"),c=new n({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),l=new n({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),f={CardboardV1:new o({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new o({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};return r.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},r.prototype.getDevice=function(){return this.device},r.prototype.setViewer=function(e){this.viewer=e,this.distortion=new s(this.viewer.distortionCoefficients)},r.prototype.determineDevice_=function(e){if(!e)return u.isIOS()?(console.warn("Using fallback iOS device measurements."),l):(console.warn("Using fallback Android device measurements."),c);var t=.0254,i=t/e.xdpi,r=t/e.ydpi,o=u.getScreenWidth(),s=u.getScreenHeight();return new n({widthMeters:i*o,heightMeters:r*s,bevelMeters:.001*e.bevelMm})},r.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=(t.widthMeters-e.interLensDistance)/2,o=e.interLensDistance/2,s=e.baselineLensDistance-t.bevelMeters,u=t.heightMeters-s,c=a.radToDeg*Math.atan(i.distort(r/n)),l=a.radToDeg*Math.atan(i.distort(o/n)),f=a.radToDeg*Math.atan(i.distort(s/n)),h=a.radToDeg*Math.atan(i.distort(u/n));return{leftDegrees:Math.min(c,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(f,e.fov),upDegrees:Math.min(h,e.fov)}},r.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=Math.tan(-a.degToRad*e.fov),r=Math.tan(a.degToRad*e.fov),o=Math.tan(a.degToRad*e.fov),s=Math.tan(-a.degToRad*e.fov),u=t.widthMeters/4,c=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-c,f=e.interLensDistance/2-u,h=-l,d=e.screenLensDistance,M=i.distort((f-u)/d),w=i.distort((h+c)/d),g=i.distort((f+u)/d),y=i.distort((h-c)/d),p=new Float32Array(4);return p[0]=Math.max(n,M),p[1]=Math.min(r,w),p[2]=Math.min(o,g),p[3]=Math.max(s,y),p},r.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,i=this.distortion,n=new Float32Array(4),r=i.distortInverse(Math.tan(-a.degToRad*e.fov)),o=i.distortInverse(Math.tan(a.degToRad*e.fov)),s=i.distortInverse(Math.tan(a.degToRad*e.fov)),u=i.distortInverse(Math.tan(-a.degToRad*e.fov)),c=t.widthMeters/4,l=t.heightMeters/2,f=e.baselineLensDistance-t.bevelMeters-l,h=e.interLensDistance/2-c,d=-f,M=e.screenLensDistance,w=(h-c)/M,g=(d+l)/M,y=(h+c)/M,p=(d-l)/M;return n[0]=Math.max(r,w),n[1]=Math.min(o,g),n[2]=Math.min(s,y),n[3]=Math.max(u,p),n},r.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,i=this.device,n=t.screenLensDistance,r=(i.widthMeters-t.interLensDistance)/2,o=t.baselineLensDistance-i.bevelMeters,s=(e[0]*n+r)/i.widthMeters,a=(e[1]*n+o)/i.heightMeters,u=(e[2]*n+r)/i.widthMeters,c=(e[3]*n+o)/i.heightMeters;return{x:s,y:c,width:u-s,height:a-c}},r.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},r.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},r.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:a.radToDeg*Math.atan(e.outerDist),rightDegrees:a.radToDeg*Math.atan(e.innerDist),downDegrees:a.radToDeg*Math.atan(e.bottomDist),upDegrees:a.radToDeg*Math.atan(e.topDist)}},r.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,i=this.device,n=t.screenLensDistance,r=i.widthMeters/n,o=i.heightMeters/n,s=i.width/r,a=i.height/o,u=Math.round((e.eyePosX-e.outerDist)*s),c=Math.round((e.eyePosY-e.bottomDist)*a);return{x:u,y:c,width:Math.round((e.eyePosX+e.innerDist)*s)-u,height:Math.round((e.eyePosY+e.topDist)*a)-c}},r.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,i=this.distortion,n=e.screenLensDistance,r=e.interLensDistance/2/n,o=t.widthMeters/n,s=t.heightMeters/n,u=o/2-r,c=(e.baselineLensDistance-t.bevelMeters)/n,l=e.fov,f=i.distortInverse(Math.tan(a.degToRad*l)),h=Math.min(u,f),d=Math.min(r,f),M=Math.min(c,f),w=Math.min(s-c,f);return{outerDist:h,innerDist:d,topDist:w,bottomDist:M,eyePosX:u,eyePosY:c}},r.Viewers=f,i.exports=r,i.exports}),e.registerDynamic("70",["6d","62","6f"],!0,function(e,t,i){function n(){try{this.selectedKey=localStorage.getItem(a)||s}catch(e){console.error("Failed to load viewer profile: %s",e)}this.dialog=this.createDialog_(o.Viewers),this.root=null}var r=(this||self,e("6d")),o=(e("62"),e("6f")),s="CardboardV1",a="WEBVR_CARDBOARD_VIEWER",u="webvr-polyfill-viewer-selector";return n.prototype=new r,n.prototype.show=function(e){this.root=e,e.appendChild(this.dialog);var t=this.dialog.querySelector("#"+this.selectedKey);t.checked=!0,this.dialog.style.display="block"},n.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},n.prototype.getCurrentViewer=function(){return o.Viewers[this.selectedKey]},n.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},n.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!o.Viewers[this.selectedKey])return void console.error("ViewerSelector.onSave_: this should never happen!");this.emit("change",o.Viewers[this.selectedKey]);try{localStorage.setItem(a,this.selectedKey)}catch(e){console.error("Failed to save viewer profile: %s",e)}this.hide()},n.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add(u),t.style.display="none";var i=document.createElement("div"),n=i.style;n.position="fixed",n.left=0,n.top=0,n.width="100%",n.height="100%",n.background="rgba(0, 0, 0, 0.3)",i.addEventListener("click",this.hide.bind(this));var r=280,o=document.createElement("div"),n=o.style;n.boxSizing="border-box",n.position="fixed",n.top="24px",n.left="50%",n.marginLeft=-r/2+"px",n.width=r+"px",n.padding="24px",n.overflow="hidden",n.background="#fafafa",n.fontFamily="'Roboto', sans-serif",n.boxShadow="0px 5px 20px #666",o.appendChild(this.createH1_("Select your viewer"));for(var s in e)o.appendChild(this.createChoice_(s,e[s].label));return o.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(i),t.appendChild(o),t},n.prototype.createH1_=function(e){var t=document.createElement("h1"),i=t.style;return i.color="black",i.fontSize="20px",i.fontWeight="bold",i.marginTop=0,i.marginBottom="24px",t.innerHTML=e,t},n.prototype.createChoice_=function(e,t){var i=document.createElement("div");i.style.marginTop="8px",i.style.color="black";var n=document.createElement("input");n.style.fontSize="30px",n.setAttribute("id",e),n.setAttribute("type","radio"),n.setAttribute("value",e),n.setAttribute("name","field");var r=document.createElement("label");return r.style.marginLeft="4px",r.setAttribute("for",e),r.innerHTML=t,i.appendChild(n),i.appendChild(r),i},n.prototype.createButton_=function(e,t){var i=document.createElement("button");i.innerHTML=e;var n=i.style;return n.float="right",n.textTransform="uppercase",n.color="#1094f7",n.fontSize="14px",n.letterSpacing=0,n.border=0,n.background="none",n.marginTop="16px",i.addEventListener("click",t),i},i.exports=n,i.exports}),e.registerDynamic("71",["60","61","6f","65","6b","6c","70","72","62"],!0,function(e,t,i){function n(){this.displayName="Cardboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,this.capabilities.canPresent=!0,this.bufferScale_=WebVRConfig.BUFFER_SCALE,this.poseSensor_=new u,this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new a(!0,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new s(this.dpdb_.getDeviceParams()),this.viewerSelector_=new l,this.viewerSelector_.on("change",this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),WebVRConfig.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new c),h.isIOS()&&window.addEventListener("resize",this.onResize_.bind(this))}var r=(this||self,e("60")),o=e("61"),s=e("6f"),a=e("65"),u=e("6b"),c=e("6c"),l=e("70"),f=e("72").VRDisplay,h=e("62"),d={LEFT:"left",RIGHT:"right"};return n.prototype=new f,n.prototype.getImmediatePose=function(){return{position:this.poseSensor_.getPosition(),orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},n.prototype.resetPose=function(){this.poseSensor_.resetPose()},n.prototype.getEyeParameters=function(e){var t,i=[.5*this.deviceInfo_.viewer.interLensDistance,0,0];if(e==d.LEFT)i[0]*=-1,t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=d.RIGHT)return console.error("Invalid eye provided: %s",e),null;t=this.deviceInfo_.getFieldOfViewRightEye()}return{fieldOfView:t,offset:i,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_}},n.prototype.onDeviceParamsUpdated_=function(e){console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},n.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},n.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?WebVRConfig.CARDBOARD_UI_DISABLED||(e.canvas.width=h.getScreenWidth()*this.bufferScale_,e.canvas.height=h.getScreenHeight()*this.bufferScale_,this.cardboardUI_=new o(e)):(this.distorter_=new r(e),this.distorter_.updateDeviceInfo(this.deviceInfo_),this.cardboardUI_=this.distorter_.cardboardUI),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(h.isLandscapeMode()&&h.isMobile()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},n.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},n.prototype.submitFrame=function(e){if(this.distorter_)this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},n.prototype.onOrientationChange_=function(e){console.log("onOrientationChange_"),this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},n.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),i=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0 10px 10px 0"];t.canvas.setAttribute("style",i.join("; ")+";"),h.safariCssSizeWorkaround(t.canvas)}},n.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},n.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},i.exports=n,i.exports}),e.registerDynamic("68",[],!0,function(e,t,i){var n=(this||self,window.MathUtil||{});return n.degToRad=Math.PI/180,n.radToDeg=180/Math.PI,n.Vector2=function(e,t){this.x=e||0,this.y=t||0},n.Vector2.prototype={constructor:n.Vector2,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},n.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},n.Vector3.prototype={constructor:n.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,s=e.z,a=e.w,u=a*t+o*n-s*i,c=a*i+s*t-r*n,l=a*n+r*i-o*t,f=-r*t-o*i-s*n;return this.x=u*a+f*-r+c*-s-l*-o,this.y=c*a+f*-o+l*-r-u*-s,this.z=l*a+f*-s+u*-o-c*-r,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=n*a-r*s,this.y=r*o-i*a,this.z=i*s-n*o,this}},n.Quaternion=function(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1},n.Quaternion.prototype={constructor:n.Quaternion,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u+s*a*o,this.w=n*r*o-s*a*u,this},setFromEulerYXZ:function(e,t,i){var n=Math.cos(e/2),r=Math.cos(t/2),o=Math.cos(i/2),s=Math.sin(e/2),a=Math.sin(t/2),u=Math.sin(i/2);return this.x=s*r*o+n*a*u,this.y=n*a*o-s*r*u,this.z=n*r*u-s*a*o,this.w=n*r*o+s*a*u,this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(i),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e.x,n=e.y,r=e.z,o=e.w,s=t.x,a=t.y,u=t.z,c=t.w;return this.x=i*c+o*s+n*u-r*a,this.y=n*c+o*a+r*s-i*u,this.z=r*c+o*u+i*a-n*s,this.w=o*c-i*s-n*a-r*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this.x,n=this.y,r=this.z,o=this.w,s=o*e.w+i*e.x+n*e.y+r*e.z;if(s<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,s=-s):this.copy(e),s>=1)return this.w=o,this.x=i,this.y=n,this.z=r,this;var a=Math.acos(s),u=Math.sqrt(1-s*s);if(Math.abs(u)<.001)return this.w=.5*(o+this.w),this.x=.5*(i+this.x),this.y=.5*(n+this.y),this.z=.5*(r+this.z),this;var c=Math.sin((1-t)*a)/u,l=Math.sin(t*a)/u;return this.w=o*c+this.w*l,this.x=i*c+this.x*l,this.y=n*c+this.y*l,this.z=r*c+this.z*l,this},setFromUnitVectors:function(){var e,t,i=1e-6;return function(r,o){return void 0===e&&(e=new n.Vector3),t=r.dot(o)+1,t<i?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,o),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()},i.exports=n,i.exports}),e.registerDynamic("73",["72","68","62"],!0,function(e,t,i){function n(){this.displayName="Mouse and Keyboard VRDisplay (webvr-polyfill)",this.capabilities.hasOrientation=!0,window.addEventListener("keydown",this.onKeyDown_.bind(this)),window.addEventListener("mousemove",this.onMouseMove_.bind(this)),window.addEventListener("mousedown",this.onMouseDown_.bind(this)),window.addEventListener("mouseup",this.onMouseUp_.bind(this)),this.phi_=0,this.theta_=0,this.targetAngle_=null,this.angleAnimation_=null,this.orientation_=new o.Quaternion,this.rotateStart_=new o.Vector2,this.rotateEnd_=new o.Vector2,this.rotateDelta_=new o.Vector2,this.isDragging_=!1,this.orientationOut_=new Float32Array(4)}var r=(this||self,e("72").VRDisplay),o=e("68"),s=e("62"),a=.15,u=80,c=.5,l=.3;return n.prototype=new r,n.prototype.getImmediatePose=function(){return this.orientation_.setFromEulerYXZ(this.phi_,this.theta_,0),this.orientationOut_[0]=this.orientation_.x,this.orientationOut_[1]=this.orientation_.y,this.orientationOut_[2]=this.orientation_.z,this.orientationOut_[3]=this.orientation_.w,{position:null,orientation:this.orientationOut_,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},n.prototype.onKeyDown_=function(e){38==e.keyCode?this.animatePhi_(this.phi_+a):39==e.keyCode?this.animateTheta_(this.theta_-a):40==e.keyCode?this.animatePhi_(this.phi_-a):37==e.keyCode&&this.animateTheta_(this.theta_+a)},n.prototype.animateTheta_=function(e){this.animateKeyTransitions_("theta_",e)},n.prototype.animatePhi_=function(e){e=s.clamp(e,-Math.PI/2,Math.PI/2),this.animateKeyTransitions_("phi_",e)},n.prototype.animateKeyTransitions_=function(e,t){this.angleAnimation_&&cancelAnimationFrame(this.angleAnimation_);var i=this[e],n=new Date;this.angleAnimation_=requestAnimationFrame(function r(){var o=new Date-n;if(o>=u)return this[e]=t,void cancelAnimationFrame(this.angleAnimation_);this.angleAnimation_=requestAnimationFrame(r.bind(this));var s=o/u;this[e]=i+(t-i)*s}.bind(this))},n.prototype.onMouseDown_=function(e){this.rotateStart_.set(e.clientX,e.clientY),this.isDragging_=!0},n.prototype.onMouseMove_=function(e){if(this.isDragging_||this.isPointerLocked_()){if(this.isPointerLocked_()){var t=e.movementX||e.mozMovementX||0,i=e.movementY||e.mozMovementY||0;this.rotateEnd_.set(this.rotateStart_.x-t,this.rotateStart_.y-i)}else this.rotateEnd_.set(e.clientX,e.clientY);this.rotateDelta_.subVectors(this.rotateEnd_,this.rotateStart_),this.rotateStart_.copy(this.rotateEnd_),this.phi_+=2*Math.PI*this.rotateDelta_.y/screen.height*l,this.theta_+=2*Math.PI*this.rotateDelta_.x/screen.width*c,this.phi_=s.clamp(this.phi_,-Math.PI/2,Math.PI/2)}},n.prototype.onMouseUp_=function(e){this.isDragging_=!1},n.prototype.isPointerLocked_=function(){var e=document.pointerLockElement||document.mozPointerLockElement||document.webkitPointerLockElement;return void 0!==e},n.prototype.resetPose=function(){this.phi_=0,this.theta_=0},i.exports=n,i.exports}),e.registerDynamic("74",[],!0,function(e,t,i){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var o=(this||self,Object.prototype.hasOwnProperty),s=Object.prototype.propertyIsEnumerable;return i.exports=r()?Object.assign:function(e,t){for(var i,r,a=n(e),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)o.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var l=0;l<r.length;l++)s.call(i,r[l])&&(a[r[l]]=i[r[l]])}}return a},i.exports}),e.registerDynamic("62",["74"],!0,function(e,t,i){var n=(this||self,e("74")),r=window.Util||{};return r.MIN_TIMESTEP=.001,r.MAX_TIMESTEP=1,r.base64=function(e,t){return"data:"+e+";base64,"+t},r.clamp=function(e,t,i){return Math.min(Math.max(t,e),i)},r.lerp=function(e,t,i){return e+(t-e)*i},r.isIOS=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),r.isSafari=function(){var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return e}}(),r.isFirefoxAndroid=function(){var e=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return e}}(),r.isLandscapeMode=function(){return 90==window.orientation||window.orientation==-90},r.isTimestampDeltaValid=function(e){return!isNaN(e)&&(!(e<=r.MIN_TIMESTEP)&&!(e>r.MAX_TIMESTEP))},r.getScreenWidth=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},r.getScreenHeight=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},r.requestFullscreen=function(e){if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},r.exitFullscreen=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},r.getFullscreenElement=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},r.linkProgram=function(e,t,i,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,i),e.compileShader(o);var s=e.createProgram();e.attachShader(s,r),e.attachShader(s,o);for(var a in n)e.bindAttribLocation(s,n[a],a);return e.linkProgram(s),e.deleteShader(r),e.deleteShader(o),s},r.getProgramUniforms=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r="",o=0;o<n;o++){var s=e.getActiveUniform(t,o);r=s.name.replace("[0]",""),i[r]=e.getUniformLocation(t,r)}return i},r.orthoMatrix=function(e,t,i,n,r,o,s){var a=1/(t-i),u=1/(n-r),c=1/(o-s);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(r+n)*u,e[14]=(s+o)*c,e[15]=1,e},r.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},r.extend=n,r.safariCssSizeWorkaround=function(e){if(r.isIOS()){var t=e.style.width,i=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(i)+"px",console.log("Resetting width to...",t),setTimeout(function(){console.log("Done. Width is now",t),e.style.width=t,e.style.height=i},100)}window.Util=r,window.canvas=e},r.frameDataFromPose=function(){function e(e,t,i,n){var s=Math.tan(t?t.upDegrees*r:o),a=Math.tan(t?t.downDegrees*r:o),u=Math.tan(t?t.leftDegrees*r:o),c=Math.tan(t?t.rightDegrees*r:o),l=2/(u+c),f=2/(s+a);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=f,e[6]=0,e[7]=0,e[8]=-((u-c)*l*.5),e[9]=(s-a)*f*.5,e[10]=n/(i-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i/(i-n),e[15]=0,e}function t(e,t,i){var n=t[0],r=t[1],o=t[2],s=t[3],a=n+n,u=r+r,c=o+o,l=n*a,f=n*u,h=n*c,d=r*u,M=r*c,w=o*c,g=s*a,y=s*u,p=s*c;return e[0]=1-(d+w),e[1]=f+p,e[2]=h-y,e[3]=0,e[4]=f-p,e[5]=1-(l+w),e[6]=M+g,e[7]=0,e[8]=h+y,e[9]=M-g,e[10]=1-(l+d),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function i(e,t,i){var n,r,o,s,a,u,c,l,f,h,d,M,w=i[0],g=i[1],y=i[2];return t===e?(e[12]=t[0]*w+t[4]*g+t[8]*y+t[12],e[13]=t[1]*w+t[5]*g+t[9]*y+t[13],e[14]=t[2]*w+t[6]*g+t[10]*y+t[14],e[15]=t[3]*w+t[7]*g+t[11]*y+t[15]):(n=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=t[10],M=t[11],e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=a,e[5]=u,e[6]=c,e[7]=l,e[8]=f,e[9]=h,e[10]=d,e[11]=M,e[12]=n*w+a*g+f*y+t[12],e[13]=r*w+u*g+h*y+t[13],e[14]=o*w+c*g+d*y+t[14],e[15]=s*w+l*g+M*y+t[15]),e}function n(n,r,o,u,c){e(n,u?u.fieldOfView:null,c.depthNear,c.depthFar);var l=o.orientation||s,f=o.position||a;t(r,l,f),u&&i(r,r,u.offset),mat4_invert(r,r)}var r=Math.PI/180,o=.25*Math.PI;mat4_invert=function(e,t){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=t[8],f=t[9],h=t[10],d=t[11],M=t[12],w=t[13],g=t[14],y=t[15],p=i*a-n*s,A=i*u-r*s,v=i*c-o*s,m=n*u-r*a,D=n*c-o*a,E=r*c-o*u,N=l*w-f*M,I=l*g-h*M,T=l*y-d*M,L=f*g-h*w,j=f*y-d*w,x=h*y-d*g,S=p*x-A*j+v*L+m*T-D*I+E*N;return S?(S=1/S,e[0]=(a*x-u*j+c*L)*S,e[1]=(r*j-n*x-o*L)*S,e[2]=(w*E-g*D+y*m)*S,e[3]=(h*D-f*E-d*m)*S,e[4]=(u*T-s*x-c*I)*S,e[5]=(i*x-r*T+o*I)*S,e[6]=(g*v-M*E-y*A)*S,e[7]=(l*E-h*v+d*A)*S,e[8]=(s*j-a*T+c*N)*S,e[9]=(n*T-i*j-o*N)*S,e[10]=(M*D-w*v+y*p)*S,e[11]=(f*v-l*D-d*p)*S,e[12]=(a*I-s*L-u*N)*S,e[13]=(i*L-n*I+r*N)*S,e[14]=(w*A-M*m-g*p)*S,e[15]=(l*m-f*A+h*p)*S,e):null};var s=new Float32Array([0,0,0,1]),a=new Float32Array([0,0,0]);return function(e,t,i){return!(!e||!t)&&(e.pose=t,e.timestamp=t.timestamp,n(e.leftProjectionMatrix,e.leftViewMatrix,t,i.getEyeParameters("left"),i),n(e.rightProjectionMatrix,e.rightViewMatrix,t,i.getEyeParameters("right"),i),!0)}}(),i.exports=r,i.exports}),e.registerDynamic("75",["62"],!0,function(e,t,i){function n(){var e=document.createElement("video");e.addEventListener("ended",function(){e.play()}),this.request=function(){e.paused&&(e.src=s.base64("video/mp4","AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAM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"),
e.play())},this.release=function(){e.pause(),e.src=""}}function r(){var e=null;this.request=function(){e||(e=setInterval(function(){window.location=window.location,setTimeout(window.stop,0)},3e4))},this.release=function(){e&&(clearInterval(e),e=null)}}function o(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPhone/i)||e.match(/iPod/i)?r:n}var s=(this||self,e("62"));return i.exports=o(),i.exports}),e.registerDynamic("72",["62","75"],!0,function(e,t,i){function n(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function r(){this.isPolyfilled=!0,this.displayId=l++,this.displayName="webvr-polyfill displayName",this.depthNear=.01,this.depthFar=1e4,this.isConnected=!0,this.isPresenting=!1,this.capabilities={hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1},this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,this.wakelock_=new c}function o(){this.isPolyfilled=!0,this.hardwareUnitId="webvr-polyfill hardwareUnitId",this.deviceId="webvr-polyfill deviceId",this.deviceName="webvr-polyfill deviceName"}function s(){}function a(){}var u=(this||self,e("62")),c=e("75"),l=1e3,f=!1,h=[0,0,.5,1],d=[.5,0,.5,1];return r.prototype.getFrameData=function(e){return u.frameDataFromPose(e,this.getPose(),this)},r.prototype.getPose=function(){return this.getImmediatePose()},r.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},r.prototype.cancelAnimationFrame=function(e){return window.cancelAnimationFrame(e)},r.prototype.wrapForFullscreen=function(e){function t(){if(r.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}if(u.isIOS())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var i=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",i.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;this.removeFullscreenWrapper(),this.fullscreenElement_=e;var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_),this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;return t(),this.fullscreenWrapper_},r.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),t.insertBefore(e,this.fullscreenWrapper_),t.removeChild(this.fullscreenWrapper_),e}},r.prototype.requestPresent=function(e){var t=this.isPresenting,i=this;return e instanceof Array||(f||(console.warn("Using a deprecated form of requestPresent. Should pass in an array of VRLayers."),f=!0),e=[e]),new Promise(function(n,r){function o(){var e=u.getFullscreenElement();i.isPresenting=g===e,i.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){console.error("screen.orientation.lock() failed due to",e.message)}),i.waitingForPresent_=!1,i.beginPresent_(),n()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),i.removeFullscreenWrapper(),i.wakelock_.release(),i.endPresent_(),i.removeFullscreenListeners_()),i.fireVRDisplayPresentChange_()}function s(){i.waitingForPresent_&&(i.removeFullscreenWrapper(),i.removeFullscreenListeners_(),i.wakelock_.release(),i.waitingForPresent_=!1,i.isPresenting=!1,r(new Error("Unable to present.")))}if(!i.capabilities.canPresent)return void r(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>i.capabilities.maxLayers)return void r(new Error("Invalid number of layers."));var a=e[0];if(!a.source)return void n();var c=a.leftBounds||h,l=a.rightBounds||d;if(t){var f=!1,M=i.layer_;M.source!==a.source&&(M.source=a.source,f=!0);for(var w=0;w<4;w++)M.leftBounds[w]!==c[w]&&(M.leftBounds[w]=c[w],f=!0),M.rightBounds[w]!==l[w]&&(M.rightBounds[w]=l[w],f=!0);return f&&i.fireVRDisplayPresentChange_(),void n()}if(i.layer_={predistorted:a.predistorted,source:a.source,leftBounds:c.slice(0),rightBounds:l.slice(0)},i.waitingForPresent_=!1,i.layer_&&i.layer_.source){var g=i.wrapForFullscreen(i.layer_.source);i.addFullscreenListeners_(g,o,s),u.requestFullscreen(g)?(i.wakelock_.request(),i.waitingForPresent_=!0):u.isIOS()&&(i.wakelock_.request(),i.isPresenting=!0,i.beginPresent_(),i.fireVRDisplayPresentChange_(),n())}i.waitingForPresent_||u.isIOS()||(u.exitFullscreen(),r(new Error("Unable to present.")))})},r.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.wakelock_.release(),new Promise(function(i,n){e?(!u.exitFullscreen()&&u.isIOS()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),i()):n(new Error("Was not presenting to VRDisplay."))})},r.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},r.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{vrdisplay:this}});window.dispatchEvent(e)},r.prototype.addFullscreenListeners_=function(e,t,i){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=i,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),i&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",i,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",i,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",i,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",i,!1))},r.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var i=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",i,!1),e.removeEventListener("webkitfullscreenerror",i,!1),document.removeEventListener("mozfullscreenerror",i,!1),e.removeEventListener("msfullscreenerror",i,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},r.prototype.beginPresent_=function(){},r.prototype.endPresent_=function(){},r.prototype.submitFrame=function(e){},r.prototype.getEyeParameters=function(e){return null},s.prototype=new o,a.prototype=new o,i.exports.VRFrameData=n,i.exports.VRDisplay=r,i.exports.VRDevice=o,i.exports.HMDVRDevice=s,i.exports.PositionSensorVRDevice=a,i.exports}),e.registerDynamic("76",["72"],!0,function(e,t,i){function n(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:HMD:"+e.displayId,this.deviceName=e.displayName+" (HMD)"}function r(e){this.display=e,this.hardwareUnitId=e.displayId,this.deviceId="webvr-polyfill:PositionSensor: "+e.displayId,this.deviceName=e.displayName+" (PositionSensor)"}var o=(this||self,e("72").VRDisplay,e("72").HMDVRDevice),s=e("72").PositionSensorVRDevice;return n.prototype=new o,n.prototype.getEyeParameters=function(e){var t=this.display.getEyeParameters(e);return{currentFieldOfView:t.fieldOfView,maximumFieldOfView:t.fieldOfView,minimumFieldOfView:t.fieldOfView,recommendedFieldOfView:t.fieldOfView,eyeTranslation:{x:t.offset[0],y:t.offset[1],z:t.offset[2]},renderRect:{x:"right"==e?t.renderWidth:0,y:0,width:t.renderWidth,height:t.renderHeight}}},n.prototype.setFieldOfView=function(e,t,i,n){},r.prototype=new s,r.prototype.getState=function(){var e=this.display.getPose();return{position:e.position?{x:e.position[0],y:e.position[1],z:e.position[2]}:null,orientation:e.orientation?{x:e.orientation[0],y:e.orientation[1],z:e.orientation[2],w:e.orientation[3]}:null,linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},r.prototype.resetState=function(){return this.positionDevice.resetPose()},i.exports.VRDisplayHMDDevice=n,i.exports.VRDisplayPositionSensorDevice=r,i.exports}),e.registerDynamic("77",["62","71","73","72","76"],!0,function(e,t,i){function n(){this.displays=[],this.devices=[],this.devicesPopulated=!1,this.nativeWebVRAvailable=this.isWebVRAvailable(),this.nativeLegacyWebVRAvailable=this.isDeprecatedWebVRAvailable(),this.nativeLegacyWebVRAvailable||(this.nativeWebVRAvailable||this.enablePolyfill(),WebVRConfig.ENABLE_DEPRECATED_API&&this.enableDeprecatedPolyfill()),r()}function r(){"VRDisplay"in window&&!("VRFrameData"in window)&&(window.VRFrameData=c,"depthNear"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthNear=.01),"depthFar"in window.VRDisplay.prototype||(window.VRDisplay.prototype.depthFar=1e4),window.VRDisplay.prototype.getFrameData=function(e){return o.frameDataFromPose(e,this.getPose(),this)})}var o=(this||self,e("62")),s=e("71"),a=e("73"),u=e("72").VRDisplay,c=e("72").VRFrameData,l=e("72").HMDVRDevice,f=e("72").PositionSensorVRDevice,h=e("76").VRDisplayHMDDevice,d=e("76").VRDisplayPositionSensorDevice;return n.prototype.isWebVRAvailable=function(){return"getVRDisplays"in navigator},n.prototype.isDeprecatedWebVRAvailable=function(){return"getVRDevices"in navigator||"mozGetVRDevices"in navigator},n.prototype.populateDevices=function(){if(!this.devicesPopulated){var e=null;this.isCardboardCompatible()&&(e=new s,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new h(e)),this.devices.push(new d(e)))),this.isMobile()||WebVRConfig.MOUSE_KEYBOARD_CONTROLS_DISABLED||(e=new a,this.displays.push(e),WebVRConfig.ENABLE_DEPRECATED_API&&(this.devices.push(new h(e)),this.devices.push(new d(e)))),this.devicesPopulated=!0}},n.prototype.enablePolyfill=function(){navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u;var e=this;Object.defineProperty(navigator,"vrEnabled",{get:function(){return e.isCardboardCompatible()&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||!1)}}),window.VRFrameData=c},n.prototype.enableDeprecatedPolyfill=function(){navigator.getVRDevices=this.getVRDevices.bind(this),window.HMDVRDevice=l,window.PositionSensorVRDevice=f},n.prototype.getVRDisplays=function(){this.populateDevices();var e=this.displays;return new Promise(function(t,i){try{t(e)}catch(e){i(e)}})},n.prototype.getVRDevices=function(){console.warn("getVRDevices is deprecated. Please update your code to use getVRDisplays instead.");var e=this;return new Promise(function(t,i){try{if(!e.devicesPopulated){if(e.nativeWebVRAvailable)return navigator.getVRDisplays(function(i){for(var n=0;n<i.length;++n)e.devices.push(new h(i[n])),e.devices.push(new d(i[n]));e.devicesPopulated=!0,t(e.devices)},i);if(e.nativeLegacyWebVRAvailable)return(navigator.getVRDDevices||navigator.mozGetVRDevices)(function(i){for(var n=0;n<i.length;++n)i[n]instanceof l&&e.devices.push(i[n]),i[n]instanceof f&&e.devices.push(i[n]);e.devicesPopulated=!0,t(e.devices)},i)}e.populateDevices(),t(e.devices)}catch(e){i(e)}})},n.prototype.isMobile=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},n.prototype.isCardboardCompatible=function(){return this.isMobile()||WebVRConfig.FORCE_ENABLE_VR},i.exports.WebVRPolyfill=n,i.exports}),e.registerDynamic("78",["62","77"],!0,function(e,t,i){var n=(this||self,e("62")),r=e("77").WebVRPolyfill;return window.WebVRConfig=n.extend({FORCE_ENABLE_VR:!1,K_FILTER:.98,PREDICTION_TIME_S:.04,TOUCH_PANNER_DISABLED:!0,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,MOUSE_KEYBOARD_CONTROLS_DISABLED:!1,DEFER_INITIALIZATION:!1,ENABLE_DEPRECATED_API:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},window.WebVRConfig),window.WebVRConfig.DEFER_INITIALIZATION?window.InitializeWebVRPolyfill=function(){new r}:new r,i.exports}),e.register("1",["2","3","3d","4","9","10","a","1d","35","2d","14","15","18","1c","20","19","16","5","7","2e","1a","1b","8","3b","3e","2c","2f","17","d","23","24","30","31","32","1f","27","25","37","1e","38","39","3a","e","f","26","55","5f","61","78"],function(e,t){"use strict";function i(){return!0}function n(){}function r(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=i),e.compose||(e.compose=n),e}function o(e){return function(t){var i=e(t);return i===!0}}function s(e,t){return function(i){var n=t(i);if(n!==!0)throw new Error(n||e+" was not correctly implemented.")}}function a(e,t){t=r(t);var i=function i(n){var r="function"==typeof n?n.prototype:n;t.compose(r),i.assert(r),Object.defineProperty(r,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return i.validate=o(t.validate),i.assert=s(e,t.validate),i}function u(e,t){var i=e.inject;if("function"==typeof i)throw new Error("Decorator "+t+' cannot be used with "inject()".  Please use an array instead.');return i||(i=Ge.getOwn(Ge.paramTypes,e).slice(),e.inject=i),i}function c(e){return function(t,i,n){var r=u(t,"lazy");r[n]=ht.of(e)}}function l(e){return function(t,i,n){var r=u(t,"all");r[n]=dt.of(e)}}function f(){var e=arguments.length<=0||void 0===arguments[0]||arguments[0],t=function(e){return function(t,i,n){var r=u(t,"optional");r[n]=Mt.of(r[n],e)}};return t("boolean"==typeof e?e:!0)}function h(e,t,i){var n=u(e,"parent");n[i]=wt.of(n[i])}function d(e,t){return function(i,n,r){var o=u(i,"factory"),s=yt.of(e);o[r]=t?s.as(t):s}}function M(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r=function(e){return function(t,n,r){var o=u(t,"newInstance");o[r]=pt.of.apply(pt,[o[r]].concat(i)),e&&o[r].as(e)}};return arguments.length>=1?r(e):r()}function w(e){return function(t){Ge.define(Ge.invoker,e,t)}}function g(e){var t=function(e){Ge.define(Ge.invoker,At.instance,e)};return e?t(e):t}function y(e){return function(t){Ge.define(Ge.registration,e,t)}}function p(e){return y(new vt(e))}function A(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return y(new mt(e,t))}function v(e){if(null===e||void 0===e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function m(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),Reflect.construct(t,o)}function D(e){return e.hasOwnProperty("inject")?"function"==typeof e.inject?e.inject():e.inject:[]}function E(e){var t=function(e){var t=e.inject,i=Ge.getOwn(Ge.paramTypes,e)||Dt;if(t)for(var n=0;n<i.length;n++)if(t[n]&&t[n]!==i[n]){var r=t.indexOf(i[n]);r>-1&&t.splice(r,1),t.splice(r>-1&&r<n?n-1:n,0,i[n])}else t[n]||(t[n]=i[n]);else e.inject=i};return e?t(e):t}function N(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i,n){if("number"==typeof n&&1===t.length){var r=e.inject;if("function"==typeof r)throw new Error('Decorator inject cannot be used with "inject()".  Please use an array instead.');return r||(r=Ge.getOwn(Ge.paramTypes,e).slice(),e.inject=r),void(r[n]=t[0])}if(n){var o=n.value;o.inject=t}else e.inject=t}}function I(e,t){var i=e._times,n=~X(i,t,me.compare);n>0&&(i.splice(0,n),e._values.splice(0,n*e._innerType.packedLength),e._updateTableLength=!0,e._definitionChanged.raiseEvent(e))}function T(e,t){if(void 0!==t){var i=e._times.length-t;i>0&&(e._times.splice(0,i),e._values.splice(0,i*e._innerType.packedLength),e._updateTableLength=!0)}}function L(){if(Jt)return Jt;var e=void 0,t=function(e,t,i){if(e){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t};n.bubbles=!0,e.dispatchEvent(new MouseEvent("mouseout",n)),n.bubbles=!1;var r=e;do r.dispatchEvent(new MouseEvent("mouseleave",n)),r=r.parentElement;while(r)}},i=function(e,t,i){var n={view:i.view,clientX:i.clientX,clientY:i.clientY,screenX:i.screenX,screenY:i.screenY,relatedTarget:t};n.bubbles=!0,e.dispatchEvent(new MouseEvent("mouseover",n)),n.bubbles=!1;var r=e;do r.dispatchEvent(new MouseEvent("mouseenter",n)),r=r.parentElement;while(r)},n=function(e,t,i){var n=i.bubbles;i.bubbles=!0,e.dispatchEvent(new PointerEvent("pointerover",i)),i.bubbles=!1;var r=e;do r.dispatchEvent(new MouseEvent("pointerenter",i)),r=r.parentElement;while(r);i.bubbles=n},r=function(e,t,i){if(e){i.bubbles=!0,e.dispatchEvent(new PointerEvent("pointerout",i)),i.bubbles=!1;var n=e;do n.dispatchEvent(new MouseEvent("pointerleave",i)),n=n.parentElement;while(n)}},o=function(e,t,i){return e.forEach(function(n,r){e[r]=document.createTouch(i.view,t,n.identifier,n.clientX,n.clientY,n.screenX,n.screenY)}),e},s={},a={},u={},c={};return document.documentElement.addEventListener("gotpointercapture",function(e){c[e.pointerId]=e.target}),document.documentElement.addEventListener("lostpointercapture",function(e){delete c[e.pointerId]}),Jt=function(l){l.view=window;var f=void 0;switch(l.type){case"wheel":f=document.elementFromPoint(l.clientX,l.clientY)||window,f.dispatchEvent(new WheelEvent(l.type,l));break;case"mouseleave":f=document.elementFromPoint(l.clientX,l.clientY)||window,t(e,void 0,l),e=void 0;break;case"mouseenter":f=document.elementFromPoint(l.clientX,l.clientY)||window,i(f,void 0,l),e=f;break;case"mousemove":f=document.elementFromPoint(l.clientX,l.clientY)||window,f!==e&&(t(e,f,l),i(f,e,l),e=f),f.dispatchEvent(new MouseEvent(l.type,l));break;case"touchstart":var h=l.changedTouches[0];f=document.elementFromPoint(h.clientX,h.clientY)||window;var d=!0,M=!1,w=void 0;try{for(var g,y=l.changedTouches[Symbol.iterator]();!(d=(g=y.next()).done);d=!0){var p=g.value;s[p.identifier]=f,a[p.identifier]=performance.now()}}catch(e){M=!0,w=e}finally{try{!d&&y.return&&y.return()}finally{if(M)throw w}}case"touchmove":case"touchend":case"touchcancel":f=s[l.changedTouches[0].identifier];var A=document.createEvent("TouchEvent"),v=document.createTouchList.apply(document,o(l.touches,f,l)),m=document.createTouchList.apply(document,o(l.targetTouches,f,l)),D=document.createTouchList.apply(document,o(l.changedTouches,f,l));if("function"==typeof A.initTouchEvent?A.initTouchEvent(l.type,l.bubbles,l.cancelable,l.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,v,m,D,1,0):(A.initUIEvent(l.type,l.bubbles,l.cancelable,l.view,l.detail),A.touches=v,A.targetTouches=m,A.changedTouches=D),"touchend"===l.type||"touchcancel"==l.type){f.dispatchEvent(A);var E=D[0];l.clientX=E.clientX,l.clientY=E.clientY,l.screenX=E.screenX,l.screenY=E.screenY,l.button=0,l.detail=1,"touchend"===l.type?performance.now()-a[E.identifier]<300&&!A.defaultPrevented&&(f.dispatchEvent(new MouseEvent("mousedown",l)),f.dispatchEvent(new MouseEvent("mouseup",l)),f.dispatchEvent(new MouseEvent("click",l))):f.dispatchEvent(new MouseEvent("mouseout",l));var N=!0,I=!1,T=void 0;try{for(var L,j=l.changedTouches[Symbol.iterator]();!(N=(L=j.next()).done);N=!0){var x=L.value;delete s[x.identifier],delete a[x.identifier]}}catch(e){I=!0,T=e}finally{try{!N&&j.return&&j.return()}finally{if(I)throw T}}}else f.dispatchEvent(A);break;case"pointerenter":case"pointerleave":case"pointermove":case"pointercancel":case"pointerdown":case"pointerup":var S=u[l.pointerId],O=f=c[l.pointerId],C="pointerleave"===l.type||"pointercancel"===l.type,z=new PointerEvent(l.type,l);O?O.dispatchEvent(z):(f=document.elementFromPoint(l.clientX,l.clientY)||window,f!==S&&(r(S,f,l),C||n(f,S,l)),f.dispatchEvent(z)),C?delete u[l.pointerId]:u[l.pointerId]=f;break;default:f=document.elementFromPoint(l.clientX,l.clientY)||window,f.dispatchEvent(new MouseEvent(l.type,l))}}}function j(e,t){var i=!1,n={event:UIEvent=void 0,forwardEvent:function(){i=!0}},r={},o=function(o){if(o.target===e.element||o.target.parentElement===e.element){var s=e.element.getBoundingClientRect();if(e.uiEvent.numberOfListeners>0&&(i=!1,n.event=o,e.uiEvent.raiseEvent(n),!i))return void o.stopImmediatePropagation();o.preventDefault();var a=ti(o.touches,s),u=ti(o.changedTouches,s),c=ti(o.targetTouches,s);r.timeStamp=o.timeStamp,r.type=o.type,r.bubbles=o.bubbles,r.cancelable=o.cancelable,r.which=o.which,r.detail=o.detail,r.altKey=o.altKey,r.ctrlKey=o.ctrlKey,r.metaKey=o.metaKey,r.button=o.button,r.buttons=o.buttons,r.clientX=o.clientX-s.left,r.clientY=o.clientY-s.top,r.screenX=o.screenX,r.screenY=o.screenY,r.movementX=o.movementX,r.movementY=o.movementY,r.deltaX=o.deltaX,r.deltaY=o.deltaY,r.deltaZ=o.deltaZ,r.deltaMode=o.deltaMode,r.wheelDelta=o.wheelDelta,r.wheelDeltaX=o.wheelDeltaX,r.wheelDeltaY=o.wheelDeltaY,r.touches=a,r.changedTouches=u,r.targetTouches=c,r.pointerId=o.pointerId,r.width=o.width,r.height=o.height,r.pressure=o.pressure,r.tiltX=o.tiltX,r.tiltY=o.tiltY,r.isPrimary=o.isPrimary,t(r)}else o.stopImmediatePropagation()},s=["wheel","click","dblclick","contextmenu"];pe.supportsPointerEvents()?s.push("pointerenter","pointerleave","pointerdown","pointermove","pointerup","pointercancel"):s.push("mouseenter","mouseleave","mousedown","mousemove","mouseup","touchstart","touchend","touchmove","touchcancel"),s.forEach(function(t){e.element.addEventListener(t,o,!1)})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t;i.length=0,i.unshift(e);var n=e;do{var r=n.position;n=r&&r.referenceFrame,fe(n)&&i.unshift(n)}while(fe(n));return i}function S(e,t,i,n){return e.position&&e.position.getValueInReferenceFrame(t,i,n)}function O(e,t,i,n){var r=e.position&&e.position.referenceFrame;if(fe(r)){var o=e.orientation&&e.orientation.getValue(t,n);if(fe(o))return Ie.convertToReferenceFrame(t,o,r,i,n)}}function C(e,t,i){var n=void 0;if(fe(i)||(n=x(e,ri),i=n[0]),fe(i)){var r=S(e,t,i,{});if(r||n){var o=O(e,t,i,{});if(o||n){if(r&&o)return{p:r,o:o,r:"number"==typeof i?i:i.id,meta:"number"!=typeof i?i.meta:void 0};if(n)for(var s=1;s<n.length;s++){if(i=n[s],!fe(i))return;var a=C(e,t,i);if(a)return a}}}}}function z(e){if(!oi)throw new Error("resolveURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return oi.href="",oi.href=e,oi.href}function b(e){if(!oi)throw new Error("parseURL requires DOM api");if(void 0===e)throw new Error("Expected inURL");return oi.href="",oi.href=e,{href:oi.href,protocol:oi.protocol,hostname:oi.hostname,port:oi.port,pathname:oi.pathname,search:oi.search,hash:oi.hash,host:oi.host}}function _(e){return e instanceof HTMLElement?Promise.resolve(e):new Promise(function(t,i){var n=function(){var n=document.querySelector(""+e);n?t(n):i(new Error("Unable to resolve element id "+e))};"loading"==document.readyState?document.addEventListener("DOMContentLoaded",n):n()})}function k(e,t){var i=e[Ne.COLUMN0ROW0],n=e[Ne.COLUMN1ROW1],r=e[Ne.COLUMN2ROW0],o=e[Ne.COLUMN2ROW1],s=e[Ne.COLUMN2ROW2],a=e[Ne.COLUMN3ROW2],u=t.near=a/(s-1);return t.far=a/(s+1),t.bottom=u*(o-1)/n,t.top=u*(o+1)/n,t.left=u*(r-1)/i,t.right=u*(r+1)/i,t}function R(e,t){var i=k(e,si),n=(i.left+i.right)/2,r=(i.top+i.bottom)/2,o=i.near,s=i.far,a=i.right-n,u=i.top-r,c=a/u,l=2*Math.atan(u/o),f=void 0;return f=c<1?l:2*Math.atan(Math.tan(.5*l)*c),t.near=o,t.far=s,t.fov=f,t.aspectRatio=c,t.xOffset=n,t.yOffset=r,t}function P(e,t,i){return!!(e.position&&e.position instanceof ae&&e.orientation&&e.orientation instanceof ue)&&(!!S(e,t,i,ai)&&(!!O(e,t,i,ui)&&(e.position.setValue(ai,i),e.orientation.setValue(ui),!0)))}function U(){if(ci){var e=window.location.protocol;window.location.protocol="https:"===e?"argon4s":"argon4"}}function Q(e){var t=!1,i=function(i,n,r){var o=r.get||r.value,s="function"==typeof r.value?"function":"property",a='The "'+n+'" '+s+" is deprecated. ";if(e){var u="function"==typeof i[e]?"function":"property";a+='Please use the "'+e+'" '+u+" instead."}var c=function(){return t||(console.warn(a),t=!0),o.apply(this,arguments)};return r.value?r.value=c:r.get=c,r};return i}function B(e){for(var t=e.split("."),i=0,n=t.length;i<n;++i)t[i]=parseInt(t[i],10);return t}function q(e){var t=e;return fe(t.id)?t.id:""+t}function Y(e){var t=e.entities.getById(kt),i=e.entities.getById(Pt);if(t){if(F(),!Bn)return t.position.setValue(void 0,void 0),t.orientation.setValue(void 0),void(t.meta=void 0);var n=screen.orientation&&screen.orientation.angle||window.orientation||0,r=Se.fromAxisAngle(te.UNIT_Z,-n*De.RADIANS_PER_DEGREE,Cn);t.position.setValue(te.fromElements(0,0,bt,Sn),i),t.orientation.setValue(Se.multiply(Bn,r,On)),t.meta=t.meta||{},t.meta.headingAccuracy=qn}}function F(){if("undefined"==typeof window||!window.addEventListener)throw new Error("Orientation updates not supported");if(!fe(Qn)){var e=0,t=void 0;Qn=function(i){var n=i.alpha,r=i.webkitCompassHeading,o=+i.webkitCompassAccuracy;if(fe(n)&&(i.absolute&&(t=0),qn=o>0?o:void 0,(!fe(t)||Math.abs(e)>5)&&fe(r)&&o>=0&&r>=0&&(fe(t)?t-=e:t=-r),fe(t))){var s=De.RADIANS_PER_DEGREE*(i.alpha+t||-r||0),a=De.RADIANS_PER_DEGREE*i.beta,u=De.RADIANS_PER_DEGREE*i.gamma,c=Se.fromAxisAngle(te.UNIT_Z,s,On),l=Se.fromAxisAngle(te.UNIT_X,a,Cn),f=Se.multiply(c,l,On),h=Se.fromAxisAngle(te.UNIT_Y,u,Cn),d=Se.multiply(f,h,On);Bn=Se.clone(d,Bn),qn=o}},"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",Qn):"ondeviceorientation"in window&&window.addEventListener("deviceorientation",Qn)}}function V(){var e=Yn.currentTime.secondsOfDay;Yn.tick();var t=Yn.currentTime.secondsOfDay,i=me.now(Fn),n=me.secondsDifference(Yn.currentTime,i);if(n>.033){var r=(t-e)/2;Yn.currentTime.secondsOfDay-=r}else n<.5&&me.clone(i,Yn.currentTime)}function G(e,t,i){if(oo.instance)throw new Error("A shared ArgonSystem instance already exists");var n=void 0,r=void 0;if(t instanceof Tt?(n=an,r=e,i=t):(n=e,r=t),n&&(n.configuration||n.container)){var o=n;!r&&o.configuration&&(r=o.configuration),!r&&o.container&&(i=o.container),n=void 0}var s=void 0;return s="undefined"==typeof HTMLElement?Ut.REALITY_MANAGER:navigator.userAgent.indexOf("Argon")>0||window.top!==window?Ut.APPLICATION:Ut.REALITY_MANAGER,r||(r={}),r.role=s,i||(i=new Tt),new oo(n||null,r,i)}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Tt;if(oo.instance)throw new Error("A shared ArgonSystem instance already exists");return e.role=Ut.REALITY_VIEW,e.supportsCustomProtocols=!0,e["reality.supportsControlPort"]=!0,e.protocols=e.protocols||[],e.protocols.push("ar.uievent"),new oo(null,e,t)}var H,Z,X,K,J,$,ee,te,ie,ne,re,oe,se,ae,ue,ce,le,fe,he,de,Me,we,ge,ye,pe,Ae,ve,me,De,Ee,Ne,Ie,Te,Le,je,xe,Se,Oe,Ce,ze,be,_e,ke,Re,Pe,Ue,Qe,Be,qe,Ye,Fe,Ve,Ge,We,He,Ze,Xe,Ke,Je,$e,et,tt,it,nt,rt,ot,st,at,ut,ct,lt,ft,ht,dt,Mt,wt,gt,yt,pt,At,vt,mt,Dt,Et,Nt,It,Tt,Lt,jt,xt,St,Ot,Ct,zt,bt,_t,kt,Rt,Pt,Ut,Qt,Bt,qt,Yt,Ft,Vt,Gt,Wt,Ht,Zt,Xt,Kt,Jt,$t,ei,ti,ii,ni,ri,oi,si,ai,ui,ci,li,fi,hi,di,Mi,wi,gi,yi,pi,Ai,vi,mi,Di,Ei,Ni,Ii,Ti,Li,ji,xi,Si,Oi,Ci,zi,bi,_i,ki,Ri,Pi,Ui,Qi,Bi,qi,Yi,Fi,Vi,Gi,Wi,Hi,Zi,Xi,Ki,Ji,$i,en,tn,nn,rn,on,sn,an,un,cn,ln,fn,hn,dn,Mn,wn,gn,yn,pn,An,vn,mn,Dn,En,Nn,In,Tn,Ln,jn,xn,Sn,On,Cn,zn,bn,_n,kn,Rn,Pn,Un,Qn,Bn,qn,Yn,Fn,Vn,Gn,Wn,Hn,Zn,Xn,Kn,Jn,$n,er,tr,ir,nr,rr,or,sr,ar,ur,cr,lr,fr,hr,dr,Mr,wr,gr,yr,pr,Ar,vr,mr,Dr,Er,Nr,Ir,Tr,Lr,jr,xr,Sr,Or,Cr,zr,br,_r,kr,Rr,Pr,Ur,Qr,Br,qr,Yr,Fr,Vr,Gr,Wr,Hr,Zr,Xr,Kr,Jr,$r,eo,to,io,no,ro,oo,so,ao,uo,co,lo,fo,ho,Mo;return{setters:[function(e){},function(e){H=e.AggregateError,Z=e.PLATFORM},function(e){X=e.default},function(e){K=e.default},function(e){J=e.default},function(e){$=e.default},function(e){ee=e.default},function(e){te=e.default},function(e){ie=e.default},function(e){ne=e.default},function(e){re=e.default},function(e){oe=e.default},function(e){se=e.default},function(e){ae=e.default},function(e){ue=e.default},function(e){ce=e.default},function(e){le=e.default},function(e){fe=e.default},function(e){he=e.default},function(e){de=e.default},function(e){Me=e.default},function(e){we=e.default},function(e){ge=e.default},function(e){ye=e.default},function(e){pe=e.default},function(e){Ae=e.default},function(e){ve=e.default},function(e){me=e.default},function(e){De=e.default},function(e){Ee=e.default},function(e){Ne=e.default},function(e){Ie=e.default},function(e){Te=e.default},function(e){Le=e.default},function(e){je=e.default},function(e){xe=e.default},function(e){Se=e.default},function(e){Oe=e.default},function(e){Ce=e.default},function(e){ze=e.default},function(e){be=e.default},function(e){_e=e.default},function(e){ke=e.default},function(e){Re=e.default},function(e){Pe=e.default},function(e){Ue=e.default},function(e){Qe=e.default},function(e){Be=e.default},function(e){}],execute:function(){qe=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Ye=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Ge={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function(e,t,i){if(t){var n=Ge.getOwn(e,t,i);return void 0===n?Ge.get(e,Object.getPrototypeOf(t),i):n}},getOwn:function(e,t,i){if(t)return Reflect.getOwnMetadata(e,t,i)},define:function(e,t,i,n){Reflect.defineMetadata(e,t,i,n)},getOrCreateOwn:function(e,t,i,n){var r=Ge.getOwn(e,i,n);return void 0===r&&(r=new t,Reflect.defineMetadata(e,r,i,n)),r}},We=new Map,He=Object.freeze({moduleId:void 0,moduleMember:void 0}),Ze=function(){function e(e,t){this.moduleId=e,this.moduleMember=t}return e.get=function(t){var i=We.get(t);return void 0===i&&Z.eachModule(function(n,r){if("object"===("undefined"==typeof r?"undefined":Ve(r)))for(var o in r){var s=r[o];if(s===t)return We.set(t,i=new e(n,o)),!0}return r===t&&(We.set(t,i=new e(n,"default")),!0)}),i||He},e.set=function(e,t){We.set(e,t)},e}(),a.create=function(e,t){t=r(t);var i="protocol:"+e,n=function(i){var n=a(e,t);return i?n(i):n};return n.decorates=function(e){return e[i]===!0},n.validate=o(t.validate),n.assert=s(e,t.validate),n},ft=a.create("aurelia:resolver",function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}),Xe=ft(),ht=Xe(Ke=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},e.of=function(t){return new e(t)},e}())||Ke,Je=ft(),dt=Je($e=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.getAll(this._key);
},e.of=function(t){return new e(t)},e}())||$e,et=ft(),Mt=et(tt=function(){function e(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];this._key=e,this._checkParent=t}return e.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},e.of=function(t){var i=arguments.length<=1||void 0===arguments[1]||arguments[1];return new e(t,i)},e}())||tt,it=ft(),wt=it(nt=function(){function e(e){this._key=e}return e.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},e.of=function(t){return new e(t)},e}())||nt,rt=ft(),gt=rt(ot=function(){function e(e,t){this.strategy=e,this.state=t}return e.prototype.get=function(e,t){switch(this.strategy){case 0:return this.state;case 1:var i=e.invoke(this.state);return this.state=i,this.strategy=0,i;case 2:return e.invoke(this.state);case 3:return this.state(e,t,this);case 4:return this.state[0].get(e,t);case 5:return e.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},e}())||ot,st=ft(),yt=st(at=function(){function e(e){this._key=e}return e.prototype.get=function(e){var t=this;return function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return e.invoke(t._key,n)}},e.of=function(t){return new e(t)},e}())||at,ut=ft(),pt=ut(ct=function(){function e(e){this.key=e,this.asKey=e;for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.dynamicDependencies=i}return e.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map(function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)}):void 0,i=e.invoke(this.key,t);return e.registerInstance(this.asKey,i),i},e.prototype.as=function(e){return this.asKey=e,this},e.of=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat([t],n)))},e}())||ct,At=function(){function e(){}return e.prototype.invoke=function(e,t,i){for(var n=i.length,r=new Array(n);n--;)r[n]=e.get(i[n]);return t.apply(void 0,r)},e.prototype.invokeWithDynamicDependencies=function(e,t,i,n){for(var r=i.length,o=new Array(r);r--;)o[r]=e.get(i[r]);return void 0!==n&&(o=o.concat(n)),t.apply(void 0,o)},e}(),At.instance=new At,vt=function(){function e(e){this._key=e}return e.prototype.registerResolver=function(e,t,i){return e.registerTransient(this._key||t,i)},e}(),mt=function(){function e(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return e.prototype.registerResolver=function(e,t,i){return this._registerInChild?e.registerSingleton(this._key||t,i):e.root.registerSingleton(this._key||t,i)},e}(),Dt=Object.freeze([]),Ge.registration="aurelia:registration",Ge.invoker="aurelia:invoker",Et=ft.decorates,Nt=function(){function e(e,t,i){this.fn=e,this.invoker=t,this.dependencies=i}return e.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},e}(),lt={},lt[0]={invoke:function(e,t){return new t},invokeWithDynamicDependencies:m},lt[1]={invoke:function(e,t,i){return new t(e.get(i[0]))},invokeWithDynamicDependencies:m},lt[2]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]))},invokeWithDynamicDependencies:m},lt[3]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]))},invokeWithDynamicDependencies:m},lt[4]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]))},invokeWithDynamicDependencies:m},lt[5]={invoke:function(e,t,i){return new t(e.get(i[0]),e.get(i[1]),e.get(i[2]),e.get(i[3]),e.get(i[4]))},invokeWithDynamicDependencies:m},lt.fallback={invoke:m,invokeWithDynamicDependencies:m},It=lt,Tt=function(){function e(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return e.prototype.makeGlobal=function(){return e.instance=this,this},e.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},e.prototype.registerInstance=function(e,t){return this.registerResolver(e,new gt(0,void 0===t?e:t))},e.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new gt(1,void 0===t?e:t))},e.prototype.registerTransient=function(e,t){return this.registerResolver(e,new gt(2,void 0===t?e:t))},e.prototype.registerHandler=function(e,t){return this.registerResolver(e,new gt(3,t))},e.prototype.registerAlias=function(e,t){return this.registerResolver(t,new gt(5,e))},e.prototype.registerResolver=function(e,t){v(e);var i=this._resolvers,n=i.get(e);return void 0===n?i.set(e,t):4===n.strategy?n.state.push(t):i.set(e,new gt(4,[n,t])),t},e.prototype.autoRegister=function(e,t){if(t=void 0===t?e:t,"function"==typeof t){var i=Ge.get(Ge.registration,t);return void 0===i?this.registerResolver(e,new gt(1,t)):i.registerResolver(this,e,t)}return this.registerResolver(e,new gt(0,t))},e.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},e.prototype.unregister=function(e){this._resolvers.delete(e)},e.prototype.hasResolver=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return v(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},e.prototype.get=function(t){if(v(t),t===e)return this;if(Et(t))return t.get(this,t);var i=this._resolvers.get(t);return void 0===i?null===this.parent?this.autoRegister(t).get(this,t):this.parent._get(t):i.get(this,t)},e.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},e.prototype.getAll=function(e){v(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?Dt:this.parent.getAll(e);if(4===t.strategy){for(var i=t.state,n=i.length,r=new Array(n);n--;)r[n]=i[n].get(this,e);return r}return[t.get(this,e)]},e.prototype.createChild=function(){var t=new e(this._configuration);return t.root=this.root,t.parent=this,t},e.prototype.invoke=function(e,t){try{var i=this._handlers.get(e);return void 0===i&&(i=this._createInvocationHandler(e),this._handlers.set(e,i)),i.invoke(this,t)}catch(t){throw new H("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},e.prototype._createInvocationHandler=function(e){var t=void 0;if(void 0===e.inject)t=Ge.getOwn(Ge.paramTypes,e)||Dt;else{t=[];for(var i=e;"function"==typeof i;){var n;(n=t).push.apply(n,D(i)),i=Object.getPrototypeOf(i)}}var r=Ge.getOwn(Ge.invoker,e)||It[t.length]||It.fallback,o=new Nt(e,r,t);return void 0!==this._onHandlerCreated?this._onHandlerCreated(o):o},e}(),e("DI",Lt=Object.freeze({resolver:ft,Lazy:ht,All:dt,Optional:Mt,Parent:wt,StrategyResolver:gt,Factory:yt,NewInstance:pt,getDecoratorDependencies:u,lazy:c,all:l,optional:f,parent:h,factory:d,newInstance:M,invoker:w,invokeAsFactory:g,FactoryInvoker:At,registration:y,transient:p,singleton:A,TransientRegistration:vt,SingletonRegistration:mt,_emptyParameters:Dt,InvocationHandler:Nt,Container:Tt,autoinject:E,inject:N})),jt=function(e,t){return function(){var i=e.apply(this,arguments);return t.call(this,i),i}},_e.prototype.removeSamplesBeforeDate=function(e){I(this,e)},be.prototype.removeSamplesBeforeDate=function(e){I(this._property,e)},_e.prototype.addSample=jt(_e.prototype.addSample,function(){T(this,this.maxNumSamples)}),_e.prototype.addSamples=jt(_e.prototype.addSamples,function(){T(this,this.maxNumSamples)}),_e.prototype.addSamplesPackedArray=jt(_e.prototype.addSamplesPackedArray,function(){T(this,this.maxNumSamples)}),be.prototype.addSample=jt(be.prototype.addSample,function(){T(this._property,this.maxNumSamples)}),be.prototype.addSamples=jt(be.prototype.addSamples,function(){T(this._property,this.maxNumSamples)}),be.prototype.addSamplesPackedArray=jt(be.prototype.addSamplesPackedArray,function(){T(this._property,this.maxNumSamples)}),e("Cesium",xt=Object.freeze({binarySearch:X,CallbackProperty:K,CameraEventAggregator:J,CameraEventType:$,Cartesian2:ee,Cartesian3:te,Cartesian4:ie,Cartographic:ne,Clock:re,ClockStep:oe,CompositeEntityCollection:se,ConstantPositionProperty:ae,ConstantProperty:ue,createGuid:ce,defaultValue:le,defined:fe,DeveloperError:he,Ellipsoid:de,Entity:Me,EntityCollection:we,Event:ge,ExtrapolationType:ye,FeatureDetection:pe,GeographicProjection:Ae,HermitePolynomialApproximation:ve,JulianDate:me,CesiumMath:De,Matrix3:Ee,Matrix4:Ne,OrientationProperty:Ie,PerspectiveFrustum:Te,PerspectiveOffCenterFrustum:Le,PositionProperty:je,Property:xe,Quaternion:Se,ReferenceEntity:Oe,ReferenceFrame:Ce,ReferenceProperty:ze,SampledPositionProperty:be,SampledProperty:_e,ScreenSpaceEventHandler:ke,ScreenSpaceEventType:Re,Transforms:Pe,Simon1994PlanetaryPositions:Ue,PolylinePipeline:Qe})),St=28,Ot=1.5,Be.prototype.listen=function(e,t){var i=this.gl.canvas;this.listener=function(n){var r=i.clientWidth/2,o=St*Ot,s=n instanceof TouchEvent?n.changedTouches[0]:n;s.clientX>r-o&&s.clientX<r+o&&s.clientY>i.clientHeight-o?e(n):s.clientX<o&&s.clientY<o&&t(n)},i.addEventListener("click",this.listener,!1),i.addEventListener("touchstart",this.listener,!1)},Ct=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},zt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},e("AVERAGE_HUMAN_HEIGHT",bt=1.77),e("EYE_ENTITY_ID",_t="ar.eye"),e("PHYSICAL_EYE_ENTITY_ID",kt="ar.physical-eye"),e("STAGE_ENTITY_ID",Rt="ar.stage"),e("PHYSICAL_STAGE_ENTITY_ID",Pt="ar.physical-stage"),function(e){e[e.REALITY_AUGMENTER="RealityAugmenter"]="REALITY_AUGMENTER",e[e.REALITY_VIEWER="RealityViewer"]="REALITY_VIEWER",e[e.REALITY_MANAGER="RealityManager"]="REALITY_MANAGER",e[e.APPLICATION="Application"]="APPLICATION",e[e.MANAGER="Manager"]="MANAGER",e[e.REALITY_VIEW="RealityView"]="REALITY_VIEW"}(Ut||e("Role",Ut={})),function(e){function t(t){return t===e.REALITY_VIEWER||t===e.REALITY_VIEW}function i(t){return t===e.REALITY_AUGMENTER||t===e.APPLICATION}function n(t){return t===e.REALITY_MANAGER||t===e.MANAGER}e.isRealityViewer=t,e.isRealityAugmenter=i,e.isRealityManager=n}(Ut||e("Role",Ut={})),e("Configuration",Qt=function e(){Ye(this,e)}),e("Viewport",Bt=function(){function e(){Ye(this,e)}return qe(e,null,[{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t}},{key:"equals",value:function(e,t){return e&&t&&De.equalsEpsilon(e.x,t.x,De.EPSILON7)&&De.equalsEpsilon(e.y,t.y,De.EPSILON7)&&De.equalsEpsilon(e.width,t.width,De.EPSILON7)&&De.equalsEpsilon(e.height,t.height,De.EPSILON7)}}]),e}()),e("NormalizedViewport",qt=function(){function e(){Ye(this,e)}return qe(e,null,[{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t}},{key:"equals",value:function(e,t){return e&&t&&De.equalsEpsilon(e.x,t.x,De.EPSILON7)&&De.equalsEpsilon(e.y,t.y,De.EPSILON7)&&De.equalsEpsilon(e.width,t.width,De.EPSILON7)&&De.equalsEpsilon(e.height,t.height,De.EPSILON7)}}]),e}()),function(e){e[e.SINGULAR="Singular"]="SINGULAR",e[e.LEFTEYE="LeftEye"]="LEFTEYE",e[e.RIGHTEYE="RightEye"]="RIGHTEYE",e[e.OTHER="Other"]="OTHER"}(Yt||e("SubviewType",Yt={})),function(e){function t(e,t){if(e)return t=t||{},t.p=te.clone(e.p,t.p),t.o=Se.clone(e.o,t.o),t.r=e.r,t.meta=e.meta,t}e.clone=t}(Ft||e("SerializedEntityState",Ft={})),function(e){function t(e,t){return t=t||{},t.type=e.type,t.projectionMatrix=Ne.clone(e.projectionMatrix,t.projectionMatrix),t.viewport=qt.clone(e.viewport,t.viewport),t.pose=e.pose?Ft.clone(e.pose,t.pose):void 0,t}e.clone=t}(Vt||e("SerializedSubview",Vt={})),e("SerializedSubviewList",Gt=function(e){function t(){return Ye(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return zt(t,e),qe(t,null,[{key:"clone",value:function(e,i){i=i||new t,i.length=e.length;for(var n=0;n<e.length;n++){var r=e[n];i[n]=Vt.clone(r,i[n])}return i}}]),t}(Array)),e("Event",Wt=function(){function e(){Ye(this,e),this._event=new ge}return qe(e,[{key:"addEventListener",value:function(e){return this._event.addEventListener(e)}},{key:"removeEventListener",value:function(e){return this._event.removeEventListener(e)}},{key:"raiseEvent",value:function(e){this._event.raiseEvent(e)}},{key:"numberOfListeners",get:function(){return this._event.numberOfListeners}}]),e}()),e("CommandQueue",Ht=function(){function e(){var t=this;Ye(this,e),this._queue=[],this._paused=!0,this.errorEvent=new Wt,this.errorEvent.addEventListener(function(e){1===t.errorEvent.numberOfListeners&&console.error(e)})}return qe(e,[{key:"push",value:function(e,t){var i=this,n=new Promise(function(t,n){i._queue.push({command:e,reject:n,execute:function(){var i=Promise.resolve().then(e);return t(i),i}})});return t&&this.execute(),n}},{key:"execute",value:function(){var e=this;this._paused=!1,Promise.resolve().then(function(){e._queue.length>0&&!e._currentCommandPending&&e._executeNextCommand()})}},{key:"pause",value:function(){this._paused=!0}},{key:"clear",value:function(){this._queue.forEach(function(e){e.reject("Unable to execute.")}),this._queue=[]}},{key:"_executeNextCommand",value:function(){var e=this;if(this._currentCommand=void 0,this._currentCommandPending=void 0,!this._paused){var t=this._queue.shift();t&&(this._currentCommand=t.command,this._currentCommandPending=t.execute().then(this._executeNextCommand.bind(this)).catch(function(t){e.errorEvent.raiseEvent(t),e._executeNextCommand()}))}}}]),e}()),e("MessageChannelLike",Zt=function e(){Ye(this,e);var t=this,i=!0,n=void 0,r=void 0,o=void 0;n=new Promise(function(e){t.port1={set onmessage(t){o=t,e()},get onmessage(){return o},postMessage:function(e){i&&r.then(function(){t.port2.onmessage&&t.port2.onmessage({data:e})})},close:function(){i=!1}}});var s=void 0;r=new Promise(function(e){t.port2={set onmessage(t){s=t,e()},get onmessage(){return s},postMessage:function(e){i&&n.then(function(){t.port1.onmessage&&t.port1.onmessage({data:e})})},close:function(){i=!1}}})}),e("SynchronousMessageChannel",Xt=function e(){Ye(this,e);var t=this,i=[],n=function(e){i.push(e)};t.port1={get onmessage(){return n},set onmessage(e){n=e,i.forEach(function(t){return e(t)}),i=[]},postMessage:function(e){t.port2.onmessage&&t.port2.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}};var r=[],o=function(e){r.push(e)};t.port2={get onmessage(){return o},set onmessage(e){o=e,r.forEach(function(t){return e(t)}),r=[]},postMessage:function(e){t.port1.onmessage&&t.port1.onmessage({data:e})},close:function(){t.port1.onmessage=void 0,t.port2.onmessage=void 0}}}),e("MessageChannelFactory",Kt=function(){function e(){Ye(this,e)}return qe(e,[{key:"create",value:function(){return"undefined"!=typeof MessageChannel?new MessageChannel:new Zt}},{key:"createSynchronous",value:function(){return new Xt}}]),e}()),Jt=void 0,e("synthesizeEvent",$t="undefined"!=typeof document&&document.createElement?L():void 0),ei=function(e,t){return{identifier:e.identifier,clientX:e.clientX-t.left,clientY:e.clientY-t.top,screenX:e.screenX,screenY:e.screenY}},ti=function(e,t){if(e){for(var i=[],n=0;n<e.length;n++){var r=e.item(n);i[n]=ei(r,t)}return i}},e("getEntityPosition",ii=S),e("getEntityOrientation",ni=O),ri=[],oi="undefined"!=typeof document?document.createElement("a"):void 0,si=new Le,ai=new te,ui=new Se,e("isIOS",ci="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream),li=0,e("requestAnimationFrame",fi="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){var t=performance.now(),i=Math.max(0,16-(t-li)),n=setTimeout(function(){e(t+i)},i);return li=t+i,n}),e("version",hi="1.1.1"),di=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Mi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wi=Object.freeze({}),e("SessionPort",gi=function(){function e(t){var i=this;Ye(this,e),this.uri=t,this._connectEvent=new Wt,this.closeEvent=new Wt,this.errorEvent=new Wt,this.on={},this.version=[],this._isOpened=!1,this._isConnected=!1,this._isClosed=!1,this.on[e.OPEN]=function(e){if(!e)throw new Error("Session did not provide a configuration ("+i.uri+")");if(i._isConnected)throw new Error("Session has already connected! ("+i.uri+")");i.info=e,i.version=i.info.version||[0],i._isConnected=!0,i._connectEvent.raiseEvent(void 0)},this.on[e.CLOSE]=function(){i._isClosed=!0,i._isConnected=!1,i.messagePort&&i.messagePort.close&&i.messagePort.close(),i.closeEvent.raiseEvent(void 0)},this.on[e.ERROR]=function(e){var t=new Error("Session Error: "+e.message);e.stack&&(t.stack=e.stack),i.errorEvent.raiseEvent(t)},this.errorEvent.addEventListener(function(e){1===i.errorEvent.numberOfListeners&&console.error(e)})}return qe(e,[{key:"supportsProtocol",value:function(e,t){if(!this._isConnected)throw new Error("Session has not yet connected");var i=this.info.protocols;if(!i)return!1;var n=!1,r=new Set;return i.forEach(function(t){if(t.indexOf(e)!==-1){var i=+t.split("@v")[1]||0;r.add(i)}}),t?Array.isArray(t)?t.forEach(function(e){r.has(e)&&(n=!0)}):r.has(t)&&(n=!0):t||(n=!0),n}},{key:"open",value:function(t,i){var n=this;if(!this._isClosed){if(this._isOpened)throw new Error("Session can only be opened once");if(!i)throw new Error("Session options must be provided");this.messagePort=t,this._isOpened=!0,this.messagePort.onmessage=function(e){if(!n._isClosed){var t="string"==typeof e.data?JSON.parse(e.data):e.data,i=t[0],r=t[1],o=t[2]||wi,s=t[3],a=n.on[r];if(a&&!s)try{var u=a(o,e);u&&console.warn("Handler for "+r+" returned an unexpected response")}catch(e){n.sendError(e),n.errorEvent.raiseEvent(e)}else if(a){var c=new Promise(function(t){return t(a(o,e))});Promise.resolve(c).then(function(e){n._isClosed||n.send(r+":resolve:"+i,e)}).catch(function(e){if(!n._isClosed){var t=void 0;"string"==typeof e?t=e:"string"==typeof e.message&&(t=e.message),n.send(r+":reject:"+i,{reason:t})}})}else{var l="Unable to handle message for topic "+r+" ("+n.uri+")";s&&n.send(r+":reject:"+i,{reason:l}),n.errorEvent.raiseEvent(new Error(l))}}},this.send(e.OPEN,i)}}},{key:"send",value:function(e,t){if(!this._isOpened)throw new Error("Session must be open to send messages");if(this._isClosed)return!1;var i=ce(),n=[i,e,t];return this.messagePort.postMessage(ci?n:JSON.stringify(n)),!0}},{key:"sendError",value:function(t){var i=t;return i instanceof Error&&(i={message:i.message,stack:i.stack}),this.send(e.ERROR,i)}},{key:"request",value:function(e,t){var i=this;if(!this._isOpened||this._isClosed)throw new Error("Session must be open to make requests");var n=ce(),r=e+":resolve:"+n,o=e+":reject:"+n,s=new Promise(function(t,n){i.on[r]=function(e){delete i.on[r],delete i.on[o],t(e)},i.on[o]=function(t){delete i.on[r],delete i.on[o],console.warn("Request '"+e+"' rejected with reason:\n"+t.reason),n(new Error(t.reason))}}),a=[n,e,t,!0];return this.messagePort.postMessage(ci?a:JSON.stringify(a)),s}},{key:"close",value:function(){this._isClosed||(this._isOpened&&this.send(e.CLOSE),this._isClosed=!0,this._isConnected=!1,this.messagePort&&this.messagePort.close&&this.messagePort.close(),this.closeEvent.raiseEvent(void 0))}},{key:"connectEvent",get:function(){if(this._isConnected)throw new Error("The connectEvent only fires once and the session is already connected.");return this._connectEvent}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isClosed",get:function(){return this._isClosed}}]),e}()),gi.OPEN="ar.session.open",gi.CLOSE="ar.session.close",gi.ERROR="ar.session.error",e("SessionPortFactory",yi=function(){function e(){Ye(this,e)}return qe(e,[{key:"create",value:function(e){return new gi(e)}}]),e}()),e("ConnectService",pi=function e(){Ye(this,e)}),e("SessionService",Ai=function(){function e(t,i,n,r){var o=this;Ye(this,e),this.configuration=t,this.connectService=i,this.sessionPortFactory=n,this.messageChannelFactory=r,this.manager=this.createSessionPort("argon:manager"),this.errorEvent=new Wt,this._connectEvent=new Wt,this._managedSessions=[],t.version=B(hi),t.uri="undefined"!=typeof window&&window.location?window.location.href:void 0,t.title="undefined"!=typeof document?document.title:void 0,this.errorEvent.addEventListener(function(e){1===o.errorEvent.numberOfListeners&&console.error(e)}),this.manager.errorEvent.addEventListener(function(e){o.errorEvent.raiseEvent(e)}),this.manager.closeEvent.addEventListener(function(){o.managedSessions.forEach(function(e){e.close()})}),Object.freeze(this)}return qe(e,[{key:"connect",value:function(){this.connectService&&this.connectService.connect?this.connectService.connect(this):console.warn("Argon: Unable to connect to a manager session; a connect service is not available")}},{key:"addManagedSessionPort",value:function(e){var t=this;this.ensureIsRealityManager();var i=this.sessionPortFactory.create(e);return i.errorEvent.addEventListener(function(e){t.errorEvent.raiseEvent(e)}),i.connectEvent.addEventListener(function(){t.managedSessions.push(i),t.connectEvent.raiseEvent(i)}),i.closeEvent.addEventListener(function(){var e=t.managedSessions.indexOf(i);e>-1&&t.managedSessions.splice(e,1)}),i}},{key:"createSessionPort",value:function(e){return this.sessionPortFactory.create(e)}},{key:"createMessageChannel",value:function(){return this.messageChannelFactory.create()}},{key:"createSynchronousMessageChannel",value:function(){return this.messageChannelFactory.createSynchronous()}},{key:"ensureIsRealityManager",value:function(){if(!this.isRealityManager)throw new Error("An reality-manager only API was accessed from a non reality-manager.")}},{key:"ensureIsRealityViewer",value:function(){if(!this.isRealityViewer)throw new Error("An reality-viewer only API was accessed from a non reality-viewer.")}},{key:"ensureNotRealityViewer",value:function(){if(this.isRealityViewer)throw new Error("An non-permitted API was accessed from a reality-viewer.")}},{key:"ensureNotRealityAugmenter",value:function(){if(this.isRealityAugmenter)throw new Error("An non-permitted API was accessed from a reality-viewer.")}},{key:"ensureConnected",value:function(){if(!this.manager.isConnected)throw new Error("Session is not connected to manager")}},{key:"connectEvent",get:function(){return this._connectEvent}},{key:"managedSessions",get:function(){return this._managedSessions}},{key:"isRealityManager",get:function(){return Ut.isRealityManager(this.configuration&&this.configuration.role)}},{key:"isRealityAugmenter",get:function(){return Ut.isRealityAugmenter(this.configuration&&this.configuration.role)}},{key:"isRealityViewer",get:function(){return Ut.isRealityViewer(this.configuration&&this.configuration.role)}},{key:"isManager",get:function(){return this.isRealityManager}},{key:"isApplication",get:function(){return this.isRealityAugmenter}},{key:"isRealityView",get:function(){return this.isRealityViewer}}]),e}()),di([Q("isRealityManager"),Mi("design:type",Object),Mi("design:paramtypes",[])],Ai.prototype,"isManager",null),di([Q("isRealityAugmenter"),Mi("design:type",Object),Mi("design:paramtypes",[])],Ai.prototype,"isApplication",null),di([Q("isRealityViewer"),Mi("design:type",Object),Mi("design:paramtypes",[])],Ai.prototype,"isRealityView",null),e("SessionService",Ai=di([N("config",pi,yi,Kt),Mi("design:paramtypes",["function"==typeof(Ni="undefined"!=typeof Qt&&Qt)&&Ni||Object,pi,yi,"function"==typeof(Ii="undefined"!=typeof Kt&&Kt)&&Ii||Object])],Ai)),e("LoopbackConnectService",vi=function(e){function t(){return Ye(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return zt(t,e),qe(t,[{key:"connect",value:function(e){var t=e.createSynchronousMessageChannel(),i=t.port1;t.port2.onmessage=function(e){t.port2.postMessage(e.data)},e.manager.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(e.manager)}),e.manager.open(i,e.configuration)}}]),t}(pi)),e("DOMConnectService",mi=function(e){function t(){return Ye(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return zt(t,e),qe(t,[{key:"connect",value:function(e){var t=e.createMessageChannel();window.parent.postMessage({type:"ARGON_SESSION",name:window.name},"*",[t.port1]),e.manager.open(t.port2,e.configuration)}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&"undefined"!=typeof window.parent}}]),t}(pi)),e("DebugConnectService",Di=function(e){function t(){return Ye(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return zt(t,e),qe(t,[{key:"connect",value:function(e){var t=e.manager,i=e.configuration;t.open(window.__ARGON_DEBUG_PORT__,i)}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&!!window.__ARGON_DEBUG_PORT__}}]),t}(pi)),e("WKWebViewConnectService",Ei=function(e){function t(){return Ye(this,t),Ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return zt(t,e),qe(t,[{key:"connect",value:function(e){var t=e.createSynchronousMessageChannel();t.port2.onmessage=function(e){webkit.messageHandlers.argon.postMessage(JSON.stringify(e.data))},window.__ARGON_PORT__=t.port2,e.manager.open(t.port1,e.configuration),window.addEventListener("beforeunload",function(){e.manager.close()})}}],[{key:"isAvailable",value:function(){return"undefined"!=typeof window&&window.webkit&&window.webkit.messageHandlers}}]),t}(pi)),Ti=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},Li=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ji=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},function(e){e[e.KNOWN=1]="KNOWN",e[e.FOUND=2]="FOUND",e[e.LOST=4]="LOST"}(xi||e("PoseStatus",xi={})),Si=new te(0,0),Oi=new te(0,0),Ci=new Se(0,0),zi=new te(0,0),bi=new Te,_i=new Ee,ki=new Ne,e("ContextService",Ri=function(){function e(t){var i=this;Ye(this,e),this.sessionService=t,this.frameStateEvent=new Wt,this.updateEvent=new Wt,this.renderEvent=new Wt,this.postRenderEvent=new Wt,this.localOriginChangeEvent=new Wt,this.timestamp=-1,this.deltaTime=0,this.maxDeltaTime=1/3*1e3,this.time=new me(0,0),this.entities=new we,this.localOriginEastNorthUp=this.entities.add(new Me({id:"ar.localENU",name:"localOriginENU",position:new ae(void 0,Ce.FIXED),orientation:new ue(Se.IDENTITY)})),this.localOriginEastUpSouth=this.entities.add(new Me({id:"ar.localEUS",name:"localOriginEUS",position:new ae(te.ZERO,this.localOriginEastNorthUp),orientation:new ue(Se.fromAxisAngle(te.UNIT_X,Math.PI/2))})),this.defaultReferenceFrame=this.localOriginEastNorthUp,this._entityPoseMap=new Map,this._updatingEntities=new Set,this._knownEntities=new Set,this._scratchFrameState={time:{},entities:{},viewport:{},subviews:[]},this._frameIndex=-1,this.sessionService.manager.on["ar.context.update"]=function(e){if("string"!=typeof e.reality&&(e.reality=e.reality&&e.reality.uri),!e.viewport&&e.view&&e.view.viewport&&(e.viewport=e.view.viewport),!e.subviews&&e.view&&e.view.subviews){e.subviews=e.view.subviews,bi.near=.01,bi.far=1e7;var t=!0,n=!1,r=void 0;try{for(var o,s=e.subviews[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var a=o.value,u=a.frustum;bi.xOffset=u.xOffset,bi.yOffset=u.yOffset,bi.fov=u.fov,bi.aspectRatio=u.aspectRatio,a.projectionMatrix=Ne.clone(bi.projectionMatrix,a.projectionMatrix)}}catch(e){n=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}!e.entities[_t]&&e.view&&e.view.pose&&(e.entities[_t]=e.view.pose),i._update(e)},this.sessionService.manager.on["ar.context.entityStateMap"]=function(e){for(var t in e)i.updateEntityFromSerializedPose(t,e[t])},bi.fov=Math.PI/3,bi.aspectRatio=1,this._serializedFrameState={reality:void 0,time:me.now(),entities:{},viewport:{x:0,y:0,width:0,height:0},subviews:[{type:Yt.SINGULAR,viewport:{x:0,y:0,width:1,height:1},projectionMatrix:bi.projectionMatrix}]},this._update(this._serializedFrameState)}return qe(e,[{key:"getTime",value:function(){return this.time}},{key:"setDefaultReferenceFrame",value:function(e){this.defaultReferenceFrame=e}},{key:"getDefaultReferenceFrame",value:function(){return this.defaultReferenceFrame}},{key:"subscribeToEntityById",value:function(e){return this.sessionService.manager.send("ar.context.subscribe",{id:e}),this.entities.getOrCreateEntity(e)}},{key:"subscribe",value:function(e){var t=this;return e=e.id||e,this.sessionService.manager.request("ar.context.subscribe",{id:e}).then(function(){return t.entities.getOrCreateEntity(e)})}},{key:"unsubscribe",value:function(e){e=e.id||e,this.sessionService.manager.send("ar.context.unsubscribe",{id:e})}},{key:"getEntityPose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultReferenceFrame,i=this.time,n=e;if("string"==typeof n&&(n=this.entities.getById(e)),!n)throw new Error("Unknown entity "+e);var r=t;if("string"==typeof r&&(r=this.entities.getById(t)),!fe(r))throw new Error("Unknown entity "+t);var o=n.id+"@"+q(r),s=this._entityPoseMap.get(o);s||(s={position:new te,orientation:new Se,referenceFrame:r,poseStatus:0},this._entityPoseMap.set(o,s));var a=S(n,i,r,s.position),u=O(n,i,r,s.orientation),c=a&&u,l=0,f=s.poseStatus;return c&&(l|=xi.KNOWN),!c||f&xi.KNOWN?!c&&f&xi.KNOWN&&(l|=xi.LOST):l|=xi.FOUND,s.poseStatus=l,s}},{key:"createFrameState",value:function(e,t,i,n,r,o,s){var a=n.meta=n.meta||{};a.horizontalAccuracy=r||a.horizontalAccuracy,a.verticalAccuracy=o||a.verticalAccuracy,a.headingAccuracy=s||a.headingAccuracy;var u=!0,c=!1,l=void 0;try{for(var f,h=i[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;if(!isFinite(d.projectionMatrix[0]))throw new Error("Invalid projection matrix (contains non-finite values)")}}catch(e){c=!0,l=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}var M=this._scratchFrameState;return M.time=me.clone(e,M.time),M.viewport=Bt.clone(t,M.viewport),M.subviews=Gt.clone(i,M.subviews),M.entities[_t]=C(n,e),M}},{key:"submitFrameState",value:function(e){e.index=++this._frameIndex,this._update(e)}},{key:"_update",value:function(e){if(this._knownEntities.clear(),e.entities)for(var t in e.entities)this.updateEntityFromSerializedPose(t,e.entities[t]),this._updatingEntities.add(t),this._knownEntities.add(t);var i=!0,n=!1,r=void 0;try{for(var o,s=this._updatingEntities[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var a=o.value;if(!this._knownEntities.has(a)){var u=this.entities.getById(a);u&&(u.position=void 0,u.orientation=void 0),this._updatingEntities.delete(a)}}}catch(e){n=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}var c=performance.now();this.deltaTime=Math.min(c-this.timestamp,this.maxDeltaTime),this.timestamp=c,me.clone(e.time,this.time),this._updateStage(e),this._updateLocalOrigin(e),this._serializedFrameState=e,this.frameStateEvent.raiseEvent(e),this.updateEvent.raiseEvent(this),this.renderEvent.raiseEvent(this),this.postRenderEvent.raiseEvent(this)}},{key:"updateEntityFromSerializedPose",
value:function(e,t){var i=this.entities.getOrCreateEntity(e);if(!t)return i.position=void 0,i.orientation=void 0,i;var n=t.p,r=t.o,o="number"==typeof t.r?t.r:this.entities.getOrCreateEntity(t.r),s=i.position,a=i.orientation;return s instanceof ae&&s.referenceFrame===o?s.setValue(n,o):i.position=new ae(n,o),a instanceof ue?a.setValue(r):i.orientation=new ue(r),i}},{key:"_updateStage",value:function(e){var t=this.entities.getById(_t),i=this.entities.getById(Rt),n=this.entities.getById(kt),r=this.entities.getById(Pt);if(t&&i){i.position&&i.position.setValue(void 0,void 0),i.orientation&&i.orientation.setValue(void 0);var o=e.time;if(n&&r)var s=S(n,o,r,Si);s||(s=te.fromElements(0,0,bt,Si));var a=S(t,o,Ce.FIXED,Oi);if(a){var u=Pe.eastNorthUpToFixedFrame(a,void 0,ki),c=Ne.getRotation(u,_i),l=Se.fromRotationMatrix(c),f=Ee.multiplyByVector(c,s,s),h=te.subtract(a,f,f);i.position=i.position||new ae,i.orientation=i.orientation||new ue,i.position.setValue(h,Ce.FIXED),i.orientation.setValue(l)}else{var d=t&&t.position?t.position.referenceFrame:void 0;if(d){var M=S(t,o,d,Oi);if(M){var w=te.subtract(M,s,s);i.position.setValue(w,d),i.orientation.setValue(Se.IDENTITY)}}}}}},{key:"_updateLocalOrigin",value:function(e){var t=this.entities.getById(_t),i=this.entities.getById(Rt),n=i&&i.position?i.position.referenceFrame:void 0;if(t&&i){if(!fe(n))return void(this.localOriginEastNorthUp.position.referenceFrame!==i&&(this.localOriginEastNorthUp.position.setValue(te.ZERO,i),this.localOriginEastNorthUp.orientation.setValue(Se.IDENTITY),this.localOriginChangeEvent.raiseEvent(void 0)));var r=t.position&&t.position.getValueInReferenceFrame(e.time,n,Si);if(r){var o=this.localOriginEastNorthUp.position.getValueInReferenceFrame(e.time,n,zi);if(!o||te.magnitude(te.subtract(r,o,zi))>5e3){var s=this.localOriginEastNorthUp.position,a=this.localOriginEastNorthUp.orientation,u=i.position&&i.position.getValueInReferenceFrame(e.time,n,Si),c=i.orientation&&i.orientation.getValue(e.time,Ci);s.setValue(u,n),a.setValue(c),this.localOriginChangeEvent.raiseEvent(void 0)}}}}},{key:"user",get:function(){return this.entities.getById(_t)}},{key:"serializedFrameState",get:function(){return this._serializedFrameState}},{key:"systemTime",get:function(){return this.timestamp}}]),e}()),Li([Q("timestamp"),ji("design:type",Object),ji("design:paramtypes",[])],Ri.prototype,"systemTime",null),Li([Q("time"),ji("design:type",Function),ji("design:paramtypes",[]),ji("design:returntype","function"==typeof(Ui="undefined"!=typeof me&&me)&&Ui||Object)],Ri.prototype,"getTime",null),Li([Q("defaultReferenceFrame"),ji("design:type",Function),ji("design:paramtypes",["function"==typeof(Qi="undefined"!=typeof Me&&Me)&&Qi||Object]),ji("design:returntype",void 0)],Ri.prototype,"setDefaultReferenceFrame",null),Li([Q("defaultReferenceFrame"),ji("design:type",Function),ji("design:paramtypes",[]),ji("design:returntype","function"==typeof(Bi="undefined"!=typeof Me&&Me)&&Bi||Object)],Ri.prototype,"getDefaultReferenceFrame",null),Li([Q("subscribe"),ji("design:type",Function),ji("design:paramtypes",[String]),ji("design:returntype","function"==typeof(qi="undefined"!=typeof Me&&Me)&&qi||Object)],Ri.prototype,"subscribeToEntityById",null),e("ContextService",Ri=Li([E(),ji("design:paramtypes",["function"==typeof(Yi="undefined"!=typeof Ai&&Ai)&&Yi||Object])],Ri)),e("ContextServiceProvider",Pi=function(){function e(t,i){var n=this;Ye(this,e),this.sessionService=t,this.contextService=i,this.entitySubscriptionsBySubscriber=new WeakMap,this.subscribersByEntityId=new Map,this.subscribersChangeEvent=new Wt,this.publishingReferenceFrameMap=new Map,this._entityPoseCache={},this._sessionEntities={},t.connectEvent.addEventListener(function(e){var t=new Set;n.entitySubscriptionsBySubscriber.set(e,t),e.on["ar.context.subscribe"]=function(i){var r=i.id,o=n.subscribersByEntityId.get(r)||new Set;n.subscribersByEntityId.set(r,o),o.add(e),t.add(r),n.subscribersChangeEvent.raiseEvent({id:r,subscribers:o}),e.closeEvent.addEventListener(function(){o.delete(e),n.subscribersChangeEvent.raiseEvent({id:r,subscribers:o})})},e.on["ar.context.unsubscribe"]=function(i){var r=i.id,o=n.subscribersByEntityId.get(r);o&&o.delete(e),t.delete(r),n.subscribersChangeEvent.raiseEvent({id:r,subscribers:o})},e.closeEvent.addEventListener(function(){t.forEach(function(t){var i=n.subscribersByEntityId.get(t);i&&i.delete(e),n.subscribersChangeEvent.raiseEvent({id:t,subscribers:i})}),n.entitySubscriptionsBySubscriber.delete(e)})}),this.contextService.updateEvent.addEventListener(function(){n._publishUpdates()})}return qe(e,[{key:"publishEntityState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.contextService.time,i=void 0,n=void 0;e.id?(n=e,i=n.id):(i=e,n=this.contextService.entities.getById(i));var r=this.subscribersByEntityId.get(i);if(n&&r){var o=this.publishingReferenceFrameMap.get(i),s=fe(o)&&"string"==typeof o?this.contextService.entities.getById(o):o,a=Ti({},i,C(n,t,s)),u=!0,c=!1,l=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var d=f.value;d.send("ar.context.entityStateMap",a)}}catch(e){c=!0,l=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw l}}}}},{key:"_publishUpdates",value:function(){this._entityPoseCache={};var e=!0,t=!1,i=void 0;try{for(var n,r=this.sessionService.managedSessions[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value;Ut.isRealityAugmenter(o.info.role)&&this._sendUpdateForSession(o)}}catch(e){t=!0,i=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw i}}}},{key:"_sendUpdateForSession",value:function(e){var t=this.contextService.serializedFrameState,i=this._sessionEntities;for(var n in i)delete i[n];if(t.entities)for(var n in t.entities)i[n]=t.entities[n];var r=!0,o=!1,s=void 0;try{for(var a,u=this.entitySubscriptionsBySubscriber.get(e)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,l=this.contextService.entities.getById(c);i[c]=this._getSerializedEntityState(l,t.time)}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}var f=t.entities;t.entities=i,t.time=t.time,t.sendTime=me.now(t.sendTime),e.info.version&&e.send("ar.context.update",t),t.entities=f}},{key:"_getSerializedEntityState",value:function(e,t){if(e){var i=e.id;if(!fe(this._entityPoseCache[i])){var n=this.publishingReferenceFrameMap.get(i),r=fe(n)&&"string"==typeof n?this.contextService.entities.getById(n):n;this._entityPoseCache[i]=C(e,t,r)}return this._entityPoseCache[i]}}}]),e}()),e("ContextServiceProvider",Pi=Li([E(),ji("design:paramtypes",["function"==typeof(Fi="undefined"!=typeof Ai&&Ai)&&Fi||Object,Ri])],Pi)),Vi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Gi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("FocusService",Wi=function(){function e(t){var i=this;Ye(this,e),this.focusEvent=new Wt,this.blurEvent=new Wt,this._hasFocus=!1,t.manager.on["ar.focus.state"]=function(e){var t=e.state;i._hasFocus!==t&&(i._hasFocus=t,t?i.focusEvent.raiseEvent(void 0):i.blurEvent.raiseEvent(void 0))}}return qe(e,[{key:"hasFocus",get:function(){return this._hasFocus}}]),e}()),e("FocusService",Wi=Vi([N(Ai),Gi("design:paramtypes",["function"==typeof(Zi="undefined"!=typeof Ai&&Ai)&&Zi||Object])],Wi)),e("FocusServiceProvider",Hi=function(){function e(t){var i=this;Ye(this,e),this.sessionService=t,this.sessionFocusEvent=new Wt,t.ensureIsRealityManager(),t.manager.connectEvent.addEventListener(function(){setTimeout(function(){!i._session&&i.sessionService.manager.isConnected&&(i.session=i.sessionService.manager)})})}return qe(e,[{key:"session",get:function(){return this._session},set:function(e){if(e&&!e.isConnected)throw new Error("Only a connected session can be granted focus");var t=this._session;t!==e&&(t&&t.send("ar.focus.state",{state:!1}),e&&e.send("ar.focus.state",{state:!0}),this._session=e,this.sessionFocusEvent.raiseEvent({previous:t,current:e}))}}]),e}()),e("FocusServiceProvider",Hi=Vi([N(Ai,Wi),Gi("design:paramtypes",["function"==typeof(Xi="undefined"!=typeof Ai&&Ai)&&Xi||Object])],Hi)),Ki=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Ji=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("VisibilityService",$i=function(){function e(t){var i=this;Ye(this,e),this.showEvent=new Wt,this.hideEvent=new Wt,this._isVisible=!1,t.manager.on["ar.visibility.state"]=function(e){var t=e.state;i._isVisible!==t&&(i._isVisible=t,t?i.showEvent.raiseEvent(void 0):i.hideEvent.raiseEvent(void 0))}}return qe(e,[{key:"isVisible",get:function(){return this._isVisible}}]),e}()),e("VisibilityService",$i=Ki([N(Ai),Ji("design:paramtypes",["function"==typeof(tn="undefined"!=typeof Ai&&Ai)&&tn||Object])],$i)),e("VisibilityServiceProvider",en=function(){function e(t){var i=this;Ye(this,e),this.visibleSessions=new Set,this.sessionChangeEvent=new Wt,t.ensureIsRealityManager(),this.sessionChangeEvent.addEventListener(function(e){e.send("ar.visibility.state",{state:i.visibleSessions.has(e)})}),t.manager.connectEvent.addEventListener(function(){i.set(t.manager,!0)})}return qe(e,[{key:"set",value:function(e,t){t?this.visibleSessions.has(e)||(this.visibleSessions.add(e),this.sessionChangeEvent.raiseEvent(e)):this.visibleSessions.has(e)&&(this.visibleSessions.delete(e),this.sessionChangeEvent.raiseEvent(e))}}]),e}()),e("VisibilityServiceProvider",en=Ki([N(Ai,$i),Ji("design:paramtypes",["function"==typeof(nn="undefined"!=typeof Ai&&Ai)&&nn||Object])],en)),rn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},on=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},function(e){e[e.PAGE=0]="PAGE",e[e.IMMERSIVE=1]="IMMERSIVE"}(sn||e("PresentationMode",sn={})),e("ParentElement",an="#argon"),e("ViewportService",un=function(){function e(t,i,n,r){var o=this;if(Ye(this,e),this.sessionService=t,this.contextService=i,this.focusService=n,this.uiEvent=new Wt,this.changeEvent=new Wt,this.presentationModeChangeEvent=new Wt,this._presentationMode=sn.PAGE,this.autoPublishEmbeddedViewport=!0,"undefined"!=typeof document&&document.createElement){this.rootElement=document.createElement("div"),this.rootElement.classList.add("argon-view");var s=this.element=document.createElement("div");s.classList.add("argon-viewport"),this.rootElement.appendChild(s),ci&&s.addEventListener("touchmove",function(e){e.touches.length>1&&e.preventDefault()},!0);var a=function(e){o.sessionService.manager.isClosed||(e.insertBefore(o.rootElement,e.firstChild),o.sessionService.manager.closeEvent.addEventListener(function(){o.rootElement.remove()}))};if(r&&r instanceof HTMLElement)a(r);else if("#argon"===r){var u=document.querySelector("#argon");u?a(u):ln().then(a)}else if(r){var c=document.querySelector(""+r);c?a(c):_(r).then(a)}this.focusService.focusEvent.addEventListener(function(){document.documentElement.classList.remove("argon-no-focus"),document.documentElement.classList.remove("argon-blur"),document.documentElement.classList.add("argon-focus")}),this.focusService.blurEvent.addEventListener(function(){document.documentElement.classList.remove("argon-focus"),document.documentElement.classList.add("argon-blur"),document.documentElement.classList.add("argon-no-focus")}),this.presentationModeChangeEvent.addEventListener(function(e){switch(e){case sn.PAGE:o.rootElement.classList.remove("argon-maximize"),document.documentElement.classList.remove("argon-immersive");break;case sn.IMMERSIVE:o.rootElement.classList.add("argon-maximize"),document.documentElement.classList.add("argon-immersive")}}),this.sessionService.manager.on["ar.viewport.uievent"]=$t,this.sessionService.isRealityViewer||(j(this,function(e){o.sessionService.manager.isConnected&&o.sessionService.manager.version[0]>=1&&o.sessionService.manager.send("ar.viewport.forwardUIEvent",e)}),this._watchEmbeddedViewport())}t.manager.on["ar.viewport.presentationMode"]=function(e){var t=e.mode;o._updatePresentationMode(t)},this.contextService.frameStateEvent.addEventListener(function(e){o._updateViewport(e.viewport)}),t.manager.connectEvent.addEventListener(function(){0===t.manager.version[0]&&o._updatePresentationMode(sn.IMMERSIVE)})}return qe(e,[{key:"requestPresentationMode",value:function(e){return this.sessionService.manager.request("ar.viewport.requestPresentationMode",{mode:e})}},{key:"_updatePresentationMode",value:function(e){var t=this.presentationMode;t!==e&&(this._presentationMode=e,this.presentationModeChangeEvent.raiseEvent(e),this.changeEvent.raiseEvent(void 0))}},{key:"publishEmbeddedViewport",value:function(e){this.sessionService.manager.isConnected&&this.sessionService.manager.version[0]>=1&&this.sessionService.manager.send("ar.viewport.embeddedViewport",{viewport:e})}},{key:"_updateViewport",value:function(e){var t=this,i=JSON.stringify(e);this._currentViewport=Bt.clone(e,this._currentViewport),this._currentViewportJSON&&this._currentViewportJSON===i||(this._currentViewportJSON=i,this.element&&!this.sessionService.isRealityManager&&requestAnimationFrame(function(){t.element.style.position="fixed",t.element.style.left=e.x+"px",t.element.style.bottom=e.y+"px",t.element.style.width=e.width+"px",t.element.style.height=e.height+"px"}),this.changeEvent.raiseEvent(void 0))}},{key:"sendUIEventToSession",value:function(e,t){t&&t.isConnected&&t.send("ar.viewport.uievent",e)}},{key:"_watchEmbeddedViewport",value:function(){var e=this,t=function(){if(e.element&&e.autoPublishEmbeddedViewport){var t=e.rootElement.parentElement,i=t&&t.getBoundingClientRect();i&&e.publishEmbeddedViewport({x:i.left,y:window.innerHeight-i.bottom,width:i.width,height:i.height})}};setInterval(function(){e.focusService.hasFocus||t()},500),this.contextService.frameStateEvent.addEventListener(function(){e.focusService.hasFocus&&t()})}},{key:"presentationMode",get:function(){return this._presentationMode}},{key:"current",get:function(){return this.contextService.serializedFrameState.viewport}}]),e}()),e("ViewportService",un=rn([N(Ai,Ri,Wi,Mt.of(an)),on("design:paramtypes",["function"==typeof(fn="undefined"!=typeof Ai&&Ai)&&fn||Object,"function"==typeof(hn="undefined"!=typeof Ri&&Ri)&&hn||Object,"function"==typeof(dn="undefined"!=typeof Wi&&Wi)&&dn||Object,Object])],un)),e("ViewportServiceProvider",cn=function(){function e(t,i,n,r){var o=this;Ye(this,e),this.sessionService=t,this.viewportService=i,this.focusServiceProvider=n,this.embeddedViewports=new WeakMap,this.forwardedUIEvent=new Wt,t.ensureIsRealityManager(),t.connectEvent.addEventListener(function(e){e.on["ar.viewport.forwardUIEvent"]=function(e){o.forwardedUIEvent.raiseEvent(e)},e.on["ar.viewport.requestPresentationMode"]=function(t){var i=t.mode;return o._handleRequestPresentationMode(e,i)},e.on["ar.viewport.embeddedViewport"]=function(t){o.embeddedViewports.set(e,t)}})}return qe(e,[{key:"sendUIEventToSession",value:function(e,t){t.send("ar.viewport.uievent",e)}},{key:"_handleRequestPresentationMode",value:function(e,t){if(this._ensurePersmission(e),this.viewportService.presentationMode!==t){this.sessionService.manager.send("ar.viewport.presentationMode",{mode:t});var i=!0,n=!1,r=void 0;try{for(var o,s=this.sessionService.managedSessions[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)e=o.value,e.send("ar.viewport.presentationMode",{mode:t})}catch(e){n=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw r}}}}},{key:"_ensurePersmission",value:function(e){if(e!==this.sessionService.manager&&e!==this.focusServiceProvider.session)throw new Error("Application must have focus")}}]),e}()),e("ViewportServiceProvider",cn=rn([E(),on("design:paramtypes",["function"==typeof(Mn="undefined"!=typeof Ai&&Ai)&&Mn||Object,un,"function"==typeof(wn="undefined"!=typeof Hi&&Hi)&&wn||Object,"function"==typeof(gn="undefined"!=typeof en&&en)&&gn||Object])],cn)),"undefined"!=typeof document&&document.createElement&&!function(){var e=document.querySelector("meta[name=viewport]");e||(e=document.createElement("meta")),e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",document.head.appendChild(e);var t=document.querySelector("meta[name=argon]");t||(t=document.createElement("meta")),t.name="argon",document.head.appendChild(t);var i=void 0;ln=function(){return i?i:i=_("#argon").catch(function(){var e=document.createElement("div");return e.id="argon",document.body.appendChild(e),e})};var n=document.createElement("style");n.type="text/css",document.head.insertBefore(n,document.head.firstChild);var r=n.sheet;r.insertRule("\n        #argon {\n            position: fixed;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view, .argon-view ~ * {\n            width: 100%;\n            height: 100%;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view > * {\n            position: absolute;\n            overflow: hidden;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n            -webkit-tap-highlight-color: transparent;\n            -webkit-user-select: none;\n            user-select: none;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-view > * > * {\n            pointer-events: auto;\n            -webkit-tap-highlight-color: initial;\n            -webkit-user-select: initial;\n            user-select: initial;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-viewport {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            pointer-events: auto;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-viewport > * {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            pointer-events: none;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-viewport > * > * {\n            pointer-events: auto;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-maximize, .argon-maximize ~ * {\n            pointer-events: none;\n            position: fixed !important;\n            width: 100% !important;\n            height: 100% !important;\n            left: 0;\n            bottom: 0;\n            margin: 0;\n            border: 0;\n            padding: 0;\n        }\n    ",r.cssRules.length),r.insertRule("\n        .argon-interactive {\n            pointer-events: auto;\n        }\n    ",r.cssRules.length)}(),yn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},pn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},An=new te,vn=new Se,e("LocationService",mn=function(){function e(t,i){var n=this;Ye(this,e),this.sessionService=t,this.contextService=i,this.stage=this.contextService.entities.add(new Me({id:Rt,name:"Stage",position:new ae(te.ZERO,this.physicalStage),orientation:new ue(Se.IDENTITY)})),this.physicalStage=this.contextService.entities.add(new Me({id:Pt,name:"Physical Stage"})),i.frameStateEvent.addEventListener(function(){n.stageCartographic=n._updateCartographic(n.stage,n.stageCartographic),n.physicalStageCartographic=n._updateCartographic(n.physicalStage,n.physicalStageCartographic)})}return qe(e,[{key:"subscribeGeopose",value:function(e){return e&&e.physical?Promise.all([this.contextService.subscribe(Pt),this.contextService.subscribe(Rt)]).then(function(){}):this.contextService.subscribe(Rt).then(function(){})}},{key:"unsubscribeGeopose",value:function(){this.contextService.unsubscribe(Rt),this.contextService.unsubscribe(Pt)}},{key:"setGeolocationOptions",value:function(e){this.sessionService.manager.send("ar.location.setGeolocationOptions",{options:e})}},{key:"_updateCartographic",value:function(e,t){if(e){var i=S(e,this.contextService.time,Ce.FIXED,An);return i?(t=t||new ne,ne.fromCartesian(i,void 0,t)):void 0}}},{key:"stageHorizontalAccuracy",get:function(){return this.stage.meta?this.stage.meta.horizontalAccuracy:void 0}},{key:"stageVerticalAccuracy",get:function(){return this.stage.meta?this.stage.meta.verticalAccuracy:void 0}},{key:"physicalStageHorizontalAccuracy",get:function(){return this.physicalStage.meta?this.physicalStage.meta.horizontalAccuracy:void 0}},{key:"physicalStageVerticalAccuracy",get:function(){return this.physicalStage.meta?this.physicalStage.meta.verticalAccuracy:void 0}}]),e}()),e("LocationService",mn=yn([E(),pn("design:paramtypes",["function"==typeof(En="undefined"!=typeof Ai&&Ai)&&En||Object,"function"==typeof(Nn="undefined"!=typeof Ri&&Ri)&&Nn||Object])],mn)),e("LocationServiceProvider",Dn=function(){function e(t,i,n){var r=this;Ye(this,e),this.sessionService=t,this.contextServiceProvider=i,this.locationService=n,this._sessionGeolocationOptions=new Map,this.sessionService.connectEvent.addEventListener(function(e){e.on["ar.location.setGeolocationOptions"]=function(t){r._handleSetGeolocationOptions(e,t)}}),this.contextServiceProvider.subscribersChangeEvent.addEventListener(function(e){var t=e.id;n.physicalStage.id===t&&r._checkPhysicalStageSubscribers()}),this.contextServiceProvider.publishingReferenceFrameMap.set(n.stage.id,Ce.FIXED),this.contextServiceProvider.publishingReferenceFrameMap.set(n.physicalStage.id,Ce.FIXED)}return qe(e,[{key:"_checkPhysicalStageSubscribers",value:function(){var e=this.locationService.physicalStage.id,t=this.contextServiceProvider.subscribersByEntityId.get(e);t&&t.size>0?JSON.stringify(this._targetGeolocationOptions)!==JSON.stringify(this._currentGeolocationOptions)&&(this._currentGeolocationOptions=this._targetGeolocationOptions,this.onStopGeolocationUpdates(),this.onStartGeolocationUpdates(this._targetGeolocationOptions)):(this.onStopGeolocationUpdates(),this._currentGeolocationOptions=void 0)}},{key:"_handleSetGeolocationOptions",value:function(e,t){var i=this;this._sessionGeolocationOptions.set(e,t),e.closeEvent.addEventListener(function(){i._updateGeolocationOptions()}),this._updateGeolocationOptions()}},{key:"_updateGeolocationOptions",value:function(){var e={},t=!0,i=!1,n=void 0;try{for(var r,o=this._sessionGeolocationOptions.values()[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;e.enableHighAccuracy=e.enableHighAccuracy||s.enableHighAccuracy}}catch(e){i=!0,n=e}finally{try{!t&&o.return&&o.return()}finally{if(i)throw n}}this._targetGeolocationOptions.enableHighAccuracy!==e.enableHighAccuracy&&(this._targetGeolocationOptions=e,this._checkPhysicalStageSubscribers())}},{key:"setGeolocation",value:function(e,t,i,n,r){var o=this.locationService.physicalStage;if(fe(e)&&fe(t)){var s=fe(i)?i-bt:0,a=te.fromDegrees(e,t,s,void 0,An),u=Pe.headingPitchRollQuaternion(a,0,0,0,void 0,vn);o.position=o.position||new ae,o.orientation=o.orientation||new ue,o.position.setValue(a,Ce.FIXED),o.orientation.setValue(u),o.meta={horizontalAccuracy:n,verticalAccuracy:r}}else o.position=void 0,o.orientation=void 0,o.meta=void 0;this.contextServiceProvider.publishEntityState(o)}},{key:"onStartGeolocationUpdates",value:function(e){var t=this;if("undefined"==typeof navigator||!navigator.geolocation)throw new Error("Unable to start geolocation updates");return new Promise(function(i,n){fe(t._geolocationWatchId)?i():!function(){var r=!1;t._geolocationWatchId=navigator.geolocation.watchPosition(function(e){r||(i(),r=!0),t.setGeolocation(e.coords.longitude,e.coords.latitude,e.coords.altitude||0,e.coords.accuracy>0?e.coords.accuracy:void 0,e.coords.altitudeAccuracy||void 0)},n,e)}()})}},{key:"onStopGeolocationUpdates",value:function(){"undefined"!=typeof navigator&&fe(this._geolocationWatchId)&&(navigator.geolocation.clearWatch(this._geolocationWatchId),this._geolocationWatchId=void 0)}}]),e}()),e("LocationServiceProvider",Dn=yn([E(),pn("design:paramtypes",["function"==typeof(In="undefined"!=typeof Ai&&Ai)&&In||Object,"function"==typeof(Tn="undefined"!=typeof Pi&&Pi)&&Tn||Object,mn])],Dn)),Ln=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},jn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("Subview",xn=function e(){Ye(this,e)}),Sn=new te,On=new Se,Cn=new Se,zn=new Ee,bn=new Ne,_n=new Te,kn={p:te.ZERO,o:Se.IDENTITY,r:_t},Rn=void 0,e("ViewService",Pn=function(){function e(t,i,n,r){var o=this;Ye(this,e),this.sessionService=t,this.contextService=i,this.viewportService=n,this._subviews=[],this._frustums=[],this.eye=this.contextService.entities.add(new Me({id:_t,name:"Eye",position:new ae(void 0,void 0),orientation:new ue(Se.IDENTITY)})),this.physicalEye=this.contextService.entities.add(new Me({id:kt,name:"Physical Eye",position:new ae(void 0,void 0),orientation:new ue(Se.IDENTITY)})),this.sessionService.manager.on["ar.view.suggestedViewState"]=function(e){o.suggestedViewState=e},this.contextService.frameStateEvent.addEventListener(function(e){o._processFrameState(e)}),this._processFrameState(this.contextService.serializedFrameState),this.sessionService.manager.connectEvent.addEventListener(function(){0===o.sessionService.manager.version[0]&&r.get(Un)})}return qe(e,[{key:"_processFrameState",value:function(e){e.entities&&e.entities[this.physicalEye.id]||Y(this.contextService);var t=e.subviews,i=this._subviews;i.length=t.length;var n=0,r=!0,o=!1,s=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,l="ar.view_"+n,f=c.pose||kn;this.contextService.updateEntityFromSerializedPose(l,f);var h=this.contextService.entities.getById(l),d=i[n]=i[n]||{};d.index=n,d.type=c.type,d.pose=this.contextService.getEntityPose(h),d.viewport=d.viewport||{},d.viewport.x=c.viewport.x,d.viewport.y=c.viewport.y,d.viewport.width=c.viewport.width,d.viewport.height=c.viewport.height,d.frustum=this._frustums[n]=this._frustums[n]||new Te,R(c.projectionMatrix,d.frustum),d.projectionMatrix=d.frustum.projectionMatrix,n++}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}}},{key:"getViewport",value:function(){return this.viewportService.current}},{key:"getSubviews",value:function(){return this._subviews}},{key:"getSubviewEntity",value:function(e){var t=this.contextService.entities.getOrCreateEntity("ar.view_"+e);return t.position||(t.position=new ae),t.orientation||(t.orientation=new ue),t}},{key:"requestAnimationFrame",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this,i=function(){V(),t.suggestedViewState?e(Yn.currentTime):t.requestAnimationFrame(e)};return Rn?Rn.requestAnimationFrame(i):requestAnimationFrame(i)})},{key:"eyeHeadingAccuracy",get:function(){return this.eye.meta.headingAccuracy}},{key:"element",get:function(){return this.viewportService.element}},{key:"subviews",get:function(){return this._subviews}}]),e}()),Ln([Q("app.viewport.current"),jn("design:type",Function),jn("design:paramtypes",[]),jn("design:returntype",void 0)],Pn.prototype,"getViewport",null),e("ViewService",Pn=Ln([E,jn("design:paramtypes",["function"==typeof(Vn="undefined"!=typeof Ai&&Ai)&&Vn||Object,"function"==typeof(Gn="undefined"!=typeof Ri&&Ri)&&Gn||Object,"function"==typeof(Wn="undefined"!=typeof un&&un)&&Wn||Object,"function"==typeof(Hn="undefined"!=typeof Tt&&Tt)&&Hn||Object])],Pn)),e("ViewServiceProvider",Un=function(){function e(t,i,n,r,o,s){var a=this;Ye(this,e),this.sessionService=t,this.contextService=i,this.contextServiceProvider=n,this.viewService=r,this.viewportService=o,this.locationService=s,this.autoSubmitFrame=!0,this.contextServiceProvider.publishingReferenceFrameMap.set(this.viewService.eye.id,Rt),this.contextServiceProvider.publishingReferenceFrameMap.set(this.viewService.physicalEye.id,Pt);var u=function e(){a.sessionService.manager.isClosed||a.viewService.requestAnimationFrame(e),a.update()};this.viewService.requestAnimationFrame(u),this.contextService.postRenderEvent.addEventListener(function(){a.autoSubmitFrame&&Rn&&Rn.isPresenting&&Rn.submitFrame()});var c=void 0,l=void 0,f=function(e){var t=e.display||e.detail.vrdisplay||e.detail.display;if(t){var i=t.getLayers(),n=Rn===t,r=!0,o=!1,s=void 0;try{for(var u,f=i[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){var h=u.value;if(h.source&&a.viewportService.element.contains(h.source)){n=!0;break}}}catch(e){o=!0,s=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw s}}n&&(t.isPresenting?(Rn=t,t.displayName.match(/Cardboard/g)&&(c=t.getLayers()[0].source,c&&c.classList.add("argon-interactive"),l=a.viewportService.presentationMode,a.viewportService.requestPresentationMode(sn.IMMERSIVE))):(Rn=void 0,c&&t.displayName.match(/Cardboard/g)&&(c.classList.remove("argon-interactive"),c=void 0,a.viewportService.requestPresentationMode(l))))}a.viewportService.presentationModeChangeEvent.addEventListener(function(e){e===sn.PAGE&&a.exitPresentHMD()})};window.addEventListener("vrdisplaypresentchange",f),this.update()}return qe(e,[{key:"update",value:function(){var e=this;this.onUpdate(),this.contextServiceProvider.publishEntityState(this.viewService.physicalEye),this.sessionService.managedSessions.forEach(function(t){Ut.isRealityViewer(t.info.role)&&t.send("ar.view.suggestedViewState",e.viewService.suggestedViewState)})}},{key:"onUpdate",value:function(){Rn?this._updateViewFromWebVR(Rn):this._updateViewSingular()}},{key:"requestPresentHMD",value:function(){var e=this;if("undefined"!=typeof navigator&&navigator.getVRDisplays){var t=function(t){Rn=t;var i=e.viewportService.element,n=[];return n[0]={source:i.querySelector("canvas")||i.lastElementChild},t.requestPresent(n).catch(function(e){throw Rn=void 0,e})};return navigator.activeVRDisplays&&navigator.activeVRDisplays.length?t(navigator.activeVRDisplays[0]):navigator.getVRDisplays().then(function(e){return e[0]}).then(t)}throw new Error("No HMD available")}},{key:"exitPresentHMD",value:function(){if(Rn){var e=Rn;return Rn=void 0,e.exitPresent()}return Promise.resolve()}},{key:"_updateViewSingular",value:function(){var e=this.viewService.suggestedViewState=this.viewService.suggestedViewState||{},t=e.viewport=e.viewport||{};t.x=0,t.y=0,t.width=this.viewportService.rootElement.clientWidth,t.height=this.viewportService.rootElement.clientHeight;var i=e.subviews=e.subviews||[];i.length=1;var n=i[0]=i[0]||{};n.type=Yt.SINGULAR,n.viewport=n.viewport||{},n.viewport.x=0,n.viewport.y=0,n.viewport.width=t.width,n.viewport.height=t.height;var r=t.width/t.height;_n.near=.01,_n.far=5e8,_n.fov=Math.PI/3,_n.aspectRatio=isFinite(r)&&0!==r?r:1,n.projectionMatrix=Ne.clone(_n.projectionMatrix,n.projectionMatrix),Y(this.contextService)}},{key:"_updateViewFromWebVR",value:function(e){var t=this.viewService.suggestedViewState=this.viewService.suggestedViewState||{},i=t.viewport=t.viewport||{};
i.x=0,i.y=0,i.width=this.viewportService.rootElement.clientWidth,i.height=this.viewportService.rootElement.clientHeight;var n=this._vrFrameData=this._vrFrameData||new VRFrameData;if(!e.getFrameData(n))return this.viewService.suggestedViewState;var r=e.getLayers(),o=r[0].leftBounds,s=r[0].rightBounds,a=t.subviews=t.subviews||[],u=a[0]=a[0]||{},c=a[1]=a[1]||{};u.type=Yt.LEFTEYE,c.type=Yt.RIGHTEYE;var l=u.viewport=u.viewport||{};l.x=o[0]*i.width,l.y=o[1]*i.height,l.width=o[2]*i.width,l.height=o[3]*i.height;var f=c.viewport=c.viewport||{};f.x=s[0]*i.width,f.y=s[1]*i.height,f.width=s[2]*i.width,f.height=s[3]*i.height,u.projectionMatrix=Ne.clone(n.leftProjectionMatrix,u.projectionMatrix),c.projectionMatrix=Ne.clone(n.rightProjectionMatrix,c.projectionMatrix);var h=Ne.IDENTITY.clone(bn);e.stageParameters&&Ne.inverseTransformation(e.stageParameters.sittingToStandingTransform,h);var d=Ne.getRotation(h,zn),M=Se.fromRotationMatrix(d,On),w=Ne.multiplyTransformation(n.leftViewMatrix,h,bn),g=Ne.multiplyTransformation(n.rightViewMatrix,h,bn),y=this.viewService.physicalEye,p=this.locationService.physicalStage;if(e.displayName.match(/polyfill/g))Y(this.contextService);else{var A=n.pose.position?te.unpack(n.pose.position,0,Sn):void 0,v=A?Ne.multiplyByPoint(h,A,Sn):void 0,m=n.pose.orientation?Se.unpack(n.pose.orientation,0,Cn):void 0,D=m?Se.multiply(M,m,On):void 0;y.position.setValue(v,p),y.orientation.setValue(D)}var E=this.viewService.getSubviewEntity(0),N=Ne.getTranslation(w,Sn);E.position.setValue(N,p);var I=this.viewService.getSubviewEntity(1),T=Ne.getTranslation(g,Sn);I.position.setValue(T,p)}},{key:"isPresentingHMD",get:function(){return!(!Rn||!Rn.isPresenting)}}]),e}()),e("ViewServiceProvider",Un=Ln([E,jn("design:paramtypes",["function"==typeof(Zn="undefined"!=typeof Ai&&Ai)&&Zn||Object,"function"==typeof(Xn="undefined"!=typeof Ri&&Ri)&&Xn||Object,"function"==typeof(Kn="undefined"!=typeof Pi&&Pi)&&Kn||Object,Pn,"function"==typeof(Jn="undefined"!=typeof un&&un)&&Jn||Object,"function"==typeof($n="undefined"!=typeof mn&&mn)&&$n||Object])],Un)),Qn=void 0,Bn=void 0,qn=void 0,Yn=new re,Fn=new me(0,0),e("RealityViewer",er=function(){function e(t){var i=this;Ye(this,e),this.uri=t,this.providedReferenceFrames=[],this.connectEvent=new Wt,this.presentChangeEvent=new Wt,this._isPresenting=!1,this.connectEvent.addEventListener(function(e){i._session&&i._session.close(),i._session=e,e.closeEvent.addEventListener(function(){i._session===e&&(i._session=void 0)})})}return qe(e,[{key:"destroy",value:function(){this.session&&this.session.close()}},{key:"setPresenting",value:function(e){this._isPresenting!==e&&(this._isPresenting=e,this.presentChangeEvent.raiseEvent(void 0))}},{key:"isPresenting",get:function(){return this._isPresenting}},{key:"session",get:function(){return this._session}}],[{key:"getType",value:function(e){if(void 0!==e)return"reality"===e.split(":")[0]?e:"hosted"}}]),e}()),er.DEFAULT="reality:default",er.EMPTY="reality:empty",er.LIVE="reality:live",tr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ir=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("EmptyRealityViewer",nr=function(e){function t(e,i,n,r,o){Ye(this,t);var s=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return s.sessionService=e,s.contextService=i,s.viewService=n,s.viewportService=r,s.uri=o,s.type="empty",s}return zt(t,e),qe(t,[{key:"load",value:function(){var e=this,t=this.sessionService.addManagedSessionPort(this.uri);t.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(t)});var i=this.sessionService.createSessionPort(this.uri);i.on["ar.device.state"]=function(){},i.on["ar.visibility.state"]=function(){},i.on["ar.focus.state"]=function(){},i.on["ar.viewport.uievent"]=function(){},i.on["ar.viewport.presentationMode"]=function(){},i.on["ar.view.suggestedViewState"]=function(){},i.on["ar.context.update"]=function(){},i.on["ar.reality.connect"]=function(){},i.connectEvent.addEventListener(function(){function t(e){switch(e){case"W".charCodeAt(0):return"moveForward";case"S".charCodeAt(0):return"moveBackward";case"R".charCodeAt(0):return"moveUp";case"F".charCodeAt(0):return"moveDown";case"D".charCodeAt(0):return"moveRight";case"A".charCodeAt(0):return"moveLeft";default:return}}var n=new J(e.viewportService.element),r={moveForward:!1,moveBackward:!1,moveUp:!1,moveDown:!1,moveLeft:!1,moveRight:!1},o=function(e){var i=t(e.keyCode);"undefined"!=typeof i&&(r[i]=!0)},s=function(e){var i=t(e.keyCode);"undefined"!=typeof i&&(r[i]=!1)};document.addEventListener("keydown",o,!1),document.addEventListener("keyup",s,!1),i.closeEvent.addEventListener(function(){n.destroy(),document.removeEventListener("keydown",o),document.removeEventListener("keyup",s)});var a=new Se,u=new Se,c=new te,l=new te,f=new Se,h=new Ee,d=new te(0,0,1),M=new te(1,0,0),w=new te(0,-1,0),g=new Te,y=1.77,p=new te(0,-1,0),A=Se.fromAxisAngle(te.UNIT_X,De.PI_OVER_TWO),v=new ae(new te(0,0,y),e.contextService.entities.getById(Pt)),m=new ue(A);Ee.fromQuaternion(f,h);var D=new Me({position:v,orientation:m}),E=e.viewService,N=[],I=function t(o){if(i.isConnected){if(E.requestAnimationFrame(t),!e.isPresenting)return void n.reset();var s=e.viewService.suggestedViewState;if(s){if(Gt.clone(s.subviews,N),!s.strict){if(R(N[0].projectionMatrix,g),g.fov=E.subviews[0].frustum.fov,n.isMoving($.WHEEL)){var y=n.getMovement($.WHEEL),A=y.endPosition.y;g.fov=Math.min(Math.max(g.fov-.02*A,Math.PI/8),Math.PI-Math.PI/8)}if(n.isMoving($.PINCH)){var I=n.getMovement($.PINCH),T=I.distance.endPosition.y-I.distance.startPosition.y;g.fov=Math.min(Math.max(g.fov-.02*T,Math.PI/8),Math.PI-Math.PI/8)}N.forEach(function(e){var t=e.viewport.width/e.viewport.height;g.aspectRatio=isFinite(t)?t:1,Ne.clone(g.projectionMatrix,e.projectionMatrix)})}var L=e.contextService.entities.getById(Pt),j=ni(e.viewService.physicalEye,o,L,a);if(j||s.strict)m.setValue(j);else{if(n.isMoving($.LEFT_DRAG)){var x=n.getMovement($.LEFT_DRAG),S=O(D,o,L,f);if(S){var C=Se.fromAxisAngle(te.UNIT_Y,g.fov*(x.endPosition.x-x.startPosition.x)/s.viewport.width,u),z=Se.multiply(S,C,C);D.orientation.setValue(z),Ee.fromQuaternion(z,h),Ee.multiplyByVector(h,te.UNIT_Z,d),Ee.multiplyByVector(h,te.UNIT_X,M),Ee.multiplyByVector(h,p,w)}}var b=v.getValueInReferenceFrame(o,L,c),_=.02;r.moveForward&&(te.multiplyByScalar(w,_,l),te.add(b,l,b)),r.moveBackward&&(te.multiplyByScalar(w,-_,l),te.add(b,l,b)),r.moveUp&&(te.multiplyByScalar(d,_,l),te.add(b,l,b)),r.moveDown&&(te.multiplyByScalar(d,-_,l),te.add(b,l,b)),r.moveLeft&&(te.multiplyByScalar(M,-_,l),te.add(b,l,b)),r.moveRight&&(te.multiplyByScalar(M,_,l),te.add(b,l,b)),v.setValue(b,L)}n.reset();var k=e.contextService.createFrameState(o,s.viewport,N,D);i.send("ar.reality.frameState",k)}}};E.requestAnimationFrame(I)}),Promise.resolve().then(function(){var n=e.sessionService.createSynchronousMessageChannel();t.open(n.port1,e.sessionService.configuration),i.open(n.port2,{role:Ut.REALITY_VIEWER,uri:e.uri,title:"Empty"})})}}]),t}(er)),e("EmptyRealityViewer",nr=tr([N(Ai,Ri,Pn,un),ir("design:paramtypes",["function"==typeof(rr="undefined"!=typeof Ai&&Ai)&&rr||Object,"function"==typeof(or="undefined"!=typeof Ri&&Ri)&&or||Object,"function"==typeof(sr="undefined"!=typeof Pn&&Pn)&&sr||Object,"function"==typeof(ar="undefined"!=typeof un&&un)&&ar||Object,String])],nr)),ur=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var s=r.get;if(void 0!==s)return s.call(n)},cr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},lr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("LiveRealityViewer",fr=function(e){function t(e,i,n,r,o){Ye(this,t);var s=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));if(s.sessionService=e,s.viewportService=i,s.viewService=n,s.contextService=r,s.uri=o,"undefined"!=typeof document){s.settingsIframe=document.createElement("iframe"),s.settingsIframe.width="0",s.settingsIframe.height="0",s.settingsIframe.src="https://argonjs.io/tools.argonjs.io/",s.settingsIframe.style.display="none",s.videoFov=Math.PI/2,s.videoElement=document.createElement("video"),s.videoElement.style.width="100%",s.videoElement.style.height="height:100%",s.videoElement.controls=!1,s.videoElement.autoplay=!0,s.videoElement.style.display="none";var a=s.viewportService.element;a.insertBefore(s.settingsIframe,a.firstChild),a.insertBefore(s.videoElement,a.firstChild),s.canvas=document.createElement("canvas"),s.context=s.canvas.getContext("2d"),window.addEventListener("message",function(e){var t=e.origin;"http://argonjs.io"===t&&(s.videoFov=e.data)})}return s.presentChangeEvent.addEventListener(function(){"undefined"!=typeof document&&(s.videoElement.style.display=s.isPresenting?"initial":"none")}),s}return zt(t,e),qe(t,[{key:"destroy",value:function(){ur(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),"undefined"!=typeof document&&(this.settingsIframe.remove(),this.videoElement.remove(),this.canvas.remove())}},{key:"setupInternalSession",value:function(e){var t=this;e.on["ar.device.state"]=function(){},e.on["ar.visibility.state"]=function(){},e.on["ar.focus.state"]=function(){},e.on["ar.viewport.presentationMode"]=function(){},e.on["ar.viewport.uievent"]=function(){},e.on["ar.view.suggestedViewState"]=function(){},e.on["ar.context.update"]=function(){},e.on["ar.reality.connect"]=function(){},e.connectEvent.addEventListener(function(){t.videoElement&&!function(){var i=t.videoElement,n=navigator.mediaDevices,r=(n.getUserMedia||n.mozGetUserMedia||n.msGetUserMedia||n.webkitGetUserMedia).bind(n);r({audio:!1,video:!0}).then(function(t){var n=function(){var e=!0,i=!1,n=void 0;try{for(var r,o=t.getTracks()[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;s.stop()}}catch(e){i=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(i)throw n}}};e.isConnected?(i.src=window.URL.createObjectURL(t),e.closeEvent.addEventListener(n)):n()}).catch(function(t){e.errorEvent.raiseEvent(t)});var o=t.viewService,s=-1,a=function n(r){if(e.isConnected){o.requestAnimationFrame(n);var a=o.suggestedViewState;if(a&&i.currentTime!=s){s=i.currentTime;var u=t.contextService.createFrameState(r,a.viewport,a.subviews,o.eye);e.send("ar.reality.frameState",u)}}};o.requestAnimationFrame(a)}()})}},{key:"load",value:function(){var e=this,t=this.sessionService.addManagedSessionPort(this.uri);t.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(t)});var i=this.sessionService.createSessionPort(this.uri);this.setupInternalSession(i),Promise.resolve().then(function(){var n=e.sessionService.createSynchronousMessageChannel();t.open(n.port1,e.sessionService.configuration),i.open(n.port2,{role:Ut.REALITY_VIEWER,title:"Live"})})}},{key:"getVideoFrame",value:function(e,t,i,n){return this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.context.drawImage(this.videoElement,0,0,this.canvas.width,this.canvas.height),this.context.getImageData(e,t,i,n)}}],[{key:"isAvailable",value:function(){if("undefined"!=typeof navigator&&navigator.mediaDevices){var e=navigator.mediaDevices;return!!(e.getUserMedia||e.mozGetUserMedia||e.msGetUserMedia||e.webkitGetUserMedia)}return!1}}]),t}(er)),e("LiveRealityViewer",fr=cr([N(Ai,un,Pn,Ri),lr("design:paramtypes",["function"==typeof(hr="undefined"!=typeof Ai&&Ai)&&hr||Object,"function"==typeof(dr="undefined"!=typeof un&&un)&&dr||Object,"function"==typeof(Mr="undefined"!=typeof Pn&&Pn)&&Mr||Object,"function"==typeof(wr="undefined"!=typeof Ri&&Ri)&&wr||Object,String])],fr)),gr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},yr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("HostedRealityViewer",pr=function(e){function t(e,i,n){Ye(this,t);var r=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));if(r.sessionService=e,r.viewportService=i,r.uri=n,r.type="hosted","undefined"!=typeof document&&document.createElement){var o=r.iframeElement=document.createElement("iframe");o.name=ce(),o.style.border="0",o.width="100%",o.height="100%",o.style.position="absolute",o.style.display="none";var s=r.viewportService.element;s.insertBefore(o,s.firstChild),r.presentChangeEvent.addEventListener(function(){r.iframeElement.style.display=r.isPresenting?"initial":"none"})}return r}return zt(t,e),qe(t,[{key:"destroy",value:function(){ur(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.iframeElement&&this.iframeElement.remove()}},{key:"load",value:function(){var e=this;"undefined"!=typeof document&&document.createElement&&!function(){var t=e.sessionService.addManagedSessionPort(e.uri);t.connectEvent.addEventListener(function(){e.connectEvent.raiseEvent(t)});var i=function i(n){if("ARGON_SESSION"===n.data.type){var r=n.data.name,o=n.ports&&n.ports[0];if(!o)throw new Error("Received an ARGON_SESSION message without a MessagePort object");r===e.iframeElement.name&&(window.removeEventListener("message",i),t.open(o,e.sessionService.configuration))}};window.addEventListener("message",i),e.iframeElement.src="",e.iframeElement.src=e.uri}()}}]),t}(er)),e("HostedRealityViewer",pr=gr([N(Ai,un),yr("design:paramtypes",["function"==typeof(Ar="undefined"!=typeof Ai&&Ai)&&Ar||Object,"function"==typeof(vr="undefined"!=typeof un&&un)&&vr||Object,String])],pr)),mr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Dr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("RealityViewerFactory",Er=function(){function e(t,i,n){Ye(this,e),this._createEmptyReality=t,this._createLiveReality=i,this._createHostedReality=n}return qe(e,[{key:"createRealityViewer",value:function(e){switch(er.getType(e)){case er.EMPTY:return this._createEmptyReality(e);case er.LIVE:return this._createLiveReality(e);case"hosted":return this._createHostedReality(e);default:throw new Error("Unsupported Reality Viewer: "+e)}}}]),e}()),e("RealityViewerFactory",Er=mr([N(yt.of(nr),yt.of(fr),yt.of(pr)),Dr("design:paramtypes",[Object,Object,Object])],Er)),e("RealityService",Nr=function(){function e(t,i){var n=this;Ye(this,e),this.sessionService=t,this.contextService=i,this._connectEvent=new Wt,this._changeEvent=new Wt,this.default=er.EMPTY,t.manager.on["ar.reality.connect"]=function(e){var t=e.id,i=n.sessionService.createSessionPort(t),r=n.sessionService.createSynchronousMessageChannel(),o="ar.reality.message.route."+t,s="ar.reality.message.send."+t,a="ar.reality.close."+t;r.port1.onmessage=function(e){n.sessionService.manager.send(o,e.data)},n.sessionService.manager.on[s]=function(e){r.port1.postMessage(e)},n.sessionService.manager.on[a]=function(){i.close()},i.connectEvent.addEventListener(function(){n.connectEvent.raiseEvent(i)}),n.sessionService.manager.closeEvent.addEventListener(function(){i.close(),delete n.sessionService.manager.on[s],delete n.sessionService.manager.on[a]}),i.open(r.port2,n.sessionService.configuration)};var r=0;this.contextService.frameStateEvent.addEventListener(function(e){if(t.isRealityViewer&&t.manager.isConnected)if(0===t.manager.version[0]){var i=e.view=e.view||{};i.pose=e.entities["ar.eye"],i.viewport=e.viewport,i.subviews=e.subviews;for(var o=0;o<i.subviews.length;o++){var s=i.subviews[o];s.frustum=R(s.projectionMatrix,s.frustum||{})}delete e.entities["ar.eye"],delete e.viewport,delete e.subviews,r++%2===0&&t.manager.send("ar.reality.frameState",e),e.entities["ar.eye"]=i.pose,e.viewport=i.viewport,e.subviews=i.subviews}else t.manager.send("ar.reality.frameState",e);var a=e.reality,u=n._current;u!==a&&n.changeEvent.raiseEvent({previous:u,current:a})})}return qe(e,[{key:"install",value:function(e){return this.sessionService.manager.version[0]>=1!=!0?Promise.reject(new Error("Not supported")):this.sessionService.manager.request("ar.reality.install",{uri:e})}},{key:"uninstall",value:function(e){return this.sessionService.manager.version[0]>=1!=!0?Promise.reject(new Error("Not supported")):this.sessionService.manager.request("ar.reality.uninstall",{uri:e})}},{key:"request",value:function(e){return this.sessionService.manager.version[0]>=1!=!0?this.sessionService.manager.request("ar.reality.desired",{reality:{uri:e}}):this.sessionService.manager.request("ar.reality.request",{uri:e})}},{key:"setDesired",value:function(e){this.request(e?e.uri:er.DEFAULT)}},{key:"connectEvent",get:function(){return this._connectEvent}},{key:"changeEvent",get:function(){return this._changeEvent}},{key:"current",get:function(){return this._current}}]),e}()),mr([Q("request"),Dr("design:type",Function),Dr("design:paramtypes",[Object]),Dr("design:returntype",void 0)],Nr.prototype,"setDesired",null),e("RealityService",Nr=mr([E(),Dr("design:paramtypes",["function"==typeof(Tr="undefined"!=typeof Ai&&Ai)&&Tr||Object,"function"==typeof(Lr="undefined"!=typeof Ri&&Ri)&&Lr||Object])],Nr)),e("RealityServiceProvider",Ir=function(){function e(t,i,n,r,o,s,a){var u=this;Ye(this,e),this.sessionService=t,this.realityService=i,this.contextService=n,this.viewportServiceProvider=r,this.visibilityServiceProvider=o,this.focusServiceProvider=s,this.realityViewerFactory=a,this.installedEvent=new Wt,this.uninstalledEvent=new Wt,this._viewerByURI=new Map,this._installersByURI=new Map,t.ensureIsRealityManager(),t.manager.connectEvent.addEventListener(function(){setTimeout(function(){!u._presentingRealityViewer&&u.realityService.default&&u._handleRequest(u.sessionService.manager,{uri:u.realityService.default})})}),t.manager.closeEvent.addEventListener(function(){u._viewerByURI.forEach(function(e){e.destroy()})}),t.connectEvent.addEventListener(function(e){Ut.isRealityViewer(e.info.role)||(e.on["ar.reality.install"]=function(t){var i=t.uri;return u._handleInstall(e,i)},e.on["ar.reality.uninstall"]=function(t){var i=t.uri;return u._handleUninstall(e,i)},e.on["ar.reality.request"]=function(t){return u._handleRequest(e,t)},e.on["ar.reality.desired"]=function(t){var i=t.reality;if(i&&i.type){var n=i.type;i.uri=i.uri||"reality:"+n,"hosted"===n&&(i.uri=i.url)}u._handleRequest(e,{uri:i.uri})})}),this.viewportServiceProvider.forwardedUIEvent.addEventListener(function(e){var t=u._presentingRealityViewer&&u._presentingRealityViewer.session;t&&r.sendUIEventToSession(e,t)})}return qe(e,[{key:"_handleInstall",value:function(e,t){var i=this,n=this._installersByURI.get(t);n?n.add(e):!function(){var r=i.realityViewerFactory.createRealityViewer(t);i._viewerByURI.set(t,r),n=new Set,n.add(e),i._installersByURI.set(t,n),r.connectEvent.addEventListener(function(n){if(!Ut.isRealityViewer(n.info.role))throw n.sendError({message:"Expected a reality viewer"}),n.close(),new Error('The application "'+n.uri+'" does not support being loaded as a reality viewer');n.on["ar.reality.frameState"]=function(e){i._presentingRealityViewer===r&&(e.reality=r.uri,i.contextService.submitFrameState(e))},n.info.supportsCustomProtocols&&!function(){i._connectViewerWithSession(n,i.sessionService.manager);var t=!0,r=!1,o=void 0;try{for(var s,a=i.sessionService.managedSessions[Symbol.iterator]();!(t=(s=a.next()).done);t=!0)e=s.value,i._connectViewerWithSession(n,e)}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}var u=i.sessionService.connectEvent.addEventListener(function(e){i._connectViewerWithSession(n,e)});n.closeEvent.addEventListener(function(){return u()})}();var o=r.presentChangeEvent.addEventListener(function(){i.visibilityServiceProvider.set(n,r.isPresenting)});i.visibilityServiceProvider.set(n,r.isPresenting),n.closeEvent.addEventListener(function(){o(),i.contextService.entities.removeById(n.uri),console.log("Reality session closed: "+t)})}),r.load(),i.installedEvent.raiseEvent({viewer:r})}()}},{key:"_connectViewerWithSession",value:function(e,t){if(!Ut.isRealityViewer(t.info.role)){var i=ce(),n="ar.reality.message.route."+i,r="ar.reality.message.send."+i,o="ar.reality.close."+i;e.on[n]=function(e){t.send(r,e)},t.on[n]=function(t){e.send(r,t)},e.send("ar.reality.connect",{id:i}),t.send("ar.reality.connect",{id:i}),e.closeEvent.addEventListener(function(){t.send(o)}),t.closeEvent.addEventListener(function(){e.send(o),e.close()})}}},{key:"_handleUninstall",value:function(e,t){var i=this._installersByURI.get(t);if(i&&0===i.size){var n=this._viewerByURI.get(t);this._viewerByURI.delete(t),n.destroy(),this.uninstalledEvent.raiseEvent({viewer:n})}return Promise.reject(new Error("Unable to uninstall a reality viewer which is not installed"))}},{key:"_handleRequest",value:function(e,t){if(this.focusServiceProvider.session===e||e===this.sessionService.manager){var i=t&&t.uri||er.DEFAULT;switch(i){case er.DEFAULT:i=this.realityService.default}var n=this._viewerByURI.get(i);return n||this._handleInstall(e,i),this._setPresentingRealityViewer(this._viewerByURI.get(i)),Promise.resolve()}throw new Error("Request Denied")}},{key:"_setPresentingRealityViewer",value:function(e){if(!e)throw new Error("Invalid State. Expected a RealityViewer instance");this._presentingRealityViewer!==e&&(this._viewerByURI.forEach(function(t){t.setPresenting(t===e)}),this._presentingRealityViewer=e,console.log("Presenting reality viewer changed to: "+e.uri))}},{key:"getViewerByURI",value:function(e){return this._viewerByURI.get(e)}},{key:"presentingRealityViewer",get:function(){return this._presentingRealityViewer}}]),e}()),e("RealityServiceProvider",Ir=mr([E,Dr("design:paramtypes",["function"==typeof(jr="undefined"!=typeof Ai&&Ai)&&jr||Object,Nr,"function"==typeof(xr="undefined"!=typeof Ri&&Ri)&&xr||Object,"function"==typeof(Sr="undefined"!=typeof cn&&cn)&&Sr||Object,"function"==typeof(Or="undefined"!=typeof en&&en)&&Or||Object,"function"==typeof(Cr="undefined"!=typeof Hi&&Hi)&&Cr||Object,Er])],Ir)),zr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},br=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_r="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='768' height='768'%3E%3Cpath fill='white' d='M448.5 96H672v223.5h-64.5v-114L294 519l-45-45 313.5-313.5h-114V96zm159 511.5V384H672v223.5c0 34.5-30 64.5-64.5 64.5h-447c-36 0-64.5-30-64.5-64.5v-447C96 126 124.5 96 160.5 96H384v64.5H160.5v447h447z'/%3E%3C/svg%3E\")",kr="url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3E%3Cpath fill='white' d='M256 96C144.34 96 47.56 161.02 0 256c47.56 94.98 144.34 160 256 160 111.656 0 208.438-65.02 256-160-47.558-94.98-144.344-160-256-160zm126.225 84.852c30.08 19.187 55.57 44.887 74.717 75.148-19.146 30.26-44.637 55.96-74.718 75.148C344.427 355.258 300.78 368 256 368s-88.43-12.743-126.226-36.852c-30.08-19.186-55.57-44.886-74.716-75.148 19.146-30.262 44.637-55.962 74.717-75.148 1.96-1.25 3.938-2.46 5.93-3.65C130.725 190.866 128 205.612 128 221c0 70.69 57.308 128 128 128s128-57.31 128-128c0-15.387-2.726-30.134-7.704-43.8 1.99 1.19 3.97 2.402 5.93 3.652zM256 208c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48z'/%3E%3C/svg%3E\")",Rr="url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20245.82%20141.73%22%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill%3A%23fff%3Bfill-rule%3Aevenodd%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3Emask%3C%2Ftitle%3E%3Cpath%20class%3D%22a%22%20d%3D%22M175.56%2C111.37c-22.52%2C0-40.77-18.84-40.77-42.07S153%2C27.24%2C175.56%2C27.24s40.77%2C18.84%2C40.77%2C42.07S198.08%2C111.37%2C175.56%2C111.37ZM26.84%2C69.31c0-23.23%2C18.25-42.07%2C40.77-42.07s40.77%2C18.84%2C40.77%2C42.07-18.26%2C42.07-40.77%2C42.07S26.84%2C92.54%2C26.84%2C69.31ZM27.27%2C0C11.54%2C0%2C0%2C12.34%2C0%2C28.58V110.9c0%2C16.24%2C11.54%2C30.83%2C27.27%2C30.83H99.57c2.17%2C0%2C4.19-1.83%2C5.4-3.7L116.47%2C118a8%2C8%2C0%2C0%2C1%2C12.52-.18l11.51%2C20.34c1.2%2C1.86%2C3.22%2C3.61%2C5.39%2C3.61h72.29c15.74%2C0%2C27.63-14.6%2C27.63-30.83V28.58C245.82%2C12.34%2C233.93%2C0%2C218.19%2C0H27.27Z%22%2F%3E%3C%2Fsvg%3E)",Pr='url(\'data:image/svg+xml;utf8,<svg width="512" height="512" version="1.1" viewBox="-3 -3 17 17" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" id="Page-1" stroke="none" stroke-width="1"><g fill="white" id="Core" transform="translate(-215.000000, -257.000000)"><g id="fullscreen" transform="translate(215.000000, 257.000000)"><path d="M2,9 L0,9 L0,14 L5,14 L5,12 L2,12 L2,9 L2,9 Z M0,5 L2,5 L2,2 L5,2 L5,0 L0,0 L0,5 L0,5 Z M12,12 L9,12 L9,14 L14,14 L14,9 L12,9 L12,12 L12,12 Z M9,0 L9,2 L12,2 L12,5 L14,5 L14,0 L9,0 L9,0 Z" id="Shape"/></g></g></g></svg>\')',Ur="url(data:image/jpeg;base64,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)",
e("DefaultUIService",Qr=function(){function e(t,i,n,r,o){var s=this;Ye(this,e),this.sessionService=t,this.viewportService=i,this.realityService=n,this.realityServiceProvider=r,this.viewServiceProvider=o,this.realityViewerItemElements=new Map,this.menuItems=[],this.menuOpen=!1;var a=this.sessionService.configuration.defaultUI||{};document&&!a.disable&&!function(){var e=document.createElement("style");e.type="text/css",document.head.insertBefore(e,document.head.firstChild);var t=e.sheet;t.insertRule("\n                .argon-ui {\n                    -webkit-tap-highlight-color: transparent;\n                    -webkit-user-select: none;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-button {\n                    background-image: "+Ur+";\n                    width: 144px;\n                    height: 144px;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-blur {\n                    background-color: rgba(238, 178, 17, 0.7);\n                    -webkit-backdrop-filter: blur(5px);\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-box {\n                    webkit-user-select: none;\n                    ms-user-select: none;\n                    user-select: none;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-list-item {\n                    align-items: center;\n                    background: white;\n                    border-top: 1px solid lightgrey;\n                    display: flex;\n                    height: 20px;\n                    justify-content: space-between;\n                    padding: 20px;\n                    width: 100%;\n                    cursor: pointer;\n                    font-family: 'Sans-serif';\n                    font-size: 12px;\n                    color: #5F5F5F;\n                    box-sizing: border-box;\n                }\n            ",t.cssRules.length),t.insertRule("\n                .argon-ui-list-item:hover {\n                    background: rgb(240,240,240);\n                }\n            ",t.cssRules.length),s.element=document.createElement("div"),s.element.className="argon-ui",s.element.style.position="absolute",s.element.style.bottom="0",s.element.style.right="0",s.element.style.userSelect="none",s.element.style.webkitUserSelect="none",s.element.style.zIndex="10",s.viewportService.rootElement.appendChild(s.element),s.sessionService.manager.closeEvent.addEventListener(function(){s.element.remove()});var i=document.createElement("div");i.className="argon-overlay",i.style.width="100%",i.style.height="100%",i.style.display="flex",i.style.alignItems="center",i.addEventListener("click",function(e){e.target===i&&(i.remove(),e.stopPropagation())}),s.realityViewerSelectorElement=document.createElement("div"),s.realityViewerSelectorElement.classList.add("argon-ui-box"),s.realityViewerSelectorElement.classList.add("argon-ui-blur"),s.realityViewerSelectorElement.style.maxWidth="300px",s.realityViewerSelectorElement.style.maxHeight="70%",s.realityViewerSelectorElement.style.width="70%",s.realityViewerSelectorElement.style.margin="auto",s.realityViewerSelectorElement.style.padding="20px",s.realityViewerSelectorElement.style.boxShadow="rgb(102,102,102) 0 5px 20px",i.appendChild(s.realityViewerSelectorElement);var n=document.createElement("h2");n.innerText="Select a Reality",n.style.fontFamily="Sans-Serif",n.style.color="white",n.style.marginTop="0",n.style.flex="0 1 auto",s.realityViewerSelectorElement.appendChild(n),s.realityViewerListElement=document.createElement("div"),s.realityViewerListElement.style.flex="1 1 auto",s.realityViewerListElement.style.maxHeight="250px",s.realityViewerListElement.style.overflowY="auto",s.realityViewerSelectorElement.appendChild(s.realityViewerListElement),s.realityServiceProvider.installedEvent.addEventListener(function(e){var t=e.viewer,n=t.uri,r=document.createElement("div");r.innerText=n,t.connectEvent.addEventListener(function(e){r.innerText=e.info.title||n}),r.className="argon-ui-list-item",s.realityViewerItemElements.set(n,r),s.realityViewerListElement.appendChild(r),r.addEventListener("click",function(){s.realityService.request(n),i.remove()})}),s.realityServiceProvider.uninstalledEvent.addEventListener(function(e){var t=e.viewer,i=t.uri,n=s.realityViewerItemElements.get(i);s.realityViewerItemElements.delete(i),n.remove()}),s.menuBackgroundElement=document.createElement("div"),s.menuBackgroundElement.className="argon-ui-blur",s.menuBackgroundElement.style.position="absolute",s.menuBackgroundElement.style.bottom="-150px",s.menuBackgroundElement.style.right="-150px",s.menuBackgroundElement.style.width="300px",s.menuBackgroundElement.style.height="300px",s.menuBackgroundElement.style.transform="scale(0.1)",s.menuBackgroundElement.style.transition="transform 0.3s, opacity 0.3s",s.menuBackgroundElement.style.borderRadius="150px",s.menuBackgroundElement.style.zIndex="-2",s.element.appendChild(s.menuBackgroundElement);var r=document.createElement("div");s.element.appendChild(r),r.className="argon-ui-button",r.style.position="absolute",r.style.bottom="0",r.style.right="0",r.style.transform="scale(0.36)",r.style.transformOrigin="110% 110%",r.style.borderRadius="72px",r.style.cursor="pointer",r.style.pointerEvents="auto",r.style.zIndex="-1",s.openInArgonMenuItem=s._createMenuItem(_r,"Open in Argon",function(){s.menuOpen=!1,s.updateMenu(),U()}),s.hmdMenuItem=s._createMenuItem(Rr,"Toggle HMD",function(){s.menuOpen=!1,s.updateMenu(),s.viewServiceProvider.isPresentingHMD?s.viewServiceProvider.exitPresentHMD():ci?s.viewportService.requestPresentationMode(sn.IMMERSIVE).then(function(){return s.viewServiceProvider.requestPresentHMD()}):s.viewServiceProvider.requestPresentHMD()}),s.realityMenuItem=s._createMenuItem(kr,"Select Reality Viewer...",function(){s.menuOpen=!1,s.updateMenu(),i.style.backgroundColor="rgba(0,0,0,0.3)",s.element.appendChild(i)}),s.maximizeMenuItem=s._createMenuItem(Pr,"Toggle Immersive View",function(){s.menuOpen=!1,s.updateMenu(),s.viewportService.presentationMode===sn.IMMERSIVE?s.viewportService.requestPresentationMode(sn.PAGE):s.viewportService.requestPresentationMode(sn.IMMERSIVE)}),s.onSelect(r,s.toggleMenu.bind(s)),s.updateMenu(),s.viewportService.changeEvent.addEventListener(function(){s.updateMenu()})}()}return qe(e,[{key:"_createMenuItem",value:function(e,t,i){var n=document.createElement("div");return n.style.position="absolute",n.style.bottom="-20px",n.style.right="-20px",n.style.textAlign="left",n.style.width="40px",n.style.height="40px",n.style.fontFamily="Arial Black",n.style.color="black",n.style.cursor="default",n.style.textShadow="-1px -1px 0px #545454, 1px -1px 0px #545454, -1px 1px 0px #545454, 1px 1px 0px #545454",n.style.transition="transform 0.3s ease 0.1s, opacity 0.3s ease 0.1s",n.style.opacity="0",n.style.pointerEvents="none",n.style.transformOrigin="50% 50%",n.style.backgroundImage=e,n.style.backgroundSize="100% 100%",n.style.backgroundRepeat="no-repeat",n.style.zIndex="2",n.style.cursor="pointer",this.element.appendChild(n),n.title=t,i&&this.onSelect(n,i),n.addEventListener("mouseenter",function(){n.style.color="#eeb211"}),n.addEventListener("mouseleave",function(){n.style.color="white"}),n}},{key:"onSelect",value:function(e,t){e.addEventListener("touchend",function(e){e.preventDefault(),e.stopPropagation(),t()}),e.addEventListener("click",function(e){e.stopPropagation(),t()})}},{key:"toggleMenu",value:function(){this.menuOpen?this.menuOpen=!1:this.menuOpen=!0,this.updateMenu()}},{key:"updateMenu",value:function(){var e=this;this.viewServiceProvider.isPresentingHMD?this.element.style.display="none":this.element.style.display="block",this.menuItems=[],this.menuItems.push(null),ci&&this.menuItems.push(this.openInArgonMenuItem);var t=this.viewportService.rootElement.parentElement,i=t?t.clientWidth:0,n=t?t.clientHeight:0;window.innerWidth===i&&window.innerHeight===n||this.menuItems.push(this.maximizeMenuItem),(ci||navigator.vrEnabled)&&this.menuItems.push(this.hmdMenuItem),this.realityViewerItemElements.size>0&&this.menuItems.push(this.realityMenuItem),this.menuItems.push(null),this.menuOpen?!function(){var t=e.menuItems.length;e.menuItems.forEach(function(e,i){if(e){var n=i/(t-1)*(Math.PI/2+Math.PI/8)-Math.PI/16,r=100,o=r*Math.cos(n),s=r*Math.sin(n);e.style.transform="translateX("+-o+"px) translateY("+-s+"px) scale(0.8)",e.style.opacity="1",e.style.pointerEvents="auto"}}),e.menuBackgroundElement.style.transform="scale(1)"}():(this.menuItems.forEach(function(e,t){e&&(e.style.transform="scale(0.2)",e.style.opacity="0",e.style.pointerEvents="none")}),this.menuBackgroundElement.style.transform="scale(0.1)")}}]),e}()),e("DefaultUIService",Qr=zr([E(),br("design:paramtypes",["function"==typeof(Br="undefined"!=typeof Ai&&Ai)&&Br||Object,"function"==typeof(qr="undefined"!=typeof un&&un)&&qr||Object,"function"==typeof(Yr="undefined"!=typeof Nr&&Nr)&&Yr||Object,"function"==typeof(Fr="undefined"!=typeof Ir&&Ir)&&Fr||Object,"function"==typeof(Vr="undefined"!=typeof Un&&Un)&&Vr||Object])],Qr)),Gr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("VuforiaServiceProvider",Hr=function e(t){Ye(this,e),t.isRealityManager&&(t.connectEvent.addEventListener(function(e){e.on["ar.vuforia.isAvailable"]=function(){return Promise.resolve({available:!1})}}),t.connectEvent.addEventListener(function(e){e.on["ar.vuforia.init"]=function(){return Promise.reject(new Error("Vuforia is not supported on this system"))}}))}),e("VuforiaServiceProvider",Hr=Gr([N(Ai),Wr("design:paramtypes",["function"==typeof(eo="undefined"!=typeof Ai&&Ai)&&eo||Object])],Hr)),e("VuforiaService",Zr=function(){function e(t){Ye(this,e),this.sessionService=t}return qe(e,[{key:"isAvailable",value:function(){return this.sessionService.manager.request("ar.vuforia.isAvailable").then(function(e){return e.available})}},{key:"init",value:function(e){var t=this;if("string"==typeof e&&(e={encryptedLicenseData:e}),!e.encryptedLicenseData||"string"!=typeof e.encryptedLicenseData)throw new Error("options.encryptedLicenseData is required.");return this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Xr(t.sessionService.manager)})}},{key:"initWithUnencryptedKey",value:function(e){var t=this;return"string"==typeof e&&(e={key:e}),this.sessionService.manager.request("ar.vuforia.init",e).then(function(){return new Xr(t.sessionService.manager)})}}]),e}()),e("VuforiaService",Zr=Gr([N(Ai,Hr),Wr("design:paramtypes",["function"==typeof(to="undefined"!=typeof Ai&&Ai)&&to||Object])],Zr)),e("VuforiaAPI",Xr=function e(t){Ye(this,e),this.objectTracker=new Jr(t)}),e("VuforiaTracker",Kr=function e(){Ye(this,e)}),e("VuforiaObjectTracker",Jr=function(e){function t(e){Ye(this,t);var i=Ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.managerSession=e,i.dataSetLoadEvent=new Wt,i.dataSetUnloadEvent=new Wt,i.dataSetActivateEvent=new Wt,i.dataSetDeactivateEvent=new Wt,i._deprecatedDataSetInstanceMap=new Map,e.on["ar.vuforia.objectTrackerLoadDataSetEvent"]=function(e){i.dataSetLoadEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerUnloadDataSetEvent"]=function(e){i.dataSetUnloadEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerActivateDataSetEvent"]=function(e){var t=i._deprecatedDataSetInstanceMap.get(e.id);t?(t._onActivate(),i.dataSetActivateEvent.raiseEvent(t)):i.dataSetActivateEvent.raiseEvent(e)},e.on["ar.vuforia.objectTrackerDeactivateDataSetEvent"]=function(e){var t=i._deprecatedDataSetInstanceMap.get(e.id);t?(t._onDeactivate(),i.dataSetActivateEvent.raiseEvent(t)):i.dataSetDeactivateEvent.raiseEvent(e)},i}return zt(t,e),qe(t,[{key:"createDataSet",value:function(e){var t=this;return e&&window.document&&(e=z(e)),this.managerSession.request("ar.vuforia.objectTrackerCreateDataSet",{url:e}).then(function(e){var i=new $r(e.id,t.managerSession);return t._deprecatedDataSetInstanceMap.set(e.id,i),i})}},{key:"createDataSetFromURI",value:function(e){return this.managerSession.request("ar.vuforia.objectTrackerCreateDataSet",{uri:e}).then(function(e){return e.id})}},{key:"loadDataSet",value:function(e){return this.managerSession.request("ar.vuforia.objectTrackerLoadDataSet",{id:e})}},{key:"unloadDataSet",value:function(e){return this.managerSession.request("ar.vuforia.objectTrackerUnloadDataSet",{id:e})}},{key:"activateDataSet",value:function(e){return e=e instanceof $r?e.id:e,this.managerSession.request("ar.vuforia.objectTrackerActivateDataSet",{id:e})}},{key:"deactivateDataSet",value:function(e){return e=e instanceof $r?e.id:e,this.managerSession.request("ar.vuforia.objectTrackerDeactivateDataSet",{id:e})}}]),t}(Kr)),Gr([Q("createDataSetFromURI"),Wr("design:type",Function),Wr("design:paramtypes",[String]),Wr("design:returntype",Object)],Jr.prototype,"createDataSet",null),e("DeprecatedVuforiaDataSet",$r=function(){function e(t,i){Ye(this,e),this.id=t,this.managerSession=i,this._isActive=!1}return qe(e,[{key:"_onActivate",value:function(){this._isActive=!0}},{key:"_onDeactivate",value:function(){this._isActive=!1}},{key:"fetch",value:function(){return this.managerSession.request("ar.vuforia.dataSetFetch",{id:this.id})}},{key:"load",value:function(){var e=this;return this.managerSession.request("ar.vuforia.dataSetLoad",{id:this.id}).then(function(t){return e._trackables=t,t})}},{key:"isActive",value:function(){return this._isActive}},{key:"getTrackables",value:function(){return this._trackables}}]),e}()),io=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},no=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},e("ArgonSystemProvider",ro=function e(t,i,n,r,o,s,a,u){Ye(this,e),this.context=t,this.focus=i,this.location=n,this.visibility=r,this.reality=o,this.view=s,this.viewport=a,this.vuforia=u}),e("ArgonSystemProvider",ro=io([E(),no("design:paramtypes",["function"==typeof(so="undefined"!=typeof Pi&&Pi)&&so||Object,"function"==typeof(ao="undefined"!=typeof Hi&&Hi)&&ao||Object,"function"==typeof(uo="undefined"!=typeof Dn&&Dn)&&uo||Object,"function"==typeof(co="undefined"!=typeof en&&en)&&co||Object,"function"==typeof(lo="undefined"!=typeof Ir&&Ir)&&lo||Object,"function"==typeof(fo="undefined"!=typeof Un&&Un)&&fo||Object,"function"==typeof(ho="undefined"!=typeof cn&&cn)&&ho||Object,"function"==typeof(Mo="undefined"!=typeof Hr&&Hr)&&Mo||Object])],ro)),e("ArgonSystem",oo=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Tt;Ye(this,e),this.container=n,e.instance||(e.instance=this),n.registerInstance(an,t||an),n.registerInstance("config",i),n.hasResolver("containerElement")||n.registerInstance("containerElement",null),Ut.isRealityManager(i.role)?(n.registerSingleton(pi,vi),"undefined"!=typeof document&&n.get(Qr),this.reality.default=er.EMPTY):Ei.isAvailable()?n.registerSingleton(pi,Ei):mi.isAvailable()?n.registerSingleton(pi,mi):Di.isAvailable()&&n.registerSingleton(pi,Di);var r=!0,o=!1,s=void 0;try{for(var a,u=Object.getOwnPropertyNames(e.prototype)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;this[c]}}catch(e){o=!0,s=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}this.session.connect()}return qe(e,[{key:"destroy",value:function(){this.session.manager.close(),e.instance===this&&(e.instance=void 0)}},{key:"provider",get:function(){return this.session.ensureIsRealityManager(),this.container.get(ro)}},{key:"context",get:function(){return this.container.get(Ri)}},{key:"focus",get:function(){return this.container.get(Wi)}},{key:"location",get:function(){return this.container.get(mn)}},{key:"reality",get:function(){return this.container.get(Nr)}},{key:"session",get:function(){return this.container.get(Ai)}},{key:"view",get:function(){return this.container.get(Pn)}},{key:"viewport",get:function(){return this.container.get(un)}},{key:"visibility",get:function(){return this.container.get($i)}},{key:"vuforia",get:function(){return this.container.get(Zr)}},{key:"updateEvent",get:function(){return this.context.updateEvent}},{key:"renderEvent",get:function(){return this.context.renderEvent}},{key:"focusEvent",get:function(){return this.focus.focusEvent}},{key:"blurEvent",get:function(){return this.focus.blurEvent}}]),e}()),e("DI",Lt),e("Cesium",xt),e("RealityViewer",er),e("EmptyRealityViewer",nr),e("LiveRealityViewer",fr),e("HostedRealityViewer",pr),e("ArgonSystemProvider",ro),e("ArgonSystem",oo),e("init",G),e("initRealityViewer",W),e("AVERAGE_HUMAN_HEIGHT",bt),e("EYE_ENTITY_ID",_t),e("PHYSICAL_EYE_ENTITY_ID",kt),e("STAGE_ENTITY_ID",Rt),e("PHYSICAL_STAGE_ENTITY_ID",Pt),e("Role",Ut),e("Configuration",Qt),e("Viewport",Bt),e("NormalizedViewport",qt),e("SubviewType",Yt),e("SerializedEntityState",Ft),e("SerializedSubview",Vt),e("SerializedSubviewList",Gt),e("PoseStatus",xi),e("ContextService",Ri),e("ContextServiceProvider",Pi),e("FocusService",Wi),e("FocusServiceProvider",Hi),e("LocationService",mn),e("LocationServiceProvider",Dn),e("RealityViewerFactory",Er),e("RealityService",Nr),e("RealityServiceProvider",Ir),e("version",hi),e("SessionPort",gi),e("SessionPortFactory",yi),e("ConnectService",pi),e("SessionService",Ai),e("LoopbackConnectService",vi),e("DOMConnectService",mi),e("DebugConnectService",Di),e("WKWebViewConnectService",Ei),e("DefaultUIService",Qr),e("getAncestorReferenceFrames",x),e("getEntityPositionInReferenceFrame",S),e("getEntityPosition",ii),e("getEntityOrientationInReferenceFrame",O),e("getEntityOrientation",ni),e("getSerializedEntityState",C),e("resolveURL",z),e("parseURL",b),e("resolveElement",_),e("decomposePerspectiveOffCenterProjectionMatrix",k),e("decomposePerspectiveProjectionMatrix",R),e("convertEntityReferenceFrame",P),e("isIOS",ci),e("openInArgonApp",U),e("requestAnimationFrame",fi),e("deprecated",Q),e("synthesizeEvent",$t),e("createEventForwarder",j),e("CommandQueue",Ht),e("Event",Wt),e("MessageChannelLike",Zt),e("SynchronousMessageChannel",Xt),e("MessageChannelFactory",Kt),e("Subview",xn),e("ViewService",Pn),e("ViewServiceProvider",Un),e("PresentationMode",sn),e("ParentElement",an),e("ViewportService",un),e("ViewportServiceProvider",cn),e("VisibilityService",$i),e("VisibilityServiceProvider",en),e("VuforiaServiceProvider",Hr),e("VuforiaService",Zr),e("VuforiaAPI",Xr),e("VuforiaTracker",Kr),e("VuforiaObjectTracker",Jr),e("DeprecatedVuforiaDataSet",$r)}}})})(function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():Argon=e()});
>>>>>>> b2935729304bfe564be76b9c64654b4bf3ec5250
